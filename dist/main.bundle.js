webpackJsonp([1],{

/***/ "../../../../../src async recursive":
/***/ (function(module, exports) {

function webpackEmptyContext(req) {
	throw new Error("Cannot find module '" + req + "'.");
}
webpackEmptyContext.keys = function() { return []; };
webpackEmptyContext.resolve = webpackEmptyContext;
module.exports = webpackEmptyContext;
webpackEmptyContext.id = "../../../../../src async recursive";

/***/ }),

/***/ "../../../../../src/app/admin-page.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_account_service__ = __webpack_require__("../../../../../src/app/service/account.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_user_service__ = __webpack_require__("../../../../../src/app/service/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__entity_account__ = __webpack_require__("../../../../../src/app/entity/account.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__entity_user__ = __webpack_require__("../../../../../src/app/entity/user.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AdminPageComponent; });
/**
 * Created by Aleksandr on 20.01.17.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var AdminPageComponent = (function () {
    function AdminPageComponent(_http, _configService, _accountService, _userService) {
        this._http = _http;
        this._configService = _configService;
        this._accountService = _accountService;
        this._userService = _userService;
        this.selectedAcc = new __WEBPACK_IMPORTED_MODULE_5__entity_account__["a" /* Account */]();
        this.selectedUser = new __WEBPACK_IMPORTED_MODULE_6__entity_user__["a" /* User */]();
    }
    AdminPageComponent.prototype.ngOnInit = function () {
        this.listAccounts();
    };
    AdminPageComponent.prototype.selectAccount = function (acc) {
        this.selectedAcc = acc;
        this.listUsers();
    };
    AdminPageComponent.prototype.selectUser = function (user) {
        this.selectedUser = user;
    };
    AdminPageComponent.prototype.listAccounts = function () {
        var _this = this;
        this._accountService.list().subscribe(function (accs) {
            _this.accounts = accs;
        });
    };
    AdminPageComponent.prototype.listUsers = function () {
        var _this = this;
        this._userService.listX(this.selectedAcc.id, null, null, null).subscribe(function (users) {
            _this.users = users;
        });
    };
    AdminPageComponent.prototype.addAccount = function () {
        var acc = new __WEBPACK_IMPORTED_MODULE_5__entity_account__["a" /* Account */]();
        acc.name = "account_" + this.makeId();
        acc.location = "msk";
        this._accountService.save(acc);
        this.listAccounts();
    };
    AdminPageComponent.prototype.addUser = function () {
        var usr = new __WEBPACK_IMPORTED_MODULE_6__entity_user__["a" /* User */]();
        usr.name = "НОВЫЙ ПОЛЬЗОВАТЕЛЬ";
        usr.role = "AGENT";
        usr.login = "user_" + this.makeId();
        usr.password = "12345";
        usr.accountId = this.selectedAcc.id;
        this._userService.saveX(usr);
        this.listUsers();
    };
    AdminPageComponent.prototype.saveAccount = function () {
        this._accountService.save(this.selectedAcc);
    };
    AdminPageComponent.prototype.saveUser = function () {
        this._userService.saveX(this.selectedUser);
    };
    AdminPageComponent.prototype.makeId = function () {
        var id = "";
        var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
        for (var i = 0; i < 5; i++)
            id += possible.charAt(Math.floor(Math.random() * possible.length));
        return id;
    };
    return AdminPageComponent;
}());
AdminPageComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'admin-page',
        styles: ["\n        .admin-page {\n            position: absolute;\n            top: 0px;\n            left: 0px;\n\n            width: 100%;\n            height: 100%;\n            \n            background-color: #fff;\n            \n            padding: 15px;\n        }\n        \n        .account-list {\n            height: 50%;\n            width: 50%;\n            overflow-y: scroll;\n            display: inline-block;\n        }\n\n        .account {\n            cursor: pointer;\n        }\n\n        .account.selected {\n            background-color: #bbbbbb;\n        }\n\n        .user {\n            cursor: pointer;\n        }\n\n        .user.selected {\n            background-color: #bbbbbb;\n        }\n\n        .user-list {\n            height: 50%;\n            width: 49.5%;\n            overflow-y: scroll;\n            display: inline-block;            \n        }\n        \n        .properties {\n            height: 50%;\n        }\n        \n        .account-properties {\n            width: 49.5%;\n            display: inline-block;\n        }\n        \n        .user-properties {\n            width: 49.5%;\n            display: inline-block;        \n        }\n        \n        .header-1 {\n            font-size: 19px;\n            font-weight: 400;\n        }\n        \n        .butt {\n            border: 1px solid;\n            display: table;\n            margin: 15px;\n            text-align: center;\n            min-width: 20px;\n            cursor: hand;\n        }\n    "],
        template: "\n        <div class=\"admin-page\">\n            <div class=\"\">\n                <div class=\"account-list\">\n                    <div *ngFor=\"let acc of accounts\" (click)=\"selectAccount(acc)\">\n                        <div class=\"account\" [ngClass]=\"{selected: acc == selectedAcc}\">\n                            <span class=\"header-1\"> Account {{acc.id}} </span> (<span> {{acc.name}}</span>, <span> {{acc.location}}</span>)<br>\n                        </div>\n                    </div>\n                    <div class=\"butt\" (click)=\"addAccount()\">\n                        +\n                    </div>\n                </div>\n                <div class=\"user-list\">\n                    <div *ngFor=\"let user of users\" (click)=\"selectUser(user)\">\n                        <div class=\"user\" [ngClass]=\"{selected: user == selectedUser}\">\n                            <span class=\"header-1\"> User {{user.id}} </span> (<span> {{user.login}}</span>, <span> {{user.role}}</span>)<br>\n                        </div>\n                    </div>\n                    <div class=\"butt\" (click)=\"addUser()\">\n                        +\n                    </div>\n                </div>\n            </div>\n            <div class=\"properties\">\n                <div class=\"account-properties\">\n                    <div>\u0418\u043C\u044F: </div><input type=\"text\" class=\"view-value edit-value\" [(ngModel)]=\"selectedAcc.name\"><br>\n                    <div>\u0413\u043E\u0440\u043E\u0434: </div><input type=\"text\" class=\"view-value edit-value\" [(ngModel)]=\"selectedAcc.location\">       \n                    <div class=\"butt\" (click)=\"saveAccount()\">\u0421\u041E\u0425\u0420\u0410\u041D\u0418\u0422\u042C</div>\n                </div>\n                <div class=\"user-properties\">\n                    <div>\u0418\u043C\u044F: </div><input type=\"text\" class=\"view-value edit-value\" [(ngModel)]=\"selectedUser.name\">\n                    <div>\u0420\u043E\u043B\u044C: </div><input type=\"text\" class=\"view-value edit-value\" [(ngModel)]=\"selectedUser.role\">\n                    <div>\u041B\u043E\u0433\u0438\u043D: </div><input type=\"text\" class=\"view-value edit-value\" [(ngModel)]=\"selectedUser.login\">\n                    <div>\u041F\u0430\u0440\u043E\u043B\u044C: </div><input type=\"text\" class=\"view-value edit-value\" [(ngModel)]=\"selectedUser.password\">\n                    <div class=\"butt\" (click)=\"saveUser()\">\u0421\u041E\u0425\u0420\u0410\u041D\u0418\u0422\u042C</div>\n                </div>\n            </div>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["c" /* Http */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["c" /* Http */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__service_config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__service_config_service__["a" /* ConfigService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__service_account_service__["a" /* AccountService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__service_account_service__["a" /* AccountService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_4__service_user_service__["a" /* UserService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__service_user_service__["a" /* UserService */]) === "function" && _d || Object])
], AdminPageComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=admin-page.component.js.map

/***/ }),

/***/ "../../../../../src/app/app.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_request_service__ = __webpack_require__("../../../../../src/app/service/request.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_person_service__ = __webpack_require__("../../../../../src/app/service/person.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_user_service__ = __webpack_require__("../../../../../src/app/service/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_offer_service__ = __webpack_require__("../../../../../src/app/service/offer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_organisation_service__ = __webpack_require__("../../../../../src/app/service/organisation.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__service_task_service__ = __webpack_require__("../../../../../src/app/service/task.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__service_analysis_service__ = __webpack_require__("../../../../../src/app/service/analysis.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__service_history_service__ = __webpack_require__("../../../../../src/app/service/history.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__service_photo_service__ = __webpack_require__("../../../../../src/app/service/photo.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__service_account_service__ = __webpack_require__("../../../../../src/app/service/account.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__service_session_service__ = __webpack_require__("../../../../../src/app/service/session.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__service_upload_service__ = __webpack_require__("../../../../../src/app/service/upload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__service_suggestion_service__ = __webpack_require__("../../../../../src/app/service/suggestion.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__service_notebook_service__ = __webpack_require__("../../../../../src/app/service/notebook.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

















var AppComponent = (function () {
    function AppComponent() {
    }
    return AppComponent;
}());
AppComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'rplus-app',
        styles: [""],
        template: "\n        <login-screen></login-screen>\n        <router-outlet></router-outlet>\n    ",
        providers: [__WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */], __WEBPACK_IMPORTED_MODULE_3__service_config_service__["a" /* ConfigService */], __WEBPACK_IMPORTED_MODULE_15__service_suggestion_service__["a" /* SuggestionService */], __WEBPACK_IMPORTED_MODULE_5__service_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_7__service_organisation_service__["a" /* OrganisationService */], __WEBPACK_IMPORTED_MODULE_4__service_person_service__["a" /* PersonService */],
            __WEBPACK_IMPORTED_MODULE_2__service_request_service__["a" /* RequestService */], __WEBPACK_IMPORTED_MODULE_6__service_offer_service__["b" /* OfferService */], __WEBPACK_IMPORTED_MODULE_8__service_task_service__["a" /* TaskService */], __WEBPACK_IMPORTED_MODULE_9__service_analysis_service__["a" /* AnalysisService */], __WEBPACK_IMPORTED_MODULE_10__service_history_service__["a" /* HistoryService */], __WEBPACK_IMPORTED_MODULE_11__service_photo_service__["a" /* PhotoService */], __WEBPACK_IMPORTED_MODULE_12__service_account_service__["a" /* AccountService */],
            __WEBPACK_IMPORTED_MODULE_13__service_session_service__["a" /* SessionService */], __WEBPACK_IMPORTED_MODULE_14__service_upload_service__["a" /* UploadService */], __WEBPACK_IMPORTED_MODULE_16__service_notebook_service__["a" /* NotebookService */]]
    }),
    __metadata("design:paramtypes", [])
], AppComponent);

//# sourceMappingURL=app.component.js.map

/***/ }),

/***/ "../../../../../src/app/app.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_component__ = __webpack_require__("../../../../../src/app/app.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__component_context_menu_component__ = __webpack_require__("../../../../../src/app/component/context-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__component_notebook_component__ = __webpack_require__("../../../../../src/app/component/notebook.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__component_notebook_notebook_task_component__ = __webpack_require__("../../../../../src/app/component/notebook/notebook-task.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__component_notebook_almanac_component__ = __webpack_require__("../../../../../src/app/component/notebook/almanac.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__component_notebook_notebook_task_describe_component__ = __webpack_require__("../../../../../src/app/component/notebook/notebook-task-describe.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__component_tab_system_component__ = __webpack_require__("../../../../../src/app/component/tab-system.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__component_tab_tab_root_component__ = __webpack_require__("../../../../../src/app/component/tab/tab-root.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__component_tab_tab_main_component__ = __webpack_require__("../../../../../src/app/component/tab/tab-main.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__component_tab_tab_list_offer_component__ = __webpack_require__("../../../../../src/app/component/tab/tab-list-offer.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__component_tab_tab_offer_component__ = __webpack_require__("../../../../../src/app/component/tab/tab-offer.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__component_tab_tab_list_person_component__ = __webpack_require__("../../../../../src/app/component/tab/tab-list-person.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__component_tab_tab_person_component__ = __webpack_require__("../../../../../src/app/component/tab/tab-person.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__component_tab_tab_list_organisation_component__ = __webpack_require__("../../../../../src/app/component/tab/tab-list-organisation.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__component_tab_tab_organisation_component__ = __webpack_require__("../../../../../src/app/component/tab/tab-organisation.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__component_tab_tab_list_request_component__ = __webpack_require__("../../../../../src/app/component/tab/tab-list-request.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__component_tab_tab_request_component__ = __webpack_require__("../../../../../src/app/component/tab/tab-request.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__component_tab_tab_list_user_component__ = __webpack_require__("../../../../../src/app/component/tab/tab-list-user.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__component_tab_tab_user_component__ = __webpack_require__("../../../../../src/app/component/tab/tab-user.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__component_tab_tab_advertising_component__ = __webpack_require__("../../../../../src/app/component/tab/tab-advertising.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__component_tab_tab_activity_component__ = __webpack_require__("../../../../../src/app/component/tab/tab-activity.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__component_tab_tab_list_activity_component__ = __webpack_require__("../../../../../src/app/component/tab/tab-list-activity.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__component_tab_tab_daily_component__ = __webpack_require__("../../../../../src/app/component/tab/tab-daily.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__component_ui_ui_select_component__ = __webpack_require__("../../../../../src/app/component/ui/ui-select.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__component_ui_ui_multiselect_component__ = __webpack_require__("../../../../../src/app/component/ui/ui-multiselect.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__component_ui_ui_input_line_component__ = __webpack_require__("../../../../../src/app/component/ui/ui-input-line.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__component_ui_ui_view_line_component__ = __webpack_require__("../../../../../src/app/component/ui/ui-view-line.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__component_ui_ui_slidingMenu_component__ = __webpack_require__("../../../../../src/app/component/ui/ui-slidingMenu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__component_offer_table_component__ = __webpack_require__("../../../../../src/app/component/offer-table.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__component_digest_digest_offer_component__ = __webpack_require__("../../../../../src/app/component/digest/digest-offer.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__component_digest_digest_offer_line_component__ = __webpack_require__("../../../../../src/app/component/digest/digest-offer-line.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36__component_digest_digest_offer_table_component__ = __webpack_require__("../../../../../src/app/component/digest/digest-offer-table.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__component_digest_digest_offer_table2_component__ = __webpack_require__("../../../../../src/app/component/digest/digest-offer-table2.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38__component_google_map_component__ = __webpack_require__("../../../../../src/app/component/google-map.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39__component_ui_ui_tabs_component__ = __webpack_require__("../../../../../src/app/component/ui/ui-tabs.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40__component_ui_ui_tab_component__ = __webpack_require__("../../../../../src/app/component/ui/ui-tab.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41__component_digest_digest_history_component__ = __webpack_require__("../../../../../src/app/component/digest/digest-history.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_42__component_digest_digest_user_component__ = __webpack_require__("../../../../../src/app/component/digest/digest-user.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_43__component_digest_digest_window_component__ = __webpack_require__("../../../../../src/app/component/digest/digest-window.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_44__component_digest_digest_organisation_component__ = __webpack_require__("../../../../../src/app/component/digest/digest-organisation.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_45__component_digest_digest_request_component__ = __webpack_require__("../../../../../src/app/component/digest/digest-request.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_46__component_ui_ui_line_chart_component__ = __webpack_require__("../../../../../src/app/component/ui/ui-line-chart.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_47__component_ui_ui_bar_chart_component__ = __webpack_require__("../../../../../src/app/component/ui/ui-bar-chart.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_48__component_ui_ui_pie_chart_component__ = __webpack_require__("../../../../../src/app/component/ui/ui-pie-chart.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_49__component_ui_ui_carousel_component__ = __webpack_require__("../../../../../src/app/component/ui/ui-carousel.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_50__component_ui_ui_tag_block_component__ = __webpack_require__("../../../../../src/app/component/ui/ui-tag-block.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_51__component_digest_digest_person_component__ = __webpack_require__("../../../../../src/app/component/digest/digest-person.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_52__component_ui_ui_tag_component__ = __webpack_require__("../../../../../src/app/component/ui/ui-tag.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_53__component_ui_ui_view_value__ = __webpack_require__("../../../../../src/app/component/ui/ui-view-value.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_54__component_ui_ui_upload_file_component__ = __webpack_require__("../../../../../src/app/component/ui/ui-upload-file.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_55__component_ui_ui_multi_view__ = __webpack_require__("../../../../../src/app/component/ui/ui-multi-view.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_56__component_ui_off_click__ = __webpack_require__("../../../../../src/app/component/ui/off-click.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_57__component_ui_ui_document_component__ = __webpack_require__("../../../../../src/app/component/ui/ui-document.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_58__component_ui_ui_advertising_component__ = __webpack_require__("../../../../../src/app/component/ui/ui-advertising.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_59__component_ui_ui_switch_button__ = __webpack_require__("../../../../../src/app/component/ui/ui-switch-button.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_60__component_digest_digest_pie_chart_component__ = __webpack_require__("../../../../../src/app/component/digest/digest-pie-chart.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_61__component_digest_digest_column_chart_component__ = __webpack_require__("../../../../../src/app/component/digest/digest-column-chart.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_62__component_digest_digest_area_chart_component__ = __webpack_require__("../../../../../src/app/component/digest/digest-area-chart.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_63__login_screen_component__ = __webpack_require__("../../../../../src/app/login-screen.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_64__admin_page_component__ = __webpack_require__("../../../../../src/app/admin-page.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_65__main_component__ = __webpack_require__("../../../../../src/app/main.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_66__pipe_format_date_pipe__ = __webpack_require__("../../../../../src/app/pipe/format-date.pipe.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_67__pipe_str_nn_pipe__ = __webpack_require__("../../../../../src/app/pipe/str-nn.pipe.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_68__component_ui_chart_google_chart_component__ = __webpack_require__("../../../../../src/app/component/ui/chart/google-chart.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_69__pipe_phone_block_as_string_pipe__ = __webpack_require__("../../../../../src/app/pipe/phone-block-as-string.pipe.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
/**
 * Created by Aleksandr on 11.11.16.
 */






































































var appRoutes = [
    { path: 'admin', component: __WEBPACK_IMPORTED_MODULE_64__admin_page_component__["a" /* AdminPageComponent */] },
    { path: 'main', component: __WEBPACK_IMPORTED_MODULE_65__main_component__["a" /* MainComponent */] },
    { path: '',
        redirectTo: '/main',
        pathMatch: 'full'
    }
    //{ path: '**', component: PageNotFoundComponent }
];
var AppModule = (function () {
    function AppModule() {
    }
    return AppModule;
}());
AppModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["b" /* NgModule */])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["a" /* BrowserModule */],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["a" /* FormsModule */],
            __WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* HttpModule */],
            __WEBPACK_IMPORTED_MODULE_4__angular_router__["a" /* RouterModule */].forRoot(appRoutes, { useHash: true })
        ],
        declarations: [
            __WEBPACK_IMPORTED_MODULE_66__pipe_format_date_pipe__["a" /* FormatDatePipe */],
            __WEBPACK_IMPORTED_MODULE_67__pipe_str_nn_pipe__["a" /* StrNnPipe */],
            __WEBPACK_IMPORTED_MODULE_69__pipe_phone_block_as_string_pipe__["a" /* phoneBlockAsStringPipe */],
            __WEBPACK_IMPORTED_MODULE_63__login_screen_component__["a" /* LoginScreenComponent */],
            __WEBPACK_IMPORTED_MODULE_64__admin_page_component__["a" /* AdminPageComponent */],
            __WEBPACK_IMPORTED_MODULE_5__app_component__["a" /* AppComponent */],
            __WEBPACK_IMPORTED_MODULE_65__main_component__["a" /* MainComponent */],
            __WEBPACK_IMPORTED_MODULE_6__component_context_menu_component__["a" /* ContextMenuComponent */],
            __WEBPACK_IMPORTED_MODULE_7__component_notebook_component__["a" /* NotebookComponent */],
            __WEBPACK_IMPORTED_MODULE_8__component_notebook_notebook_task_component__["a" /* NotebookTask */],
            __WEBPACK_IMPORTED_MODULE_9__component_notebook_almanac_component__["a" /* Almanac */],
            __WEBPACK_IMPORTED_MODULE_10__component_notebook_notebook_task_describe_component__["a" /* NotebookTaskDescribe */],
            __WEBPACK_IMPORTED_MODULE_11__component_tab_system_component__["a" /* TabSystemComponent */],
            __WEBPACK_IMPORTED_MODULE_12__component_tab_tab_root_component__["a" /* TabRootComponent */],
            __WEBPACK_IMPORTED_MODULE_13__component_tab_tab_main_component__["a" /* TabMainComponent */],
            __WEBPACK_IMPORTED_MODULE_14__component_tab_tab_list_offer_component__["a" /* TabListOfferComponent */],
            __WEBPACK_IMPORTED_MODULE_15__component_tab_tab_offer_component__["a" /* TabOfferComponent */],
            __WEBPACK_IMPORTED_MODULE_16__component_tab_tab_list_person_component__["a" /* TabListPersonComponent */],
            __WEBPACK_IMPORTED_MODULE_17__component_tab_tab_person_component__["a" /* TabPersonComponent */],
            __WEBPACK_IMPORTED_MODULE_18__component_tab_tab_list_organisation_component__["a" /* TabListOrganisationComponent */],
            __WEBPACK_IMPORTED_MODULE_19__component_tab_tab_organisation_component__["a" /* TabOrganisationComponent */],
            __WEBPACK_IMPORTED_MODULE_20__component_tab_tab_list_request_component__["a" /* TabListRequestComponent */],
            __WEBPACK_IMPORTED_MODULE_21__component_tab_tab_request_component__["a" /* TabRequestComponent */],
            __WEBPACK_IMPORTED_MODULE_22__component_tab_tab_list_user_component__["a" /* TabListUserComponent */],
            __WEBPACK_IMPORTED_MODULE_23__component_tab_tab_user_component__["a" /* TabUserComponent */],
            __WEBPACK_IMPORTED_MODULE_24__component_tab_tab_advertising_component__["a" /* TabAdvertisingComponent */],
            __WEBPACK_IMPORTED_MODULE_26__component_tab_tab_list_activity_component__["a" /* TabListActivityComponent */],
            __WEBPACK_IMPORTED_MODULE_25__component_tab_tab_activity_component__["a" /* TabActivityComponent */],
            __WEBPACK_IMPORTED_MODULE_27__component_tab_tab_daily_component__["a" /* TabDailyComponent */],
            __WEBPACK_IMPORTED_MODULE_33__component_offer_table_component__["a" /* OfferTableComponent */],
            __WEBPACK_IMPORTED_MODULE_34__component_digest_digest_offer_component__["a" /* DigestOfferComponent */],
            __WEBPACK_IMPORTED_MODULE_35__component_digest_digest_offer_line_component__["a" /* DigestOfferLineComponent */],
            __WEBPACK_IMPORTED_MODULE_36__component_digest_digest_offer_table_component__["a" /* DigestOfferTableComponent */],
            __WEBPACK_IMPORTED_MODULE_37__component_digest_digest_offer_table2_component__["a" /* DigestOfferTable2Component */],
            __WEBPACK_IMPORTED_MODULE_38__component_google_map_component__["a" /* GoogleMapComponent */],
            __WEBPACK_IMPORTED_MODULE_38__component_google_map_component__["b" /* GoogleMapMarkerComponent */],
            __WEBPACK_IMPORTED_MODULE_41__component_digest_digest_history_component__["a" /* DigestHistoryComponent */],
            __WEBPACK_IMPORTED_MODULE_42__component_digest_digest_user_component__["a" /* DigestUserComponent */],
            __WEBPACK_IMPORTED_MODULE_43__component_digest_digest_window_component__["a" /* DigestWindowComponent */],
            __WEBPACK_IMPORTED_MODULE_44__component_digest_digest_organisation_component__["a" /* DigestOrganisationComponent */],
            __WEBPACK_IMPORTED_MODULE_45__component_digest_digest_request_component__["a" /* DigestRequestComponent */],
            __WEBPACK_IMPORTED_MODULE_51__component_digest_digest_person_component__["a" /* DigestPersonComponent */],
            __WEBPACK_IMPORTED_MODULE_60__component_digest_digest_pie_chart_component__["a" /* DigestPieChartComponent */],
            __WEBPACK_IMPORTED_MODULE_61__component_digest_digest_column_chart_component__["a" /* DigestColumnChartComponent */],
            __WEBPACK_IMPORTED_MODULE_62__component_digest_digest_area_chart_component__["a" /* DigestAreaChartComponent */],
            __WEBPACK_IMPORTED_MODULE_28__component_ui_ui_select_component__["a" /* UISelect */],
            __WEBPACK_IMPORTED_MODULE_29__component_ui_ui_multiselect_component__["a" /* UIMultiSelect */],
            __WEBPACK_IMPORTED_MODULE_32__component_ui_ui_slidingMenu_component__["a" /* UISlidingMenu */],
            __WEBPACK_IMPORTED_MODULE_30__component_ui_ui_input_line_component__["a" /* UIInputLine */],
            __WEBPACK_IMPORTED_MODULE_53__component_ui_ui_view_value__["a" /* UIViewValue */],
            __WEBPACK_IMPORTED_MODULE_31__component_ui_ui_view_line_component__["a" /* UIViewLine */],
            __WEBPACK_IMPORTED_MODULE_55__component_ui_ui_multi_view__["a" /* UIMultiView */],
            __WEBPACK_IMPORTED_MODULE_39__component_ui_ui_tabs_component__["a" /* UITabs */],
            __WEBPACK_IMPORTED_MODULE_40__component_ui_ui_tab_component__["a" /* UITab */],
            __WEBPACK_IMPORTED_MODULE_52__component_ui_ui_tag_component__["a" /* UITag */],
            __WEBPACK_IMPORTED_MODULE_50__component_ui_ui_tag_block_component__["a" /* UITagBlock */],
            __WEBPACK_IMPORTED_MODULE_46__component_ui_ui_line_chart_component__["a" /* UILineChart */],
            __WEBPACK_IMPORTED_MODULE_47__component_ui_ui_bar_chart_component__["a" /* UIBarChart */],
            __WEBPACK_IMPORTED_MODULE_48__component_ui_ui_pie_chart_component__["a" /* UIPieChart */],
            __WEBPACK_IMPORTED_MODULE_49__component_ui_ui_carousel_component__["a" /* UICarousel */],
            __WEBPACK_IMPORTED_MODULE_54__component_ui_ui_upload_file_component__["a" /* UIUploadFile */],
            __WEBPACK_IMPORTED_MODULE_57__component_ui_ui_document_component__["a" /* UIDocument */],
            __WEBPACK_IMPORTED_MODULE_68__component_ui_chart_google_chart_component__["a" /* GoogleChartComponent */],
            __WEBPACK_IMPORTED_MODULE_58__component_ui_ui_advertising_component__["a" /* UIAdvertising */],
            __WEBPACK_IMPORTED_MODULE_59__component_ui_ui_switch_button__["a" /* UISwitchButton */],
            __WEBPACK_IMPORTED_MODULE_56__component_ui_off_click__["a" /* OffClickDirective */]
        ],
        bootstrap: [
            __WEBPACK_IMPORTED_MODULE_5__app_component__["a" /* AppComponent */]
        ]
    })
], AppModule);

//# sourceMappingURL=app.module.js.map

/***/ }),

/***/ "../../../../../src/app/class/concavehull.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConcaveHull; });
var ConcaveHull = (function () {
    function ConcaveHull(latLngs, maxDistance) {
        var result = this.convertLatLngs(latLngs);
        this.points = result.points;
        this.maxDistance = isFinite(maxDistance) ? maxDistance : (result.maxDistance + 1);
    }
    ConcaveHull.prototype.convertLatLngs = function (latLngs) {
        var longestDistance = 0, convertedPoints = latLngs.map(function (latLng, idx) {
            // Transform the lat/long values into those the concave hull algorithm expects
            latLng.x = latLng.lng;
            latLng.y = this.lat2y(latLng);
            if (latLngs[idx - 1]) {
                var distance = this.distanceTo(latLng, latLngs[idx - 1]);
                if (distance > longestDistance) {
                    longestDistance = distance;
                }
            }
            return latLng;
        }.bind(this));
        return { points: convertedPoints, maxDistance: longestDistance };
    };
    ConcaveHull.prototype.distanceTo = function (firstLatLng, secondLatLng) {
        var R = 6378137, d2r = Math.PI / 180, dLat = (secondLatLng.lat - firstLatLng.lat) * d2r, dLon = (secondLatLng.lng - firstLatLng.lng) * d2r, lat1 = firstLatLng.lat * d2r, lat2 = secondLatLng.lat * d2r, sin1 = Math.sin(dLat / 2), sin2 = Math.sin(dLon / 2);
        var a = sin1 * sin1 + sin2 * sin2 * Math.cos(lat1) * Math.cos(lat2);
        return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
    };
    ConcaveHull.prototype.getLatLngs = function () {
        if (this.points.length <= 3) {
            return this.points;
        }
        var byY = this.points.slice().sort(function sort(a, b) {
            return a.y - b.y;
        });
        var hull = [], start = byY[0], current = start, previous = { x: current.x, y: current.y - 1 };
        hull.push(start);
        var next, count = 0;
        var sortPoints = function (a, b) {
            return this.getAngle(current, previous, b) - this.getAngle(current, previous, a);
        }.bind(this);
        while (true) {
            count++;
            var byAngle = this.points.slice().sort(sortPoints);
            for (var i = 0, l = byAngle.length; i < l; i++) {
                if (this.distanceTo(current, byAngle[i]) < this.maxDistance && !this.isIntersecting(hull, byAngle[i])) {
                    next = byAngle[i];
                    break;
                }
            }
            if (!next) {
                // No polygon can be found
                return this.points;
            }
            if (next === current) {
                // Concave hull algorithm has gone very wrong indeed
                return this.points;
            }
            hull.push(next);
            if (next === start) {
                // Everything is okay!
                return hull;
            }
            previous = current;
            current = next;
            next = undefined;
            if (count > 1000) {
                // Concave hull algorithm has gone very wrong... again.
                return this.points;
            }
        }
    };
    ConcaveHull.prototype.isIntersecting = function (latLngs, otherLatLngs) {
        for (var i = 1, l = latLngs.length - 1; i < l; i++) {
            if (this.intersect(latLngs[i - 1], latLngs[i], latLngs[l], otherLatLngs)) {
                return true;
            }
        }
        return false;
    };
    ConcaveHull.prototype.intersect = function (p1, p2, q1, q2) {
        if ((p1.x === q1.x && p1.y === q1.y || p2.x === q2.x && p2.y === q2.y) ||
            (p1.x === q2.x && p1.y === q2.y || p2.x === q1.x && p2.y === q1.y)) {
            return false;
        }
        return (this.ccw(p1, p2, q1) * this.ccw(p1, p2, q2) <= 0) && (this.ccw(q1, q2, p1) * this.ccw(q1, q2, p2) <= 0);
    };
    ConcaveHull.prototype.lat2y = function (latLng) {
        return 180.0 / Math.PI * Math.log(Math.tan(Math.PI / 4.0 + latLng.lat * (Math.PI / 180.0) / 2.0));
    };
    ConcaveHull.prototype.ccw = function (p0, p1, p2) {
        var epsilon = 1e-13, dx1 = p1.x - p0.x, dy1 = p1.y - p0.y, dx2 = p2.x - p0.x, dy2 = p2.y - p0.y, d = dx1 * dy2 - dy1 * dx2;
        if (d > epsilon) {
            return 1;
        }
        if (d < -epsilon) {
            return -1;
        }
        if ((dx1 * dx2 < -epsilon) || (dy1 * dy2 < -epsilon)) {
            return -1;
        }
        if ((dx1 * dx1 + dy1 * dy1) < (dx2 * dx2 + dy2 * dy2) + epsilon) {
            return 1;
        }
        return 0;
    };
    ConcaveHull.prototype.getAngle = function (current, previous, next) {
        if (next.x === current.x && next.y === current.y) {
            return -9000;
        }
        if (next.x === previous.x && next.y === previous.y) {
            return -360.0;
        }
        var a = { x: current.x - previous.x, y: current.y - previous.y }, b = { x: next.x - current.x, y: next.y - current.y };
        var vector = (a.x * b.y) - (b.x * a.y), scale = (a.x * b.x) + (a.y * b.y), angle;
        if (scale === 0) {
            if (vector > 0) {
                angle = 90.0;
            }
            if (vector < 0) {
                angle = -90.0;
            }
        }
        else {
            angle = Math.atan(vector / scale) * 180.0 / Math.PI;
            if (scale < 0) {
                if (vector >= 0) {
                    angle += 180.0;
                }
                if (vector < 0) {
                    angle -= 180.0;
                }
            }
        }
        if (angle === 360.0) {
            angle = 0;
        }
        return 180.0 - angle;
    };
    return ConcaveHull;
}());

//# sourceMappingURL=concavehull.js.map

/***/ }),

/***/ "../../../../../src/app/class/emailBlock.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EmailBlock; });
var EmailBlock = (function () {
    function EmailBlock() {
    }
    return EmailBlock;
}());

//# sourceMappingURL=emailBlock.js.map

/***/ }),

/***/ "../../../../../src/app/class/fullAddress.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FullAddress; });
var FullAddress = (function () {
    function FullAddress() {
    }
    return FullAddress;
}());

//# sourceMappingURL=fullAddress.js.map

/***/ }),

/***/ "../../../../../src/app/class/listResult.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListResult; });
/**
 * Created by owl on 2/20/17.
 */
var ListResult = (function () {
    function ListResult() {
    }
    return ListResult;
}());

//# sourceMappingURL=listResult.js.map

/***/ }),

/***/ "../../../../../src/app/class/phoneBlock.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PhoneBlock; });
var PhoneBlock = (function () {
    function PhoneBlock() {
        this.office = null;
        this.home = null;
        this.cellphone = null;
        this.fax = null;
        this.main = null;
        this.other = null;
    }
    PhoneBlock.getAsString = function (phoneBlock) {
        var result = "";
        var t = [];
        if (phoneBlock.office)
            t.push(phoneBlock.office);
        if (phoneBlock.home)
            t.push(phoneBlock.home);
        if (phoneBlock.cellphone)
            t.push(phoneBlock.cellphone);
        if (phoneBlock.fax)
            t.push(phoneBlock.fax);
        if (phoneBlock.main)
            t.push(phoneBlock.main);
        if (phoneBlock.other)
            t.push(phoneBlock.other);
        result = t.join(", ");
        return result;
    };
    PhoneBlock.getNotNullPhone = function (phoneBlock) {
        if (phoneBlock.main)
            return phoneBlock.main;
        else if (phoneBlock.cellphone)
            return phoneBlock.cellphone;
        else if (phoneBlock.home)
            return phoneBlock.home;
        else if (phoneBlock.fax)
            return phoneBlock.fax;
        else if (phoneBlock.office)
            return phoneBlock.office;
        else if (phoneBlock.other)
            return phoneBlock.other;
        else
            return "";
    };
    PhoneBlock.getAsArray = function (phoneBlock) {
        var t = [];
        if (phoneBlock.office)
            t.push(phoneBlock.office);
        if (phoneBlock.home)
            t.push(phoneBlock.home);
        if (phoneBlock.cellphone)
            t.push(phoneBlock.cellphone);
        if (phoneBlock.fax)
            t.push(phoneBlock.fax);
        if (phoneBlock.main)
            t.push(phoneBlock.main);
        if (phoneBlock.other)
            t.push(phoneBlock.other);
        return t;
    };
    PhoneBlock.formatNumberArray = function (data) {
        var t = [];
        data.forEach(function (dt) {
            var match = dt.match(/(7|8)(\d{3})(\d{3})(\d{2})(\d{2})/);
            if (match != null && match.length) {
                t.push("+7(" + match[2] + ")" + match[3] + "-" + match[4] + "-" + match[5]);
            }
        });
        return t;
    };
    return PhoneBlock;
}());

//# sourceMappingURL=phoneBlock.js.map

/***/ }),

/***/ "../../../../../src/app/class/requisites.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Requisites; });
var Requisites = (function () {
    function Requisites() {
        this.inn = null;
        this.kpp = null;
        this.cor = null;
        this.bic = null;
        this.other = null;
    }
    return Requisites;
}());

//# sourceMappingURL=requisites.js.map

/***/ }),

/***/ "../../../../../src/app/class/tab.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_Subject__ = __webpack_require__("../../../../rxjs/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_Subject__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Tab; });

var Tab = (function () {
    function Tab(tabSys, type, args) {
        this.header = 'Loading...';
        this.type = type;
        this.tabSys = tabSys;
        this.args = args;
        this.refreshRq = new __WEBPACK_IMPORTED_MODULE_0_rxjs_Subject__["Subject"]();
        this.active = false;
    }
    Tab.prototype.reborn = function (type, args) {
        this.header = 'Loading...';
        this.type = type;
        this.args = args;
    };
    Tab.prototype.refresh = function (sender) {
        //this.refreshRq.next(sender);
    };
    return Tab;
}());

//# sourceMappingURL=tab.js.map

/***/ }),

/***/ "../../../../../src/app/class/task.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Task; });
var Task = (function () {
    function Task() {
    }
    Task.getResultText = function (task) {
        switch (task.result_id) {
            case (0): {
                return 'Выполняется';
            }
            case (1): {
                return 'Успешно';
            }
            case (2): {
                return 'Не успешно';
            }
        }
        return '???';
    };
    return Task;
}());

//# sourceMappingURL=task.js.map

/***/ }),

/***/ "../../../../../src/app/component/context-menu.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContextMenuComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var ContextMenuComponent = (function () {
    function ContextMenuComponent(elementRef) {
        this.elementRef = elementRef;
        this.hidden = true;
        this.menu = {
            pX: 0,
            pY: 0,
            scrollable: false,
            items: []
        };
        this.flip = false;
        this.dummy = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
    }
    ContextMenuComponent.prototype.click = function (e, item) {
        if (item.disabled) {
            e.preventDefault();
            e.stopPropagation();
            return;
        }
        if (item.callback) {
            item.callback();
        }
    };
    ContextMenuComponent.prototype.docClick = function () {
    };
    ContextMenuComponent.prototype.ngOnInit = function () {
    };
    ContextMenuComponent.prototype.ngOnChanges = function (changes) {
        var _this = this;
        var cm_element = this.elementRef.nativeElement.querySelector('.context-menu-wrapper');
        if (this.menu && !this.hidden) {
            var pY = this.menu.pY;
            this.menu.pY = 1000;
            setTimeout(function (t) {
                _this.menu.pY = pY;
                if (cm_element.offsetHeight + _this.menu.pY > document.body.clientHeight) {
                    _this.menu.pY -= cm_element.offsetHeight;
                }
                if (cm_element.offsetWidth + _this.menu.pX > document.body.clientWidth) {
                    _this.menu.pX -= cm_element.offsetWidth;
                    _this.flip = true;
                }
            }, 0);
        }
    };
    return ContextMenuComponent;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _a || Object)
], ContextMenuComponent.prototype, "dummy", void 0);
ContextMenuComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'context-menu',
        inputs: ['menu', 'hidden'],
        styles: ["\n        .context-menu-wrapper {\n            padding: 5 0;\n            max-height: 450px;\n            font-size: 12px;\n            position: absolute;\n            background-color: #fff;\n            border: 1px solid #eee;\n            z-index: 999;\n        }\n\n        .context-menu-scrollable {\n            overflow-y: auto;\n        }\n\n        .submenu-wrapper {\n            display: none;\n            position: absolute;\n            top: 0px;\n            left: 100%;\n\n            background-color: #fff;\n            border: 1px solid #eee;\n        }\n\n        .submenu-sc:hover:not(.disabled) > .submenu-wrapper {\n            display: block;\n        }\n\n        .submenu-sc:after {\n            display: block;\n            float: right;\n            width: 0;\n            height: 0;\n            margin-top: 5px;\n            margin-right: -10px;\n            border-color: transparent;\n            border-left-color: #666;\n            border-style: solid;\n            border-width: 5px 0 5px 5px;\n            content: \" \";\n        }\n\n        .entry {\n            padding: 3px 20px;\n            font-weight: normal;\n            line-height: 20px;\n            height: 20px;\n            color: #333;\n            white-space: nowrap;\n            min-width: 120px;\n            cursor: pointer;\n\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n        }\n\n        .entry_line {\n            padding: 3px 20px;\n            font-weight: normal;\n            line-height: 20px;\n            height: 40px;\n            color: #333;\n            white-space: nowrap;\n            min-width: 120px;\n        }\n\n        .entry:hover {\n            background-color: #eee;\n        }\n\n        .entry.disabled {\n            background-color: #fff;\n            color: #aaa;\n            cursor: not-allowed;\n        }\n\n        .flip {\n            left: -101%;\n        }\n\n        hr {\n            margin: 5px;\n        }\n    "],
        template: "\n        <div class=\"context-menu-wrapper\"\n            [style.left]=\"menu?.pX\"\n            [style.top]=\"menu?.pY\"\n            [class.context-menu-scrollable]=\"menu?.scrollable\"\n            [hidden]=\"hidden\"\n        (document:click)=\"docClick()\"\n        >\n            <div\n                *ngFor=\"let i of menu?.items\"\n                [ngSwitch]=\"i.class\"\n                (click)=\"click($event, i)\"\n            >\n                <div *ngSwitchCase=\"'submenu'\" class=\"entry submenu-sc\" [class.disabled]=\"i.disabled\" style=\"position: relative;\">\n                    <span *ngIf=\"i.icon\" class=\"icon-{{ i.icon }}\"></span>\n                    {{ i.label }}\n                    <div class=\"submenu-wrapper\" [class.flip]=\"flip\">\n                        <div\n                            *ngFor=\"let si of i.items\"\n                            [ngSwitch]=\"si.class\"\n                            (click)=\"click($event, si)\"\n                        >\n                            <div *ngSwitchCase=\"'entry'\" class=\"entry\" [class.disabled]=\"si.disabled\">\n                                <span *ngIf=\"si.icon\" class=\"icon-{{ si.icon }}\"></span>\n                                {{ si.label }}\n                            </div>\n                            <div *ngSwitchCase=\"'entry_cb'\" class=\"entry\" [class.disabled]=\"si.disabled\">\n                                <span *ngIf=\"si.value\" class=\"icon-check\"></span>\n                                <span *ngIf=\"!si.value\" class=\"icon-none\"></span>\n                                {{ si.label }}\n                            </div>\n                            <hr *ngSwitchCase=\"'delimiter'\">\n                        </div>\n                    </div>\n                </div>\n                <div *ngSwitchCase=\"'entry'\" class=\"entry\" [class.disabled]=\"i.disabled\">\n                    <span *ngIf=\"i.icon\" class=\"icon-{{ i.icon }}\"></span>\n                    {{ i.label }}\n                </div>\n                <div *ngSwitchCase=\"'entry_cb'\" class=\"entry\" [class.disabled]=\"i.disabled\">\n                    <span *ngIf=\"i.value\" class=\"icon-check\"></span>\n                    <span *ngIf=\"!i.value\" class=\"icon-none\"></span>\n                    {{ i.label }}\n                </div>\n                <div *ngSwitchCase=\"'tag'\" class=\"entry_line\">\n                    <span *ngIf=\"i.icon\" class=\"icon-{{ i.icon }}\"></span>\n                    {{ i.label }}\n                    <div>\n                        <span *ngFor=\"let si of i.items\" (click)=\"click($event, si)\"\n                            class=\"icon-{{ si.icon }}\"\n                        >\n                        </span>\n                    </div>\n                </div>\n                <hr *ngSwitchCase=\"'delimiter'\">\n            </div>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["g" /* ElementRef */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["g" /* ElementRef */]) === "function" && _b || Object])
], ContextMenuComponent);

var _a, _b;
/* example
 contextMenu(e) {
 e.preventDefault();
 e.stopPropagation();
 this._hubService.shared_var['cm_px'] = e.pageX;
 this._hubService.shared_var['cm_py'] = e.pageY;
 this._hubService.shared_var['cm_hidden'] = false;
 this._hubService.shared_var['cm_items'] = [
 {class: "entry_cb", disabled: true, value: true, label: "пункт 1", callback: function() {alert('yay 1!')}},
 {class: "submenu", disabled: true, label: "пункт x", items: [
    {class: "entry", disabled: false, label: "пункт x1", callback: function() {alert('yay s1!')}},
    {class: "entry", disabled: false, label: "пункт x2", callback: function() {alert('yay s2!')}},
 ]},
 {class: "entry_cb", disabled: false, value: false, label: "пункт 2", callback: function() {alert('yay 2!')}},
 {class: "entry_cb", disabled: true, value: true, label: "пункт 3", callback: function() {alert('yay 3!')}},
 {class: "entry", disabled: false, icon: "cancel", label: "пункт 4", callback: function() {alert('yay 4!')}},
 {class: "delimiter"},
 {class: "entry", icon: "add", label: "пункт 5", callback: function() {alert('yay 5!')}},
 ];
 }*/
//# sourceMappingURL=context-menu.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/digest/digest-area-chart.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DigestAreaChartComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var DigestAreaChartComponent = (function () {
    function DigestAreaChartComponent(_hubService) {
        this._hubService = _hubService;
        this.chartID = "Chart" + Math.floor(Math.random() * (9999 - 1000 + 1)) + 1000;
        this.hard_data = false;
        this.pie_ChartData = [['Данных нет', 1]];
        this.data = [];
        this.height = "160px";
        this.width = "300px";
        this.setData();
    }
    ;
    DigestAreaChartComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (!this.hard_data)
            this.pie_ChartData = this.data;
        else
            for (var _i = 0, _a = this.data; _i < _a.length; _i++) {
                var i = _a[_i];
                this.pie_ChartData.push([i[0], i[1]]);
            }
        this.pie_ChartData.unshift(['', '']);
        setTimeout(function () {
            _this.getOption();
        }, 10);
    };
    DigestAreaChartComponent.prototype.ngOnChanges = function () {
        this.getOption();
    };
    DigestAreaChartComponent.prototype.abs = function (num) {
        return Math.abs(num);
    };
    DigestAreaChartComponent.prototype.setData = function () {
        this.area_ChartData = new google.visualization.DataTable();
        this.area_ChartData.addColumn('date', 'Time of Day');
        this.area_ChartData.addColumn('number', 'Rating');
        this.area_ChartData.addColumn('number', 'Rating1');
        this.area_ChartData.addColumn('number', 'Rating2');
        this.area_ChartData.addRows([
            [new Date(2016, 0, 1), 120, 100, 75],
            [new Date(2016, 1, 1), 132, 150, 65],
            [new Date(2016, 2, 1), 122, 165, 55],
            [new Date(2016, 3, 1), 189, 89, 50],
            [new Date(2016, 4, 1), 179, 40, 65],
            [new Date(2016, 5, 1), 185, 70, 40],
            [new Date(2016, 6, 1), 185, 95, 30],
            [new Date(2016, 7, 1), 166, 150, 10],
            [new Date(2016, 8, 1), 74, 100, 20]
        ]);
    };
    DigestAreaChartComponent.prototype.getWidth = function (str) {
        var par = document.getElementById(this.chartID);
        if (par)
            return '' + (par.parentElement.clientWidth);
        else
            return str;
    };
    DigestAreaChartComponent.prototype.getHeight = function (str) {
        var par = document.getElementById(this.chartID);
        if (par)
            return '' + (par.parentElement.parentElement.clientHeight);
        else
            return str;
    };
    DigestAreaChartComponent.prototype.getContainerHeight = function () {
        var par = document.getElementById(this.chartID);
        if (par) {
            return '' + (par.parentElement.parentElement.parentElement.clientHeight - 20);
        }
        else
            return '540px';
    };
    DigestAreaChartComponent.prototype.getOption = function () {
        this.area_ChartOptions = {
            //backgroundColor: 'transparent',
            height: this.getHeight('330'),
            width: this.getWidth('900'),
            legend: 'none',
            axisTitlesPosition: 'in',
            hAxis: {
                //textStyle: {color: '#ccc', fontName: 'OpenSans', fontSize: '10px'},
                //baselineColor: '#ccc',
                //gridlines: {
                //    color: '#ccc',
                //    count: 10
                //},
                format: 'MM.yyyy'
            },
            vAxis: {
                minValue: 0,
            },
            //colors: ['#8e44ad', '#dc3912', '#ff9900'],
            pointSize: 5,
            chartArea: {
                //backgroundColor: 'transparent',
                left: 50,
                top: 30,
                width: this.getWidth('900') - 80,
                height: this.getHeight('330') - 95
            },
            colors: ['#FF7043', '#5C6BC0', '#EF5350']
        };
    };
    return DigestAreaChartComponent;
}());
DigestAreaChartComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'digest-area-chart',
        inputs: ['data', 'header', 'hard_data', 'height', 'width', 'result'],
        styles: ["\n        .container {\n            font-size: 16px;\n            position: relative;\n            display: inline-block;\n            height: 100%;\n            width: 100%;\n            background-color: white;\n        }\n        .head{\n            text-transform: uppercase;\n            color: #4c4c4c;\n            margin: 10px 0 10px 50px;\n            position: relative;\n            z-index: 10;\n        }\n        .chart{\n            position: absolute;\n            right: 0;\n            top: 25;\n        }\n\n        table{\n            font-size: 12px;\n            color: rgba(101, 101, 101, 0.81);\n        }\n\n        .total{\n            font-size: 20pt;\n            color: rgba(0, 0, 0, 0.67);\n            margin-left: 55px;\n            margin-top: 5px;\n            height: 30px;\n            display: flex;\n            align-items: center;\n        }\n\n        .total>div:nth-child(1){\n            float: left;\n            margin-right: 10px;\n        }\n\n        .total>div:nth-child(2){\n            font-size: 16pt;\n        }\n\n        .total>div:nth-child(2):after{\n            font-size: 14pt;\n            position: relative;\n            top: -2px;\n        }\n\n        td>div{\n            height: 13px;\n            line-height: 13px;\n        }\n\n        .red{\n            color: red;\n        }\n        .green{\n            color: green;\n        }\n\n    "],
        template: "\n        <div class=\"container\" [style.width]=\"width\" [style.height]=\"getContainerHeight()\" (window:resize)=\"getOption()\">\n            <div class=\"head\">{{header}}</div>\n            <div class=\"total\" *ngIf=\"result\">\n                <div>{{result[0]}}</div>\n                <div *ngIf=\"hard_data\"\n                    [class.green]=\"result[1] > 0\" [class.icon_plus]=\"result[1] > 0\" [class.icon_arrow_up]=\"result[1] > 0\"\n                    [class.red]=\"result[1] < 0\"  [class.icon_minus]=\"result[1] < 0\" [class.icon_arrow_bottom]=\"result[1] < 0\"\n                >{{abs(result[1])}}</div>\n            </div>\n            <div id={{chartID}}\n                [data]=\"area_ChartData\"\n                [chartOptions] = \"area_ChartOptions\"\n                chartType=\"AreaChart\" GoogleChart\n                class=\"chart\"\n            >\n            </div>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */]) === "function" && _a || Object])
], DigestAreaChartComponent);

var _a;
//# sourceMappingURL=digest-area-chart.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/digest/digest-column-chart.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DigestColumnChartComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var DigestColumnChartComponent = (function () {
    function DigestColumnChartComponent(_hubService) {
        this._hubService = _hubService;
        this.hard_data = false;
        this.data = [];
        this.height = "160px";
        this.width = "300px";
    }
    ;
    DigestColumnChartComponent.prototype.ngOnInit = function () {
    };
    DigestColumnChartComponent.prototype.ngOnChanges = function () {
    };
    DigestColumnChartComponent.prototype.abs = function (num) {
        return Math.abs(num);
    };
    return DigestColumnChartComponent;
}());
DigestColumnChartComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'digest-column-chart',
        inputs: ['data', 'header', 'hard_data', 'height', 'result', 'width'],
        styles: ["\n        .container {\n            background-color: white;\n            font-size: 16px;\n            position: relative;\n            display: inline-block;\n            min-height: 150px;\n            width: 100%;\n            height: 100%;\n            overflow: hidden;\n            min-width: 285px;\n        }\n        .head{\n            text-transform: uppercase;\n            color: #4c4c4c;\n            margin: 12px 0 0 15px;\n            height: 48px;\n            position: relative;\n            z-index: 10;\n        }\n\n        .total{\n            font-size: 20pt;\n            color: rgba(0, 0, 0, 0.67);\n            margin-left: 10px;\n            margin-top: 5px;\n            height: 30px;\n            display: flex;\n            align-items: center;\n            position: absolute;\n            top: 0;\n            right: 5;\n        }\n\n        .total>div:nth-child(1){\n            float: left;\n            margin-right: 10px;\n        }\n\n        .total>div:nth-child(2){\n            font-size: 16pt;\n        }\n\n        .total>div:nth-child(2):after{\n            font-size: 14pt;\n            position: relative;\n            top: -2px;\n        }\n\n        .red{\n            color: red;\n        }\n        .green{\n            color: green;\n        }\n\n        .table{\n            height: calc(100% - 72px);\n            display: flex;\n            flex-direction: column;\n            width: calc(100% - 20px);\n            margin-left: 10px;\n            justify-content: space-between;\n        }\n\n        .row{\n            width: 100%;\n            display: flex;\n            align-items: center;\n            height: 100%;\n            margin-bottom: 3px;\n        }\n\n        .label{\n            font-size: 12px;\n            color: rgba(101, 101, 101, 0.81);\n            width: 40%;\n            overflow: hidden;\n            text-overflow: ellipsis;\n        }\n\n        .column{\n            background-color: #AB47BC;\n            align-items: center;\n            display: flex;\n            width: 60%;\n            height: 100%;\n        }\n\n        .column>div{\n            background-color: #EDE7F6;\n            height: 100%;\n            position: relative;\n            display: flex;\n            align-items: center;\n        }\n\n    "],
        template: "\n        <div class=\"container\">\n            <div class=\"head\">{{header}}</div>\n            <div class=\"table\">\n                    <div *ngFor=\"let dt of data\" class=\"row\" [style.height]>\n                        <div class=\"label\"> {{dt[0]}} </div>\n                        <div class=\"column\">\n                            <span style=\"position: absolute;font-size: 10px;color: black;margin-left: 5px;z-index: 3;\" *ngIf=\"dt[1] >= 13\">{{dt[1] + '%'}}</span>\n                            <div  [style.width]=\"dt[1]+'%'\">\n                                <div style=\"color: white;font-size: 10px;position: absolute;right: -23px;\" *ngIf=\"dt[1] <= 87\">{{(100-dt[1]) + '%'}}</div>\n                            </div>\n                        </div>\n                    </div>\n            </div>\n            <div class=\"total\" *ngIf=\"result\">\n                <div>{{result[0]}}</div>\n                <div *ngIf=\"hard_data\"\n                    [class.green]=\"result[1] > 0\" [class.icon_plus]=\"result[1] > 0\" [class.icon_arrow_up]=\"result[1] > 0\"\n                    [class.red]=\"result[1] < 0\"  [class.icon_minus]=\"result[1] < 0\" [class.icon_arrow_bottom]=\"result[1] < 0\"\n                >{{result[1]}}</div>\n            </div>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */]) === "function" && _a || Object])
], DigestColumnChartComponent);

var _a;
//# sourceMappingURL=digest-column-chart.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/digest/digest-history.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DigestHistoryComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var DigestHistoryComponent = (function () {
    function DigestHistoryComponent(_hubService) {
        this._hubService = _hubService;
    }
    ;
    DigestHistoryComponent.prototype.ngOnInit = function () { };
    return DigestHistoryComponent;
}());
DigestHistoryComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'digest-history',
        inputs: ['historyRecord'],
        template: "\n        <div class=\"billet\">\n    \n            <div style=\"display: flex; justify-content: space-between;\">\n                <span>\u0417\u0430\u043F\u0438\u0441\u044C #{{ historyRecord.id }}</span>\n                <span>11.11.15 11:29</span>\n            </div>\n    \n            <table style=\"width: 100%;\">\n                <tbody style=\"vertical-align: top; font-size: 14; font-weight: 200;\">\n                    <tr>\n                        <td width=\"24%\">\n                            <span class=\"entry-header\">\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F:</span><span style=\"font-weight: 400;\"> {{ historyRecord.type }} </span>\n                        </td>\n                        <td width=\"42%\">\n                            <span [class.hidden]=\"historyRecord.type_id == 2\" class=\"entry-header\">\u041F\u043E\u043B\u0435:</span><span style=\"font-weight: 400;\"> {{ historyRecord.property_name }} </span>\n                            <span [class.hidden]=\"historyRecord.type_id == 1\" class=\"entry-header\">\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435:</span><span style=\"font-weight: 400;\"> {{ historyRecord.text }} </span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <span class=\"entry-header\">\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C:</span> <a href=\"#\">  {{ historyRecord._user_name }} </a>\n                        </td>\n                        <td>\n                            <span [class.hidden]=\"historyRecord.type_id == 2\" class=\"entry-header\">\u0421\u0442\u0430\u0440\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435:</span> {{ historyRecord.old_val }}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                        </td>\n                        <td>\n                            <span [class.hidden]=\"historyRecord.type_id == 2\" class=\"entry-header\">\u041D\u043E\u0432\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435:</span> {{ historyRecord.new_val }}\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n    \n        </div>\n    ",
        styles: ["\n        .billet {\n            background-color: inherit;\n            color: #696969;\n            font-weight: 200;\n            font-size: 14px;\n            position: relative;\n    \n            border-bottom: 1px solid #e5e5e5;\n            overflow: hidden;\n    \n            padding: 10px 20px;\n        }\n        \n        .billet.selected {\n            background-color: #157ad3;\n            color: #fff !important;\n        }\n    \n        .billet-block {\n            display: inline-block;\n            width: 42%;\n        }\n    \n        .entry-header {\n            display: inline-block;\n            width: 120px;\n            color: #aaa;\n        }\n    "]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */]) === "function" && _a || Object])
], DigestHistoryComponent);

var _a;
//# sourceMappingURL=digest-history.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/digest/digest-offer-line.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DigestOfferLineComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var DigestOfferLineComponent = (function () {
    function DigestOfferLineComponent(_hubService) {
        this._hubService = _hubService;
        this.compact = false;
        this.typeCodeOptions = {
            room: 'Комната',
            apartment: 'Квартира',
            apartment_small: 'Малосемейка',
            apartment_new: 'Новостройка',
            house: 'Дом',
            dacha: 'Дача',
            cottage: 'Коттедж',
            townhouse: 'Таунхаус',
            other: 'Другое',
            land: 'Земля',
            building: 'здание',
            office_place: 'офис',
            office: 'офис',
            market_place: 'торговая площадь',
            production_place: 'производственное помещение',
            gpurpose_place: 'помещение общего назначения',
            autoservice_place: 'автосервис',
            service_place: 'помещение под сферу услуг',
            warehouse_place: 'склад база',
            garage: 'гараж'
        };
    }
    ;
    DigestOfferLineComponent.prototype.open = function () {
        var tabSys = this._hubService.getProperty('tab_sys');
        tabSys.addTab('offer', { offer: this.offer });
    };
    DigestOfferLineComponent.prototype.compactHeight = function () {
        if (this.compact)
            return '68px';
        else
            return '85px';
    };
    return DigestOfferLineComponent;
}());
DigestOfferLineComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'digest-offer-line',
        inputs: ['offer', 'base'],
        styles: ["\n        .line-tile{\n            margin-bottom: 15px;\n            height: 40px;\n        }\n        .date{\n            width: calc(100% - 300px);\n            float: left;\n            font-size: 14px;\n            color: #9e9e9e;\n        }\n\n        .date > span{\n            color: #6f6c6c;\n        }\n\n        .agent{\n            font-size: 13px;\n            color: #6f6c6c;\n            width: 300px;\n            float: right;\n        }\n\n        .base{\n            width: 140px;\n            font-size: 14px;\n            color: #5f5f5f;\n            float: left;\n            height: 20px;\n        }\n\n        .description{\n            width: calc(100% - 300px);\n            font-size: 14px;\n            margin: 0 0 0 auto;\n            color: #d0d0d0;\n            text-align: right;\n            float: right;\n            cursor: hand;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            overflow: hidden;\n        }\n\n        .description:hover{\n            text-decoration: underline;\n        }\n\n\n    "],
        template: "\n        <div class=\"line-tile\" data-id=\"r{{offer._id}}\" id=\"r{{offer.id}}\">\n            <div style='width: 100%;height: 20px;'>\n                <div class=\"date\"> {{ ((offer.addDate * 1000) | date:'dd.MM.yy') + ' \u0433. '}} <span>{{ (offer.addDate * 1000) | date :'hh:mm' }}</span></div>\n                <div class=\"agent\">\u041E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439: {{offer.agent?.name}} </div>\n            </div>\n            <div style='width: 100%;height: 20px;'>\n                <div class=\"base\">{{base == 0 ? '\u0411\u0430\u0437\u0430 \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u0438' : '\u041E\u0431\u0449\u0430\u044F \u0431\u0430\u0437\u0430'}}</div>\n                <div class=\"base\">{{' '}}</div>\n                <div class=\"description\" (click)=\"open()\">\n                            {{ typeCodeOptions[offer.typeCode].split(\" \")[0] }}\n                            {{ offer.fullAddress.city === undefined ? \" \" : \" \" + offer.fullAddress.city }}\n                            {{ offer.fullAddress.street === undefined ? \"\" : offer.fullAddress.street }}\n                            {{ offer.fullAddress.house === undefined ? \"\" : (\", \" + offer.fullAddress.house) }}\n                            {{ offer.roomsCount  === undefined ? \"\" : \", \"+ offer.roomsCount+\"\u043A\u043E\u043C.\"}}\n                            {{ offer.squareTotal  === undefined ? \"\" : \", \"+ offer.squareTotal+\"\u043C.\" }}\n                            {{ offer.floor  === undefined ? \"\" : \", \"+ offer.floor+\"/\"}}\n                            {{ offer.floorsCount  === undefined ? \"\" : \"\"+ offer.floorsCount}}{{' \u044D\u0442\u0430\u0436'}}\n                            {{ offer.ownerPrice }} \u0442\u044B\u0441. \u0440\u0443\u0431.\n                </div>\n            </div>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */]) === "function" && _a || Object])
], DigestOfferLineComponent);

var _a;
//# sourceMappingURL=digest-offer-line.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/digest/digest-offer-table.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DigestOfferTableComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var DigestOfferTableComponent = (function () {
    function DigestOfferTableComponent(_hubService) {
        this._hubService = _hubService;
        this.withPhoto = false;
        this.typeCodeOptions = {
            room: 'Комната',
            apartment: 'Квартира',
            apartment_small: 'Малосемейка',
            apartment_new: 'Новостройка',
            house: 'Дом',
            dacha: 'Дача',
            cottage: 'Коттедж',
            townhouse: 'Таунхаус',
            other: 'Другое',
            land: 'Земля',
            building: 'здание',
            office_place: 'офис',
            office: 'офис',
            market_place: 'торговая площадь',
            production_place: 'производственное помещение',
            gpurpose_place: 'помещение общего назначения',
            autoservice_place: 'автосервис',
            service_place: 'помещение под сферу услуг',
            warehouse_place: 'склад база',
            garage: 'гараж'
        };
    }
    ;
    DigestOfferTableComponent.prototype.open = function () {
        var tabSys = this._hubService.getProperty('tab_sys');
        tabSys.addTab('offer', { offer: this.offer });
    };
    return DigestOfferTableComponent;
}());
DigestOfferTableComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'digest-offer-table',
        inputs: ['offer', 'withPhoto'],
        styles: ["\n        .billet {\n            text-align: left;\n            color: #696969;\n            font-weight: 200;\n            font-size: 14px;\n            height: 50px;\n            position: relative;\n            margin: 3px 0;\n            padding: 5px 0;\n        }\n\n        .billet.selected {\n            background-color: #157ad3;\n            color: #fff !important;\n        }\n\n        .billet > div {\n            width: 100%;\n        }\n\n        .describe{\n            color: black;\n            font-size: 13px;\n        }\n\n        .healthbar {\n            height: 1px;\n            width: 95%;\n            margin: 5px 0 0 5px;\n            background: #ccc;\n            position: relative;\n        }\n\n        .healthbar > .health {\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 100%;\n            width: 0%;\n            background-color: red;\n        }\n\n        .timestamp {\n            position: absolute;\n            top: 6px; right: 9px;\n            font-size: 11px;\n            color: #bbb;\n        }\n\n        .compact_owner {\n            color: #bfbcbb !important;\n        }\n\n        .tag-mark {\n            position: absolute;\n            right: 10px;\n            top: 40%;\n        }\n\n        .compact{\n            height: 68px;\n            background-color: inherit;\n        }\n\n        .agent{\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            overflow: hidden;\n            width: 100%;\n            display: block;\n            height: 17px;\n            font-size: 9pt;\n            color: #807982;\n            float: left;\n            margin-right: 5px;\n        }\n\n        .withPh{\n            max-width: calc(100% - 90px) !important;\n        }\n    "],
        template: "\n        <div class=\"billet\" data-id=\"r{{offer.id}}\" id=\"r{{offer.id}}\">\n            <div>\n                <img *ngIf=\"withPhoto\" src=\"{{ offer.photoUrl?offer.photoUrl[0]:'assets/no_photo.png' }}\" style=\"height: 50px;width: 74px;float: left;margin: 0 8px;\">\n                <div class=\"describe\" style=\" margin-left: 10px;\">\n                    <span style=\"font-style: italic;  font-size: 9pt; color: #002E5D;\"\n                        *ngIf =\"offer.typeCode\"\n                    >{{ typeCodeOptions[offer.typeCode].split(\" \")[0] }}\n                    </span>\n                    {{ offer.fullAddress.city === undefined ? \" \" : \", \" + offer.fullAddress.city }}<br>\n                    <div style=\"width: 100%; height: 17px; text-overflow: ellipsis;white-space: nowrap;overflow: hidden;\n                            float: left; line-height: 17px;\" [class.withPh]= \"withPhoto\">\n                            {{ offer.fullAddress.street  === undefined ? \"\" : offer.fullAddress.street }}\n                            {{ offer.fullAddress.house === undefined ? \"\" : (\", \" + offer.fullAddress.house) }}\n                            {{ offer.squareTotal  === undefined ? \"\" : \", \"+ offer.squareTotal+\"\u043C.\" }}\n                            {{ offer.floor  === undefined ? \"\" : \", \"+ offer.floor+\"/\"}}\n                            {{ offer.floorsCount  === undefined ? \"\" : \"\"+ offer.floorsCount}}</div>\n\n                    <div class=\"text-primary\" style = \"color: #8B0000; position: absolute; top: 5px;right: 0;\">{{ offer.ownerPrice }}\u0442.\u0440.</div>\n                    <span class=\"agent\" [class.withPh]= \"withPhoto\">\n                        \u041E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439: {{offer.agent?.name}}\n                    </span>\n                </div>\n            </div>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */]) === "function" && _a || Object])
], DigestOfferTableComponent);

var _a;
//# sourceMappingURL=digest-offer-table.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/digest/digest-offer-table2.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_user_service__ = __webpack_require__("../../../../../src/app/service/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_offer_service__ = __webpack_require__("../../../../../src/app/service/offer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__class_phoneBlock__ = __webpack_require__("../../../../../src/app/class/phoneBlock.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DigestOfferTable2Component; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var DigestOfferTable2Component = (function () {
    function DigestOfferTable2Component(_hubService, _offerService, _userService) {
        this._hubService = _hubService;
        this._offerService = _offerService;
        this._userService = _userService;
        this.withPhoto = false;
        this.typeCodeOptions = {
            room: 'Комната',
            apartment: 'Квартира',
            apartment_small: 'Малосемейка',
            apartment_new: 'Новостройка',
            house: 'Дом',
            dacha: 'Дача',
            cottage: 'Коттедж',
            townhouse: 'Таунхаус',
            other: 'Другое',
            land: 'Земля',
            building: 'здание',
            office_place: 'офис',
            office: 'офис',
            market_place: 'торговая площадь',
            production_place: 'производственное помещение',
            gpurpose_place: 'помещение общего назначения',
            autoservice_place: 'автосервис',
            service_place: 'помещение под сферу услуг',
            warehouse_place: 'склад база',
            garage: 'гараж'
        };
    }
    ;
    DigestOfferTable2Component.prototype.open = function () {
        var tabSys = this._hubService.getProperty('tab_sys');
        tabSys.addTab('offer', { offer: this.offer });
    };
    DigestOfferTable2Component.prototype.openUser = function () {
        if (this.offer.agent.id) {
            var tab_sys = this._hubService.getProperty('tab_sys');
            tab_sys.addTab('user', { user: this.offer.agent });
        }
    };
    DigestOfferTable2Component.prototype.tableContextMenu = function (e) {
        var _this = this;
        e.preventDefault();
        e.stopPropagation();
        var c = this;
        var users = this._userService.listCached("", 0, "");
        var uOpt = [];
        uOpt.push({ class: "entry", disabled: false, label: "Не задано", callback: function () {
                c.offer.agentId = null;
                c._offerService.save(c.offer);
            } });
        if (users)
            users.forEach(function (u) {
                uOpt.push({ class: "entry", disabled: false, label: u.name, callback: function () {
                        c.offer.agentId = u.id;
                        c._offerService.save(c.offer);
                    } });
            });
        var stateOpt = [];
        var states = [
            { value: 'raw', label: 'Не активен' },
            { value: 'active', label: 'Активен' },
            { value: 'work', label: 'В работе' },
            { value: 'suspended', label: 'Приостановлен' },
            { value: 'archive', label: 'Архив' }
        ];
        var stageOpt = [];
        var stages = [
            { value: 'contact', label: 'Первичный контакт' },
            { value: 'pre_deal', label: 'Заключение договора' },
            { value: 'show', label: 'Показ' },
            { value: 'prep_deal', label: 'Подготовка договора' },
            { value: 'decision', label: 'Принятие решения' },
            { value: 'negs', label: 'Переговоры' },
            { value: 'deal', label: 'Сделка' }
        ];
        states.forEach(function (s) {
            stateOpt.push({ class: "entry", disabled: false, label: s.label, callback: function () {
                    c.offer.stateCode = s.value;
                    c._offerService.save(c.offer);
                } });
        });
        stages.forEach(function (s) {
            stageOpt.push({ class: "entry", disabled: false, label: s.label, callback: function () {
                    c.offer.stageCode = s.value;
                    c._offerService.save(c.offer);
                } });
        });
        var menu = {
            pX: e.pageX,
            pY: e.pageY,
            scrollable: false,
            items: [
                { class: "entry", disabled: false, icon: "dcheck", label: 'Проверить', callback: function () {
                        var tab_sys = _this._hubService.getProperty('tab_sys');
                        var rq = [];
                        rq.push(__WEBPACK_IMPORTED_MODULE_4__class_phoneBlock__["a" /* PhoneBlock */].getAsString(_this.offer.person.phoneBlock));
                        tab_sys.addTab('list_offer', { query: rq.join(" ") });
                    } },
                { class: "entry", disabled: false, icon: "document", label: 'Открыть', callback: function () {
                        var tab_sys = _this._hubService.getProperty('tab_sys');
                        tab_sys.addTab('offer', { offer: _this.offer });
                    } },
                { class: "entry", disabled: false, icon: "trash", label: 'Удалить', callback: function () {
                        _this.offer.stageCode = 'archive';
                        c._offerService.save(_this.offer);
                    } },
                { class: "delimiter" },
                { class: "submenu", disabled: false, icon: "edit", label: "Стадия", items: stageOpt },
                { class: "submenu", disabled: false, icon: "person", label: "Назначить", items: uOpt },
                { class: "submenu", disabled: true, icon: "task", label: "Задача", items: [
                        { class: "entry", disabled: false, label: "пункт x1", callback: function () { alert('yay s1!'); } },
                        { class: "entry", disabled: false, label: "пункт x2", callback: function () { alert('yay s2!'); } },
                    ] },
                { class: "submenu", disabled: true, icon: "advert", label: "Реклама", items: [
                        { class: "entry", disabled: false, label: "пункт x1", callback: function () { alert('yay s1!'); } },
                        { class: "entry", disabled: false, label: "пункт x2", callback: function () { alert('yay s2!'); } },
                    ] },
                { class: "delimiter" },
                { class: "tag", icon: "tag", label: "Теги:", items: [
                        { disabled: false, icon: '', callback: function () { } },
                        { disabled: false, icon: 'circle tag-red', callback: function () { } },
                        { disabled: false, icon: 'circle tag-orange', callback: function () { } },
                        { disabled: false, icon: 'circle tag-yellow', callback: function () { } },
                        { disabled: false, icon: 'circle tag-green', callback: function () { } },
                        { disabled: false, icon: 'circle tag-blue', callback: function () { } },
                        { disabled: false, icon: 'circle tag-violet', callback: function () { } },
                        { disabled: false, icon: 'circle tag-gray', callback: function () { } },
                    ] }
            ]
        };
        this._hubService.shared_var['cm'] = menu;
        this._hubService.shared_var['cm_hidden'] = false;
    };
    return DigestOfferTable2Component;
}());
DigestOfferTable2Component = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'digest-offer-table2',
        inputs: ['offer', 'withPhoto'],
        styles: ["\n        .billet {\n            text-align: left;\n            color: #696969;\n            font-weight: 200;\n            font-size: 14px;\n            height: 80px;\n            position: relative;\n            margin: 5px 0;\n            cursor: hand;\n            background-color: white;\n        }\n\n        .billet:hover {\n            background-color: #f5f3f3;\n        }\n\n        .billet.selected {\n            background-color: #157ad3;\n            color: #fff !important;\n        }\n\n        .billet > div {\n            width: 100%;\n        }\n\n        .describe{\n            color: black;\n            font-size: 12px;\n        }\n\n        .healthbar {\n            height: 1px;\n            width: 95%;\n            margin: 5px 0 0 5px;\n            background: #ccc;\n            position: relative;\n        }\n\n        .healthbar > .health {\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 100%;\n            width: 0%;\n            background-color: red;\n        }\n\n        .timestamp {\n          font-size: 9px;\n          color: #707070;\n          width: 98%;\n          height: 14px;\n          text-align: end;\n        }\n\n        .compact_owner {\n            color: #bfbcbb !important;\n        }\n\n        .tag-mark {\n            position: absolute;\n            right: 10px;\n            top: 40%;\n        }\n\n        .compact{\n            height: 68px;\n            background-color: inherit;\n        }\n\n        .agent{\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          overflow: hidden;\n          width: 100%;\n          display: block;\n          height: 15px;\n          font-size: 11px;\n          color: #707070;\n          float: left;\n          margin-right: 5px;\n        }\n\n        .withPh{\n            max-width: calc(100% - 90px) !important;\n        }\n\n        .menu{\n            position: absolute;\n            width: 20px;\n            height: 12px;\n            font-size: 20px;\n            line-height: 2px;\n            color: silver;\n            top: 5;\n            right: 5;\n        }\n\n        .menu:hover{\n            color: #1061c4;\n        }\n    "],
        template: "\n        <div class=\"billet\" data-id=\"r{{offer._id}}\" id=\"r{{offer.id}}\">\n            <div>\n                <div class=\"describe\" style=\" margin-left: 10px;\">\n                    <span style=\"font-size: 12px;\"\n                        *ngIf =\"offer.typeCode\"\n                    >{{ typeCodeOptions[offer.typeCode].split(\" \")[0] }},\n                        {{ offer.roomsCount  === undefined ? \"\" : offer.roomsCount + '\u043A\u043E\u043C\u043D., ' }}\n                        {{ offer.floor  === undefined ? \"?\" :  offer.floor}}/{{ offer.floorsCount  === undefined ? \"?\" : offer.floorsCount}}\n                        {{ offer.squareTotal  === undefined ? \"?\" : offer.squareTotal }}/{{ offer.squareLiving  === undefined ? \"?\" : offer.squareLiving }}/{{ offer.squareKitchen  === undefined ? \"?\" : offer.squareKitchen }}\n                    </span>\n                    <br>\n                    <div style=\"width: 100%; height: 17px; text-overflow: ellipsis;white-space: nowrap;overflow: hidden;\n                            float: left; line-height: 14px;\" [class.withPh]= \"withPhoto\">\n                            {{ offer.fullAddress.city === undefined ? \" \" : \"\" + offer.fullAddress.city }}\n                            {{ offer.fullAddress.street === undefined ? \"\" : (\", \" + offer.fullAddress.street) }}\n                            {{ offer.fullAddress.house === undefined ? \"\" : (\", \" + offer.fullAddress.house) }}\n                    </div>\n                    <span class=\"agent\" [class.withPh]= \"withPhoto\">\u0417\u0430\u0434\u0430\u0447\u0430: \u041D\u0435\u043F\u043E\u043D\u044F\u0442\u043D\u043E \u043A\u0430\u043A\u0430\u044F \u0437\u0430\u0434\u0430\u0447\u0430 \u0438 \u043D\u0443\u0436\u043D\u043E \u043D\u0430\u0432\u0435\u0440\u043D\u043E\u0435 \u0434\u043B\u044F \u043D\u0435\u0435 \u043E\u0442\u0434\u0435\u043B\u044C\u043D\u043E\u0435 \u043F\u043E\u043B\u0435</span>\n                    <span class=\"agent\" [class.withPh]= \"withPhoto\">\u041E\u0442\u0432.: {{offer.agent?.name}}</span>\n                    <div class=\"timestamp\" *ngIf=\"offer.changeDate\"> {{ (offer.changeDate | formatDate).toString().split(\" \")[0] }} </div>\n                    <div class=\"menu\" (click)=\"tableContextMenu($event)\">...</div>\n                </div>\n            </div>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_3__service_offer_service__["b" /* OfferService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__service_offer_service__["b" /* OfferService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_2__service_user_service__["a" /* UserService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__service_user_service__["a" /* UserService */]) === "function" && _c || Object])
], DigestOfferTable2Component);

var _a, _b, _c;
//# sourceMappingURL=digest-offer-table2.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/digest/digest-offer.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DigestOfferComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var DigestOfferComponent = (function () {
    function DigestOfferComponent(_hubService) {
        this._hubService = _hubService;
        this.compact = false;
        this.typeCodeOptions = {
            room: 'Комната',
            apartment: 'Квартира',
            apartment_small: 'Малосемейка',
            apartment_new: 'Новостройка',
            house: 'Дом',
            dacha: 'Дача',
            cottage: 'Коттедж',
            townhouse: 'Таунхаус',
            other: 'Другое',
            land: 'Земля',
            building: 'здание',
            office_place: 'офис',
            office: 'офис',
            market_place: 'торговая площадь',
            production_place: 'производственное помещение',
            gpurpose_place: 'помещение общего назначения',
            autoservice_place: 'автосервис',
            service_place: 'помещение под сферу услуг',
            warehouse_place: 'склад база',
            garage: 'гараж'
        };
    }
    ;
    DigestOfferComponent.prototype.open = function () {
        var tabSys = this._hubService.getProperty('tab_sys');
        tabSys.addTab('offer', { offer: this.offer });
    };
    DigestOfferComponent.prototype.compactHeight = function () {
        if (this.compact)
            return '68px';
        else
            return '85px';
    };
    return DigestOfferComponent;
}());
DigestOfferComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'digest-offer',
        inputs: ['offer', 'compact'],
        styles: ["\n\n        .billet {\n            background-color: white;\n            color: #696969;\n            font-weight: 200;\n            font-size: 14px;\n            height: 70px;\n            position: relative;\n            margin: 3px 0;\n            padding: 5px 0;\n        }\n\n        .billet:hover {\n            background-color: #f5f3f3;\n            cursor: hand;\n        }\n\n        .billet > div {\n            width: 100%;\n        }\n\n        .describe{\n            color: black;\n            font-size: 13px;\n            line-height: 15px;\n        }\n\n        .healthbar {\n            height: 1px;\n            width: 95%;\n            margin: 5px 0 0 5px;\n            background: #ccc;\n            position: relative;\n        }\n\n        .healthbar > .health {\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 100%;\n            width: 0%;\n            background-color: red;\n        }\n\n        .timestamp {\n            position: absolute;\n            top: 6px; right: 9px;\n            font-size: 11px;\n            color: #bbb;\n        }\n\n        .compact_owner {\n            color: #bfbcbb !important;\n        }\n\n        .tag-mark {\n            position: absolute;\n            right: 10px;\n            top: 40%;\n        }\n\n        .compact{\n            height: 68px;\n            background-color: inherit;\n        }\n\n    "],
        template: "\n        <div class=\"billet\" data-id=\"r{{offer._id}}\" id=\"r{{offer.id}}\" [class.compact] = \"compact\">\n            <div>\n                <div class=\"timestamp\" *ngIf=\"offer.changeDate\"> {{ (offer.changeDate | formatDate).toString().split(\" \")[0] }} </div>\n                <div class=\"tag-mark\">\n                    <ui-tag\n                        [value]=\"offer.tag\"\n                    >\n                    </ui-tag>\n                </div>\n                <!--<img *ngIf=\"!compact\" src=\"{{ offer.photoUrl?offer.photoUrl[0]:'assets/no_photo.png' }}\"\n                    style=\"height: 56px;width: 74px;float: left;margin: 0 10px;\"\n                > -->\n                <div class=\"describe\" style=\"min-height: 70px; margin-left: 10px;\">\n                    <span style=\"font-style: italic;  font-size: 9pt; color: #002E5D;\"\n                        *ngIf =\"offer.typeCode\"\n                    >{{ typeCodeOptions[offer.typeCode].split(\" \")[0] }}\n                    </span>\n                    {{ offer.fullAddress.city === undefined ? \" \" : \", \" + offer.fullAddress.city }}<br>\n                    <div style=\"width: 220px; height: 17px; text-overflow: ellipsis;white-space: nowrap;overflow: hidden;\n                            float: left;margin-right: 30px;\">\n                            {{ offer.fullAddress.street === undefined ? \"\" : offer.fullAddress.street }}\n                            {{ offer.fullAddress.house === undefined ? \"\" : (\", \" + offer.fullAddress.house) }}\n                            {{ offer.roomsCount  === undefined ? \"\" : \", \"+ offer.roomsCount+\"\u043A\u043E\u043C.\"}}\n                            {{ offer.squareTotal  === undefined ? \"\" : \", \"+ offer.squareTotal+\"\u043C.\" }}\n                            {{ offer.floor  === undefined ? \"\" : \", \"+ offer.floor+\"/\"}}\n                            {{ offer.floorsCount  === undefined ? \"\" : \"\"+ offer.floorsCount}}</div><br>\n\n                    <div class=\"text-primary\" style = \"color: #8B0000;\">\u0426\u0435\u043D\u0430: {{ offer.ownerPrice }} \u0442\u044B\u0441. \u0440\u0443\u0431.</div>\n                    <span *ngIf=\"!(offer.locality || ' ').split(',')[1] && !compact\" style=\"height: 10px;display: block;\"></span>\n                    <span style=\"font-size: 9pt; color: #a9a8a8;\" [class.compact_owner]=\"compact\">\n                        \u041E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439:\n                    </span>\n                    <span  [class.compact_owner]=\"compact\"> {{offer.agent?.name}} </span>\n                </div>\n            </div>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */]) === "function" && _a || Object])
], DigestOfferComponent);

var _a;
//# sourceMappingURL=digest-offer.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/digest/digest-organisation.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DigestOrganisationComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var DigestOrganisationComponent = (function () {
    function DigestOrganisationComponent(_hubService) {
        this._hubService = _hubService;
        this.selected = false;
    }
    ;
    DigestOrganisationComponent.prototype.ngOnInit = function () { };
    DigestOrganisationComponent.prototype.select = function () {
        this.selected = !this.selected;
    };
    DigestOrganisationComponent.prototype.open = function () {
        this.selected = true;
        var tabSys = this._hubService.getProperty('tab_sys');
        tabSys.addTab('organisation', { organisation: this.organisation });
    };
    DigestOrganisationComponent.prototype.tStart = function () {
        var _this = this;
        clearTimeout(this.to);
        this.to = setTimeout(function () {
            _this.open();
        }, 1000);
    };
    DigestOrganisationComponent.prototype.tEnd = function () {
        clearTimeout(this.to);
    };
    return DigestOrganisationComponent;
}());
DigestOrganisationComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'digest-organisation',
        inputs: ['organisation'],
        styles: ["\n        .billet {\n            background-color: inherit;\n            color: #696969;\n            font-weight: 200;\n            font-size: 14px;\n            position: relative;\n    \n            border-bottom: 1px solid #e5e5e5;\n            overflow: hidden;\n    \n            padding: 10px 20px;\n        }\n    \n        .billet-label {\n            font-weight: 400;\n            color:  #666;\n            font-size: 17px;\n            white-space: nowrap;\n            margin-left: 25px;\n        }\n    \n        .billet.selected {\n            background-color: #157ad3;\n            color: #fff !important;\n        }\n    \n        .billet-block {\n            display: inline-block;\n            width: 32%;\n        }\n    \n        .entry-header {\n            display: inline-block;\n            width: 115px;\n            color: #aaa;\n        }\n    \n        .badge-gray {\n            display: inline-block;\n            width: 85px;\n            text-align: center;\n            color: #666;\n            background-color: #eee;\n        }\n        .badge-red {\n            display: inline-block;\n            width: 85px;\n            text-align: center;\n            color: #fff;\n            background-color: #e05050;\n        }\n        .badge-green {\n            display: inline-block;\n            width: 85px;\n            text-align: center;\n            color: #fff;\n            background-color: #50e050;\n        }\n    "],
        template: "\n        <div class=\"billet\"\n            [class.selected]=\"selected\"\n            (click)=\"select()\"\n            (dblclick)=\"open()\"\n            (touchstart)=\"tStart()\"\n            (touchend)=\"tEnd()\"\n        >\n            <div style=\"display: flex; justify-content: space-between;\">\n                <span>\u041E\u0440\u0433\u0430\u043D\u0438\u0437\u0430\u0446\u0438\u044F {{ organisation.id }}\n                    <span class=\"billet-label\">{{ organisation.name }}</span>\n                </span>\n                <span>{{ organisation.change_date | formatDate }} / {{ organisation.add_date | formatDate }}</span>\n            </div>\n            <table style=\"width: 100%;\">\n                <tbody style=\"vertical-align: top; font-size: 14; font-weight: 200;\">\n                    <tr>\n                        <td width=\"33%\">\n                            <span class=\"entry-header\">\u0410\u0434\u0440\u0435\u0441:</span><span style=\"font-weight: 400;\"> {{ organisation.address }} </span>\n                        </td>\n                        <td width=\"33%\">\n                            <span class=\"entry-header\" style=\"width: 105px;\"></span>\n                        </td>\n                        <td width=\"33%\">\n                            <span class=\"entry-header\"></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <span class=\"entry-header\"></span>\n                        </td>\n                        <td></td>\n                        <td>\n                            <span class=\"entry-header\"></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <span class=\"entry-header\"></span>\n                        </td>\n                        <td></td>\n                        <td>\n                            <span class=\"entry-header\" style=\"width: 90px;\"></span>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */]) === "function" && _a || Object])
], DigestOrganisationComponent);

var _a;
//# sourceMappingURL=digest-organisation.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/digest/digest-person.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_user_service__ = __webpack_require__("../../../../../src/app/service/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_organisation_service__ = __webpack_require__("../../../../../src/app/service/organisation.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_task_service__ = __webpack_require__("../../../../../src/app/service/task.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__entity_organisation__ = __webpack_require__("../../../../../src/app/entity/organisation.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__entity_user__ = __webpack_require__("../../../../../src/app/entity/user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__class_task__ = __webpack_require__("../../../../../src/app/class/task.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DigestPersonComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var DigestPersonComponent = (function () {
    function DigestPersonComponent(_hubService, _userService, _organisationService, _taskService) {
        this._hubService = _hubService;
        this._userService = _userService;
        this._organisationService = _organisationService;
        this._taskService = _taskService;
        this.selected = false;
        this.organisation = new __WEBPACK_IMPORTED_MODULE_5__entity_organisation__["a" /* Organisation */]();
        this.agent = new __WEBPACK_IMPORTED_MODULE_6__entity_user__["a" /* User */]();
    }
    ;
    DigestPersonComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.task = this._taskService.getRandomTask();
        if (this.person.organisationId) {
            this._organisationService.get(this.person.organisationId).subscribe(function (org) {
                _this.organisation = org;
            });
        }
        if (this.person.userId != null) {
            this._userService.get(this.person.userId).subscribe(function (agent) {
                _this.agent = agent;
            });
        }
        this.resultText = this.getResultText();
    };
    DigestPersonComponent.prototype.select = function () {
        this.selected = !this.selected;
    };
    DigestPersonComponent.prototype.open = function () {
        this.selected = true;
        var tabSys = this._hubService.getProperty('tab_sys');
        tabSys.addTab('person', { person: this.person });
    };
    DigestPersonComponent.prototype.tStart = function () {
        var _this = this;
        clearTimeout(this.to);
        this.to = setTimeout(function () {
            _this.open();
        }, 1000);
    };
    DigestPersonComponent.prototype.tEnd = function () {
        clearTimeout(this.to);
    };
    DigestPersonComponent.prototype.getResultText = function () {
        return __WEBPACK_IMPORTED_MODULE_7__class_task__["a" /* Task */].getResultText(this.task);
    };
    return DigestPersonComponent;
}());
DigestPersonComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'digest-person',
        inputs: ['person'],
        styles: ["\n        .billet {\n            background-color: inherit;\n            color: #696969;\n            font-weight: 200;\n            font-size: 14px;\n            position: relative;\n    \n            border-bottom: 1px solid #e5e5e5;\n            overflow: hidden;\n    \n            padding: 10px 20px;\n        }\n    \n        .billet-label {\n            font-weight: 400;\n            color:  #666;\n            font-size: 17px;\n            white-space: nowrap;\n            margin-left: 50px;\n        }\n    \n        .billet.selected {\n            background-color: #157ad3;\n            color: #fff !important;\n        }\n    \n        .billet-block {\n            display: inline-block;\n            width: 32%;\n        }\n    \n        .entry-header {\n            display: inline-block;\n            width: 90px;\n            color: #aaa;\n        }\n    \n        .badge-gray {\n            display: inline-block;\n            width: 85px;\n            text-align: center;\n            color: #666;\n            background-color: #eee;\n        }\n        .badge-red {\n            display: inline-block;\n            width: 85px;\n            text-align: center;\n            color: #fff;\n            background-color: #e05050;\n        }\n        .badge-green {\n            display: inline-block;\n            width: 85px;\n            text-align: center;\n            color: #fff;\n            background-color: #50e050;\n        }\n    "],
        template: "\n        <div class=\"billet\"\n             [class.selected]=\"selected\"\n             (click)=\"select()\"\n             (dblclick)=\"open()\"\n             (touchstart)=\"tStart()\"\n             (touchend)=\"tEnd()\"\n        >\n            <div style=\"display: flex; justify-content: space-between;\">\n                <span>\u041A\u043E\u043D\u0442\u0430\u043A\u0442 {{ person.id }}\n                    <span class=\"billet-label\">{{ person.name }}</span>\n                </span>\n                <span>{{ person.changeDate | formatDate }} / {{ person.addDate | formatDate }}</span>\n            </div>\n            <table style=\"width: 100%;\">\n                <tbody style=\"vertical-align: top; font-size: 14px; font-weight: 200;\">\n                <tr>\n                    <td width=\"33%\">\n                        <span class=\"entry-header\" style=\"width: 105px;\">\u041E\u0440\u0433\u0430\u043D\u0438\u0437\u0430\u0446\u0438\u044F:</span> {{ organisation.name }}\n                    </td>\n                    <td width=\"33%\">\n                        <span class=\"entry-header\">\u0417\u0430\u0434\u0430\u0447\u0430:</span> {{ task.type }}\n                    </td>\n                    <td width=\"33%\">\n                        <div style=\"float: left; display: block;\">\n                            <span class=\"entry-header\" style=\"width: 90px;\">\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439:</span>\n                        </div>\n                        <div style=\"oveflow: hidden;\">\n                            <span class=\"line-clamp line-clamp-1\" style=\"font-style: italic; line-height: normal;\"> {{ task.comment }} </span>\n                        </div>\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        <span class=\"entry-header\" style=\"width: 105px;\">\u041E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439:</span> <a href=\"#\"> {{ agent.name\n                        }} </a>\n                    </td>\n                    <td>\n                        <span class=\"entry-header\">\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442:</span> <span [class.badge-gray]=\"task.result_id == 0\"\n                                                                           [class.badge-green]=\"task.result_id == 1\"\n                                                                           [class.badge-red]=\"task.result_id == 2\">{{ resultText }}</span>\n                    </td>\n                    <td>\n        \n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        <span class=\"entry-header\" style=\"width: 105px;\">\u0422\u0435\u043B\u0435\u0444\u043E\u043D:</span>{{ person.phoneBlock | phoneBlockAsString }}\n                    </td>\n                    <td></td>\n                    <td>\n        \n                    </td>\n                </tr>\n                </tbody>\n            </table>\n        \n        \n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__service_user_service__["a" /* UserService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__service_user_service__["a" /* UserService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__service_organisation_service__["a" /* OrganisationService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__service_organisation_service__["a" /* OrganisationService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_4__service_task_service__["a" /* TaskService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__service_task_service__["a" /* TaskService */]) === "function" && _d || Object])
], DigestPersonComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=digest-person.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/digest/digest-pie-chart.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DigestPieChartComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var DigestPieChartComponent = (function () {
    function DigestPieChartComponent(_hubService) {
        this._hubService = _hubService;
        this.chartID = "Chart" + Math.floor(Math.random() * (9999 - 1000 + 1)) + 1000;
        this.hard_data = false;
        this.pie_ChartData = [];
        this.data = [];
        this.height = "160px";
        this.width = "300px";
        this.chartSize = 136;
    }
    ;
    DigestPieChartComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (!this.data) {
            this.pie_ChartData.push(['Данных нет', 1]);
        }
        else if (!this.hard_data)
            this.pie_ChartData = [].concat(this.data);
        else {
            for (var _i = 0, _a = this.data; _i < _a.length; _i++) {
                var i = _a[_i];
                this.pie_ChartData.push([i[0], i[1]]);
            }
        }
        this.pie_ChartData.unshift(['', '']);
        setTimeout(function () {
            _this.resize();
        }, 1);
    };
    DigestPieChartComponent.prototype.ngOnChanges = function () { };
    DigestPieChartComponent.prototype.abs = function (num) {
        return Math.abs(num);
    };
    DigestPieChartComponent.prototype.resize = function () {
        this.pie_ChartOptions = {
            width: this.getSize(),
            height: this.getSize(),
            pieHole: 0.53,
            legend: 'none',
            chartArea: { left: 'auto', top: 0, width: this.getSize(), height: this.getSize() },
            pieSliceText: 'none',
            slices: [
                { color: '#AB47BC' },
                { color: '#FF7043' },
                { color: '#42A5F5' },
                { color: '#EF5350' },
                { color: '#5C6BC0' }
            ]
        };
    };
    DigestPieChartComponent.prototype.getSize = function () {
        var chart_area = document.getElementById(this.chartID);
        if (chart_area) {
            var containerHeight = chart_area.clientHeight;
            var containerWidth = chart_area.clientWidth;
            if (containerWidth > containerHeight)
                return Math.round(containerHeight);
            else
                return Math.round(containerWidth);
        }
        else
            return 136;
    };
    return DigestPieChartComponent;
}());
DigestPieChartComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'digest-pie-chart',
        inputs: ['data', 'header', 'hard_data', 'height', 'width', 'result'],
        styles: ["\n        .container {\n            background-color: white;\n            font-size: 16px;\n            position: relative;\n            display: inline-block;\n            min-height: 159px;\n            height: 100%;\n            width: 100%;\n            overflow: hidden;\n            min-width: 285px;\n        }\n        .head{\n            text-transform: uppercase;\n            color: #4c4c4c;\n            margin: 12px 0 0px 15px;\n            position: relative;\n            z-index: 10;\n            height: 48px;\n            display: flex;\n            justify-content: space-between;\n        }\n\n        .total{\n            font-size: 20pt;\n            color: rgba(0, 0, 0, 0.67);\n            display: flex;\n            align-items: center;\n            height: 15px;\n            margin-right: 10px;\n        }\n\n        .total>div:nth-child(1){\n            float: left;\n            margin-right: 6px;\n        }\n\n        .total>div:nth-child(2){\n            font-size: 10pt;\n            height: 16px;\n            line-height: 25px;\n        }\n\n        .total>div:nth-child(2):after{\n            font-size: 10pt;\n            position: relative;\n            top: 0px;\n        }\n\n        .table{\n            height: calc(100% - 72px);\n            display: flex;\n            flex-direction: row;\n            width: calc(100% - 20px);\n            margin-left: 10px;\n            justify-content: space-between;\n        }\n\n        .table > .dates{\n            width: 50%;\n            height: 100%;\n            float: right;\n        }\n\n        .dates > div {\n            width: 100%;\n            display: flex;\n            justify-content: space-between;\n        }\n\n        .dates > div > div{\n            font-size: 12px;\n            color: rgba(101, 101, 101, 0.81);\n            height: 17px;\n            line-height: 13px;\n            overflow: hidden;\n            text-overflow: ellipsis;\n        }\n\n        .chart{\n            width: 50%;\n            display: flex;\n            justify-content: flex-end;\n        }\n\n        .red{\n            color: red !important;\n        }\n        .green{\n            color: green !important;\n        }\n\n    "],
        template: "\n        <div class=\"container\" (window:resize)=\"resize()\">\n            <div class=\"head\">{{header}}\n                <div class=\"total\" *ngIf=\"result\">\n                    <div>{{result[0]}}</div>\n                    <div *ngIf=\"hard_data\"\n                        [class.green]=\"result[1] > 0\" [class.icon_plus]=\"result[1] > 0\" [class.icon_arrow_up]=\"result[1] > 0\"\n                        [class.red]=\"result[1] < 0\"  [class.icon_minus]=\"result[1] < 0\" [class.icon_arrow_bottom]=\"result[1] < 0\"\n                    >{{abs(result[1])}}</div>\n                </div>\n            </div>\n            <div class=\"table\">\n                <div class=\"dates\">\n                    <div *ngFor=\"let dat of data\">\n                        <div style=\"flex: 0 2 100%;\">{{dat[0]}}</div>\n                        <div [style.width]=\"'25%'\">{{dat[1]}}</div>\n                        <div *ngIf=\"dat[2]\" [style.width]=\"'35%'\"\n                            [class.green]=\"dat[2] > 0\" [class.icon_plus]=\"dat[2] > 0\" [class.icon_arrow_up]=\"dat[2] > 0\"\n                            [class.red]=\"dat[2] < 0\"  [class.icon_minus]=\"dat[2] < 0\" [class.icon_arrow_bottom]=\"dat[2] < 0\"\n                        >\n                            {{abs(dat[2])}}\n                        </div>\n                    </div>\n                </div>\n                <div class=\"chart\"\n                    id={{chartID}}\n                    [data]=\"pie_ChartData\"\n                    [chartOptions] = \"pie_ChartOptions\"\n                    chartType=\"PieChart\" GoogleChart\n                >\n                </div>\n            </div>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */]) === "function" && _a || Object])
], DigestPieChartComponent);

var _a;
//# sourceMappingURL=digest-pie-chart.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/digest/digest-request.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_person_service__ = __webpack_require__("../../../../../src/app/service/person.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_task_service__ = __webpack_require__("../../../../../src/app/service/task.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__entity_person__ = __webpack_require__("../../../../../src/app/entity/person.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__class_task__ = __webpack_require__("../../../../../src/app/class/task.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__entity_user__ = __webpack_require__("../../../../../src/app/entity/user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_user_service__ = __webpack_require__("../../../../../src/app/service/user.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DigestRequestComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var DigestRequestComponent = (function () {
    function DigestRequestComponent(_hubService, _userService, _taskService, _personService) {
        this._hubService = _hubService;
        this._userService = _userService;
        this._taskService = _taskService;
        this._personService = _personService;
        this.selected = false;
        this.person = new __WEBPACK_IMPORTED_MODULE_4__entity_person__["a" /* Person */]();
        this.agent = new __WEBPACK_IMPORTED_MODULE_6__entity_user__["a" /* User */]();
    }
    ;
    DigestRequestComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.task = this._taskService.getRandomTask();
        this.resultText = this.getResultText();
        if (this.request.personId != null) {
            this._personService.get(this.request.personId).subscribe(function (person) {
                _this.person = person;
            });
        }
        if (this.request.agentId != null) {
            this._userService.get(this.request.agentId).subscribe(function (agent) {
                _this.agent = agent;
            });
        }
    };
    DigestRequestComponent.prototype.select = function () {
        this.selected = !this.selected;
    };
    DigestRequestComponent.prototype.open = function () {
        this.selected = true;
        var tabSys = this._hubService.getProperty('tab_sys');
        tabSys.addTab('request', { request: this.request });
    };
    DigestRequestComponent.prototype.tStart = function () {
        var _this = this;
        clearTimeout(this.to);
        this.to = setTimeout(function () {
            _this.open();
        }, 1000);
    };
    DigestRequestComponent.prototype.tEnd = function () {
        clearTimeout(this.to);
    };
    DigestRequestComponent.prototype.getResultText = function () {
        return __WEBPACK_IMPORTED_MODULE_5__class_task__["a" /* Task */].getResultText(this.task);
    };
    return DigestRequestComponent;
}());
DigestRequestComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'digest-request',
        inputs: ['request', 'compact', 'color'],
        styles: ["\n        .billet, .billet_small {\n            background-color: inherit;\n            color: #696969;\n            font-weight: 200;\n            font-size: 14px;\n            position: relative;\n            border-bottom: 1px solid #e5e5e5;\n            overflow: hidden;\n            padding: 10px 20px;\n\n        }\n\n        .billet_small {\n            padding: 10px;\n        }\n\n        .billet-label {\n            font-weight: 400;\n            color:  #666;\n            font-size: 17px;\n            white-space: nowrap;\n            margin-left: 20px;\n        }\n\n        .billet_small .billet-label{\n            font-size: 13px;\n            width: calc(100% - 20px);\n            margin-left: 0px;\n            overflow: hidden;\n            text-overflow: ellipsis;\n        }\n\n        .billet.selected {\n            background-color: #157ad3;\n            color: #fff !important;\n        }\n\n        .billet-block {\n            display: inline-block;\n            width: 32%;\n        }\n\n        .entry-header {\n            display: inline-block;\n            width: 80px;\n            color: #aaa;\n        }\n\n        .badge-gray {\n            display: inline-block;\n            width: 85px;\n            text-align: center;\n            color: #666;\n            background-color: #eee;\n        }\n        .badge-red {\n            display: inline-block;\n            width: 85px;\n            text-align: center;\n            color: #fff;\n            background-color: #e05050;\n        }\n        .badge-green {\n            display: inline-block;\n            width: 85px;\n            text-align: center;\n            color: #fff;\n            background-color: #50e050;\n        }\n    "],
        template: "\n        <div class=\"billet\"\n             [class.selected]=\"selected\"\n             (click)=\"select()\"\n             (dblclick)=\"open()\"\n             (touchstart)=\"tStart()\"\n             (touchend)=\"tEnd()\"\n             *ngIf=\"!compact\"\n        >\n            <div style=\"display: flex; justify-content: space-between;\">\n                <span>\u0417\u0430\u044F\u0432\u043A\u0430 {{ request._id }}\n                  <span class=\"billet-label\">{{ request.request }} ( {{ request.offerTypeCode }} )</span>\n                </span>\n\n                <span></span>\n            </div>\n            <table style=\"width: 100%;\">\n                <tbody style=\"vertical-align: top; font-size: 14px; font-weight: 200;\">\n                <tr>\n                    <td width=\"33%\">\n                        <span class=\"entry-header\" style=\"width: 105px;\">\u041A\u043E\u043D\u0442\u0430\u043A\u0442:</span> <a href=\"#\">{{ person.name }}</a>\n                    </td>\n                    <td width=\"33%\">\n                        <span class=\"entry-header\">\u0417\u0430\u0434\u0430\u0447\u0430:</span> {{ task.type }}\n                    </td>\n                    <td width=\"33%\">\n                        <div style=\"float: left; display: block;\">\n                            <span class=\"entry-header\" style=\"width: 90px;\">\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439:</span>\n                        </div>\n                        <div style=\"oveflow: hidden;\">\n                            <span class=\"line-clamp line-clamp-1\" style=\"font-style: italic; line-height: normal;\"> {{ task.comment }} </span>\n                        </div>\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        <span class=\"entry-header\" style=\"width: 105px;\">\u041E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439:</span> <a href=\"#\"> {{ agent.name }} </a>\n                    </td>\n                    <td>\n                        <span class=\"entry-header\">\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442:</span> <span [class.badge-gray]=\"task.result_id == 0\"\n                                                                           [class.badge-green]=\"task.result_id == 1\"\n                                                                           [class.badge-red]=\"task.result_id == 2\">{{ resultText }}</span>\n                    </td>\n                    <td>\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        <span class=\"entry-header\" style=\"width: 105px;\">\u0421\u0442\u0430\u0434\u0438\u044F:</span>\n                    </td>\n                    <td></td>\n                    <td>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n        </div>\n        <div class=\"billet_small\"\n             [class.selected]=\"selected\"\n             (click)=\"select()\"\n             (dblclick)=\"open()\"\n             (touchstart)=\"tStart()\"\n             (touchend)=\"tEnd()\"\n             *ngIf=\"compact\"\n        >\n            <div class=\"billet-label\" style=\"font-style: italic; white-space: normal;\" [style.color]=\"color\">\n                <span class=\"billet-label\" style=\"margin-right: 7px; font-style: normal;\">\n                    {{ (request.addDate | formatDate).toString().split(\" \")[0]}}\n                </span>\n                {{ request.request }}\n            </div>\n            <div class=\"billet-label\" style=\"width: calc(100% - 32px); color: #a9a8a8 ;\">\n                \u041E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439: <span [style.color]=\"color\">{{ agent.name || person.name }}</span>\n            </div>\n            <div *ngIf=\"agent\" class=\"billet-label\" style=\"width: calc(100% - 32px);   color: #a9a8a8 !important;\">\n                \u041A\u043E\u043D\u0442\u0430\u043A\u0442\u044B: {{ agent.phoneBlock | phoneBlockAsString }}\n            </div>\n            <div *ngIf=\"!agent\" class=\"billet-label\" style=\"width: calc(100% - 32px);   color: #a9a8a8 !important;\">\n                \u041A\u043E\u043D\u0442\u0430\u043A\u0442\u044B: {{ person.phoneBlock | phoneBlockAsString }}\n            </div>\n        </div>\n\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_7__service_user_service__["a" /* UserService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_7__service_user_service__["a" /* UserService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__service_task_service__["a" /* TaskService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__service_task_service__["a" /* TaskService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_2__service_person_service__["a" /* PersonService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__service_person_service__["a" /* PersonService */]) === "function" && _d || Object])
], DigestRequestComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=digest-request.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/digest/digest-user.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_user_service__ = __webpack_require__("../../../../../src/app/service/user.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DigestUserComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var DigestUserComponent = (function () {
    function DigestUserComponent(_hubService, _userService) {
        this._hubService = _hubService;
        this._userService = _userService;
        this.selected = false;
    }
    ;
    DigestUserComponent.prototype.ngOnInit = function () { };
    DigestUserComponent.prototype.select = function () {
        this.selected = !this.selected;
    };
    DigestUserComponent.prototype.open = function () {
        this.selected = true;
        var tabSys = this._hubService.getProperty('tab_sys');
        tabSys.addTab('user', { user: this.user });
    };
    DigestUserComponent.prototype.tStart = function () {
        var _this = this;
        clearTimeout(this.to);
        this.to = setTimeout(function () {
            _this.open();
        }, 1000);
    };
    DigestUserComponent.prototype.tEnd = function () {
        clearTimeout(this.to);
    };
    return DigestUserComponent;
}());
DigestUserComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'digest-user',
        inputs: ['user'],
        styles: ["\n        .billet {\n            background-color: inherit;\n            color: #696969;\n            font-weight: 200;\n            font-size: 14px;\n            position: relative;\n\n            border-bottom: 1px solid #e5e5e5;\n            overflow: hidden;\n\n            padding: 10px 20px;\n        }\n\n        .billet-label {\n            font-weight: 400;\n            color:  #666;\n            font-size: 17px;\n            white-space: nowrap;\n            margin-left: 50px;\n        }\n\n        .billet.selected {\n            background-color: #157ad3;\n            color: #fff !important;\n        }\n\n        .billet-block {\n            display: inline-block;\n            width: 32%;\n        }\n\n        .entry-header {\n            display: inline-block;\n            width: 90px;\n            color: #aaa;\n        }\n\n        .badge-gray {\n            display: inline-block;\n            width: 85px;\n            text-align: center;\n            color: #666;\n            background-color: #eee;\n        }\n        .badge-red {\n            display: inline-block;\n            width: 85px;\n            text-align: center;\n            color: #fff;\n            background-color: #e05050;\n        }\n        .badge-green {\n            display: inline-block;\n            width: 85px;\n            text-align: center;\n            color: #fff;\n            background-color: #50e050;\n        }\n    "],
        template: "\n        <div class=\"billet\"\n          [class.selected]=\"selected\"\n          (click)=\"select()\"\n          (dblclick)=\"open()\"\n          (touchstart)=\"tStart()\"\n          (touchend)=\"tEnd()\"\n        >\n            <div style=\"display: flex; justify-content: space-between;\">\n                <span>\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \n                    <span class=\"billet-label\">{{ user.name }}</span>\n                </span>\n                <span>{{ user.change_date | formatDate }} / {{ user.add_date | formatDate }}</span>\n            </div>\n            <table style=\"width: 100%;\">\n                <tbody style=\"vertical-align: top; font-size: 14; font-weight: 200;\">\n\n                </tbody>\n            </table>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__service_user_service__["a" /* UserService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__service_user_service__["a" /* UserService */]) === "function" && _b || Object])
], DigestUserComponent);

var _a, _b;
//# sourceMappingURL=digest-user.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/digest/digest-window.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_user_service__ = __webpack_require__("../../../../../src/app/service/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_offer_service__ = __webpack_require__("../../../../../src/app/service/offer.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DigestWindowComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var DigestWindowComponent = (function () {
    function DigestWindowComponent(_hubService, _userService, _offerService) {
        this._hubService = _hubService;
        this._userService = _userService;
        this._offerService = _offerService;
        this.open = { visible: false, value: "" };
        this.importOffers = [];
        this.personType = {
            client: 'Клиент',
            realtor: 'Конкурент',
            company: 'Наша компания',
            partner: 'Партнер'
        };
        this.filter = {
            stageCode: 'all',
            contactType: 'all',
            tag: 'all',
            changeDate: 'all',
        };
        this.sort = {
            addDate: 'DESC'
        };
        this.limitedImportOffers = 4;
        this.hitsCountImportOffers = 0;
        this.currentPhoto = 0;
        this.next = 0;
        this.map_params = [
            { icon: "", isActive: false, name: "Панорама" },
            { icon: "", isActive: false, name: "Маршруты" },
            { icon: "", isActive: false, name: "Больницы" },
            { icon: "", isActive: false, name: "Школы" },
            { icon: "", isActive: false, name: "Детские сады" },
            { icon: "", isActive: false, name: "Магазины" },
        ];
    }
    ;
    DigestWindowComponent.prototype.ngOnInit = function () {
    };
    DigestWindowComponent.prototype.ngOnChanges = function (changes) {
        if (changes.open && changes.open.currentValue != changes.open.previousValue) {
            this.limitedImportOffers = 4;
            this.hitsCountImportOffers = 0;
            this.getOffers();
        }
        this.currentPhoto = 0;
        this.next = 0;
    };
    DigestWindowComponent.prototype.getOffers = function () {
        var _this = this;
        this._offerService.list(0, 100, __WEBPACK_IMPORTED_MODULE_3__service_offer_service__["a" /* OfferSource */].IMPORT, this.filter, this.sort, this.open.value, []).subscribe(function (data) {
            _this.hitsCountImportOffers = data.hitsCount || 0;
            _this.importOffers = data.list;
        }, function (err) {
            console.log(err);
        });
    };
    DigestWindowComponent.prototype.openPerson = function (person) {
        if (person) {
            var tab_sys = this._hubService.getProperty('tab_sys');
            tab_sys.addTab('person', { person: person });
        }
    };
    DigestWindowComponent.prototype.to_next = function (next) {
        if (next)
            this.next = this.open.offer.photoUrl.length > this.currentPhoto + 1 ? this.currentPhoto + 1 : this.next;
        else
            this.next = this.currentPhoto - 1 >= 0 ? this.currentPhoto - 1 : 0;
    };
    DigestWindowComponent.prototype.addPhoto = function (event) {
        this.open.offer.photoUrl.unshift(event);
    };
    DigestWindowComponent.prototype.deleteImage = function (event) {
        this.open.offer.photoUrl.splice(this.open.offer.photoUrl.indexOf(event), 1);
    };
    DigestWindowComponent.prototype.close = function () {
        if (this.open.task == 'photo') {
            this.save(0);
        }
        this.open.visible = false;
        this.importOffers = [];
    };
    DigestWindowComponent.prototype.save = function (event) {
        var _this = this;
        for (var i = 0; i < this.open.offer.photoUrl.length; ++i) {
            if (this.open.offer.photoUrl[i] == "" || this.open.offer.photoUrl[i] == null)
                this.open.offer.photoUrl.splice(i, 1);
        }
        this._offerService.save(this.open.offer).subscribe(function (offer) {
            setTimeout(function () {
                _this.open.offer = offer;
            });
        });
    };
    DigestWindowComponent.prototype.activate_param = function (index) {
        for (var _i = 0, _a = this.map_params; _i < _a.length; _i++) {
            var param = _a[_i];
            param.isActive = false;
        }
        this.map_params[index].isActive = true;
    };
    return DigestWindowComponent;
}());
DigestWindowComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'digest-window',
        inputs: ['open'],
        styles: ["\n        .popup{\n            position: absolute;\n            width: 100vw;\n            height: 100vh;\n            left: 0;\n            background-color: rgb(255,255,255);\n            z-index: 999;\n            overflow-y: scroll;\n        }\n\n        .popup:before{\n            content: \"\";\n            filter: blur(10px);\n        }\n\n        .close_button{\n            width: 35px;\n            height: 35px;\n            position: fixed;\n            left: calc(100% - 110px);\n            top: calc(30px);\n            background-image: url(assets/cross.png);\n            background-position: center;\n            background-size: cover;\n            z-index: 999;\n        }\n\n        .close_button:hover{\n            filter: contrast(2);\n        }\n\n        .check_window{\n            width: 65%;\n            height: calc(100% - 50px);\n            margin: 50px auto 0 auto;\n            max-width: 1360px;\n            min-width: 1000px;\n        }\n\n        .search_box{\n            width: 70%;\n            margin: 0 auto;\n            position: relative;\n        }\n\n        .search_input{\n            height: 30px;\n            background-color: rgb(59,63,87);\n            width: 100%;\n            border: 0px;\n            padding-left: 35px;\n            color: rgb(164,168,187);\n        }\n\n        .icon-search{\n            position: absolute;\n            top: 7px;\n            left: 8px;\n            color: rgb(88,91,105);\n            font-weight: 800;\n        }\n\n        .main_info{\n            color: rgb(164,168,187);\n            font-size: 17pt;\n            margin: 15px auto 0;\n            text-align:  center;\n        }\n\n        .main_info_active:hover{\n            text-decoration: underline;\n            cursor: hand;\n        }\n\n        .add_info{\n            text-align: center;\n            font-size: 14px;\n            color: rgb(88,91,105);\n            margin-bottom: 55px;\n        }\n\n        .title{\n            color: #5F626E;\n            text-transform: uppercase;\n            font-size: 11pt;\n            width: calc(100% - 150px);\n            float: left;\n        }\n\n        .hits{\n            color: #5F626E;\n            font-size: 10pt;\n            text-align: right;\n        }\n\n        .hits::after{\n            display: block;\n            content: \"\";\n            border-bottom: 1px solid;\n            width: 100%;\n            height: 1px;\n            margin: 5px 0 15px;\n        }\n\n        .yet{\n            color: #6f6c6c;\n            text-align: right;\n            padding-right: 20px;\n        }\n        .yet:hover{\n            color: #dcd4d4;\n        }\n\n        .address{\n            width: calc(100% - 100px);\n            height: 110px;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            margin-left: 100px;\n            color: #294057;\n        }\n\n        .main_photo_container{\n            width: 100%;\n            height: calc(100% - 320px);\n            display: inline-flex;\n            margin-bottom: 8px;\n        }\n\n        .main_photo_container .arrow{\n            width: 100px;\n            height: 100%;\n            display: block;\n            cursor: pointer;\n            text-align: center;\n            position: relative;\n        }\n\n        .main_photo_container .arrow:hover{\n            filter: contrast(2);\n        }\n\n        .main_photo_container .arrow_left{\n            margin-left: 50px;\n        }\n\n        .main_photo_container .arrow_right{\n            margin-right: 50px;\n        }\n\n        .main_photo_container .arrow:before{\n            content: \"\";\n            width: 50px;\n            height: 30px;\n            display: block;\n            background-position: center;\n            background-size: cover;\n            background-repeat: no-repeat;\n            background-image: url(assets/arrow.png);\n            position: absolute;\n            top: calc(50% - 15px);\n            left: calc(50% - 25px);\n        }\n\n        .main_photo_container .arrow_left:before{\n            transform: rotate(90deg);\n        }\n\n        .main_photo_container .arrow_right:before{\n            transform: rotate(-90deg);\n        }\n\n        .main_photo{\n            max-height: 100%;\n            max-width: 100%;\n            margin: auto;\n        }\n\n        .whirligig{\n            width: calc(100% - 100px);\n            margin: 0 50px;\n            height: 175px;\n            display: inline-flex;\n            overflow: hidden;\n        }\n\n        .whirligig .photo_ticket{\n            width: 190px;\n            height: 140px;\n        }\n\n        .map_container{\n            width: 100%;\n            height: 100%;\n            display: block;\n            //margin-top: 100px;\n        }\n\n        .map_params{\n            position: absolute;\n            top: 100px;\n            right: 50px;\n            width: 45px;\n        }\n\n        .map_params div{\n            width: 40px;\n            height: 40px;\n            margin-top: 10px;\n            background-color: #ffffff;\n            border-radius: 5px;\n        }\n\n        .active_param{\n            background-color: #80808080 !important;\n        }\n\n    "],
        template: "\n        <div *ngIf=\"open.visible\" class=\"popup\">\n            <div class=\"close_button\" (click)=\"close()\"></div>\n            <div class=\"check_window\" *ngIf=\"open.task == 'check'\">\n                <div class=\"search_box\">\n                    <input type=\"text\" class=\"search_input\" placeholder=\"\" onclick=\"focus()\"\n                        [(ngModel)]=\"open.value\"\n                    >\n                    <span class=\"icon-search\"></span>\n                    <div class=\"main_info\" (click)=\"openPerson(open.person)\" [class.main_info_active] = \"open.person\">\n                        {{open.person ? open.person.name : \"\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B\u0439 \u043A\u043E\u043D\u0442\u0430\u043A\u0442\"}}\n                    </div>\n                    <div class=\"add_info\">\n                        {{'\u0425\u0430\u0431\u0430\u0440\u043E\u0432\u0441\u043A, '}}\n                        {{open.person && open.person.organisation ? open.person.organisation.name+', ' : ''}}\n                        {{open.person ? personType[open.person.typeCode] : ''}}\n                    </div>\n                </div>\n                <div><div class=\"title\">\u041F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F</div> <div class=\"hits\">\u041D\u0430\u0439\u0434\u0435\u043D\u043E: {{hitsCountImportOffers}}</div></div>\n                <div>\n                        <digest-offer-line *ngFor=\"let offer of importOffers | slice:0:limitedImportOffers; let i = index\"\n                                    [offer]=\"offer\"\n                                    [base] = \"1\"\n                                    [class.seen]=\"offer.openDate > timestamp\"\n                        >\n                        </digest-offer-line>\n                        <div (click)=\"limitedImportOffers = limitedImportOffers == importOffers.length ? 4 : importOffers.length\" class=\"yet\">\n                            {{limitedImportOffers < importOffers.length &&  importOffers.length > 4 ? '\u0415\u0449\u0451...'\n                                : (limitedImportOffers == importOffers.length &&  importOffers.length > 4 ? '\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C...' : '')\n                            }}\n                        </div>\n                </div>\n                <div><div class=\"title\">\u0417\u0430\u044F\u0432\u043A\u0438</div><div class=\"hits\">\u041D\u0430\u0439\u0434\u0435\u043D\u043E: 0</div></div>\n                <div>\n\n                </div>\n                <div><div class=\"title\">\u0415\u0436\u0435\u0434\u043D\u0435\u0432\u043D\u0438\u043A</div><div class=\"hits\">\u041D\u0430\u0439\u0434\u0435\u043D\u043E: 0</div></div>\n                <div>\n\n                </div>\n                <div><div class=\"title\">\u041A\u043E\u043D\u0442\u0430\u043A\u0442\u044B</div><div class=\"hits\">\u041D\u0430\u0439\u0434\u0435\u043D\u043E: 0</div></div>\n                <div>\n\n                </div>\n            </div>\n            <div \u0441lass=\"check_window\" *ngIf=\"open.task == 'photo'\">\n                <div class=\"address\">\n                    <div style=\"font-size: 20px;\">{{open.offer.fullAddress && open.offer.fullAddress.city? open.offer.fullAddress.city : \"\"}}</div>\n                    <div style=\"font-size: 26px;\">{{open.offer.fullAddress && open.offer.fullAddress.street ? open.offer.fullAddress.street : \"\"}}\n                         {{open.offer.fullAddress &&  open.offer.fullAddress.house ? open.offer.fullAddress.house : \"\"}}\n                    </div>\n                </div>\n                <div class=\"main_photo_container\">\n                    <div class=\"arrow arrow_left\" (click)=\"to_next(false)\"></div>\n                    <img class=\"main_photo\" [src]=\"open.offer.photoUrl[currentPhoto]\">\n                    <div class=\"arrow arrow_right\" (click)=\"to_next(true)\"></div>\n                </div>\n                <div class=\"whirligig\">\n                    <ui-upload-file class=\"img-wrap pull-left\" [type]=\"'image'\" style=\"height: 165px; flex: 0 0 225px; margin-top: 10px;\"\n                        *ngIf=\"open.value == 1\" (addNewFile) = \"addPhoto($event)\"\n                    ></ui-upload-file>\n                    <ui-carousel\n                        [photos] = \"open.offer.photoUrl\"\n                        (getIndex) = \"currentPhoto = $event; \"\n                        (delete) = \"deleteImage($event)\"\n                        (move) = \"save($event)\"\n                        [setIndex] = \"next\"\n                        [showToolbox] = \"open.value == 1\"\n                        [style.width] = \"open.value == 1 ? 'calc(100% - 225px)' : '100%'\"\n                        [style.marginLeft] = \"open.value == 1 ? '10px' : '0px'\"\n                        style=\"position: relative; width:100%; height: 100%;\"\n                    >\n                    </ui-carousel>\n                </div>\n            </div>\n            <div \u0441lass=\"check_window\" *ngIf=\"open.task == 'map'\" >\n                <div class=\"map_container\">\n                    <google-map\n                        [latitude]=\"open.map.lat\"\n                        [longitude]=\"open.map.lon\"\n                        [zoom]=\"open.map.zoom\"\n                        [objects]=\"open.offers\"\n                        [draw_allowed]=\"true\"\n                    >\n                    </google-map>\n                    <div class=\"map_params\">\n                        <div *ngFor=\"let param of map_params; let i=index\"\n                            [class.active_param]=\"param.isActive\"\n                            (click)=\"activate_param(i)\"\n                        ></div>\n                    </div>\n                <div>\n\n            </div>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__service_user_service__["a" /* UserService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__service_user_service__["a" /* UserService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__service_offer_service__["b" /* OfferService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__service_offer_service__["b" /* OfferService */]) === "function" && _c || Object])
], DigestWindowComponent);

var _a, _b, _c;
//# sourceMappingURL=digest-window.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/google-map.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__class_concavehull__ = __webpack_require__("../../../../../src/app/class/concavehull.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__entity_offer__ = __webpack_require__("../../../../../src/app/entity/offer.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GoogleMapComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return GoogleMapMarkerComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var GoogleMapComponent = (function () {
    function GoogleMapComponent(_elem, ref) {
        this._elem = _elem;
        this.ref = ref;
        this.markers = new Map();
        this.placesMarkers = [];
        this.infoWindows = [];
        this.placesWindows = new google.maps.InfoWindow();
        this.latitude = 0;
        this.longitude = 0;
        this.zoom = 8;
        this.objects = [];
        this.selected_objects = [];
        this.id = Math.round(Math.random() * 1000);
        this.draw_allowed = false;
        this.is_drawing = false;
        this.drawFinished = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
        this.markerClicked = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
        ref.detach();
    }
    GoogleMapComponent.prototype.ngOnInit = function () {
        this.container = this._elem.nativeElement.querySelector('.map-wrapper');
        var opts = {
            center: new google.maps.LatLng(this.latitude, this.longitude),
            zoom: this.zoom,
            disableDefaultUI: true,
            styles: [
                {
                    "featureType": "administrative",
                    "elementType": "geometry",
                    "stylers": [
                        {
                            "visibility": "off"
                        }
                    ]
                },
                {
                    "featureType": "landscape.man_made",
                    "elementType": "geometry.fill",
                    "stylers": [
                        {
                            "saturation": -100
                        },
                        {
                            "lightness": 30
                        },
                        {
                            "visibility": "on"
                        }
                    ]
                },
                {
                    "featureType": "landscape.natural.terrain",
                    "elementType": "all",
                    "stylers": [
                        {
                            "visibility": "off"
                        }
                    ]
                },
                {
                    "featureType": "poi.business",
                    "elementType": "labels.text.fill",
                    "stylers": [
                        {
                            "color": "#6c6c6c"
                        }
                    ]
                },
                {
                    "featureType": "poi.park",
                    "elementType": "geometry.fill",
                    "stylers": [
                        {
                            "color": "#cacaca"
                        }
                    ]
                },
                {
                    "featureType": "poi.park",
                    "elementType": "geometry.stroke",
                    "stylers": [
                        {
                            "visibility": "off"
                        }
                    ]
                },
                {
                    "featureType": "road",
                    "elementType": "labels.icon",
                    "stylers": [
                        {
                            "visibility": "off"
                        }
                    ]
                },
                {
                    "featureType": "road.highway",
                    "elementType": "all",
                    "stylers": [
                        {
                            "visibility": "on"
                        }
                    ]
                },
                {
                    "featureType": "road.highway",
                    "elementType": "geometry.fill",
                    "stylers": [
                        {
                            "color": "#fefdfd"
                        },
                        {
                            "visibility": "on"
                        }
                    ]
                },
                {
                    "featureType": "road.highway",
                    "elementType": "geometry.stroke",
                    "stylers": [
                        {
                            "visibility": "off"
                        }
                    ]
                },
                {
                    "featureType": "road.highway",
                    "elementType": "labels.text.fill",
                    "stylers": [
                        {
                            "color": "#6c6c6c"
                        },
                        {
                            "visibility": "on"
                        }
                    ]
                },
                {
                    "featureType": "road.highway",
                    "elementType": "labels.text.stroke",
                    "stylers": [
                        {
                            "visibility": "off"
                        }
                    ]
                },
                {
                    "featureType": "road.highway.controlled_access",
                    "elementType": "all",
                    "stylers": [
                        {
                            "visibility": "off"
                        }
                    ]
                },
                {
                    "featureType": "road.arterial",
                    "elementType": "all",
                    "stylers": [
                        {
                            "visibility": "on"
                        }
                    ]
                },
                {
                    "featureType": "road.local",
                    "elementType": "all",
                    "stylers": [
                        {
                            "visibility": "on"
                        }
                    ]
                },
                {
                    "featureType": "transit",
                    "elementType": "all",
                    "stylers": [
                        {
                            "visibility": "on"
                        }
                    ]
                },
                {
                    "featureType": "transit",
                    "elementType": "labels.text",
                    "stylers": [
                        {
                            "visibility": "on"
                        },
                        {
                            "color": "#474747"
                        }
                    ]
                },
                {
                    "featureType": "transit",
                    "elementType": "labels.text.stroke",
                    "stylers": [
                        {
                            "visibility": "on"
                        },
                        {
                            "color": "#ffffff"
                        }
                    ]
                },
                {
                    "featureType": "transit",
                    "elementType": "labels.icon",
                    "stylers": [
                        {
                            "visibility": "on"
                        }
                    ]
                },
                {
                    "featureType": "transit.station.rail",
                    "elementType": "all",
                    "stylers": [
                        {
                            "visibility": "on"
                        }
                    ]
                }
            ]
        };
        this.map = new google.maps.Map(this.container, opts);
        this.service = new google.maps.places.PlacesService(this.map);
        if (this.polygone_points) {
            this.polygone = new google.maps.Polygon({
                paths: this.toGooglePoints(this.polygone_points),
                strokeColor: "#062141",
                strokeOpacity: 0.8,
                strokeWeight: 2,
                fillColor: "#062141",
                fillOpacity: 0.35,
                editable: false,
                geodesic: false,
                map: this.map,
            });
        }
        else {
            this.polygone = new google.maps.Polygon();
        }
        this.refreshMarkers();
        this.refreshPlacesMarkers();
        this.initDrawer();
    };
    GoogleMapComponent.prototype.ngOnChanges = function (changes) {
        if (!this.map)
            return;
        for (var p_name in changes) {
            var prop = changes[p_name];
            switch (p_name) {
                case 'objects':
                    this.refreshMarkers();
                    break;
                case 'selected_objects':
                    this.refreshSelected();
                    break;
                case 'place':
                    this.refreshPlacesMarkers();
                    break;
                case 'latitude':
                case 'longitude':
                    this.map.panTo(new google.maps.LatLng(this.latitude, this.longitude));
                    break;
                case 'draw_allowed':
                    if (!this.draw_allowed) {
                        this.polygone.setMap(null);
                        this.map.setOptions({ draggable: true });
                    }
                    else {
                        this.map.setOptions({ draggable: false });
                    }
                case 'polygone_points':
                    if (this.polygone_points) {
                        this.polygone = new google.maps.Polygon({
                            paths: this.toGooglePoints(this.polygone_points),
                            strokeColor: "#062141",
                            strokeOpacity: 0.8,
                            strokeWeight: 2,
                            fillColor: "#062141",
                            fillOpacity: 0.35,
                            editable: false,
                            geodesic: false,
                            map: this.map,
                        });
                    }
                    else {
                        this.polygone = new google.maps.Polygon();
                    }
                    break;
            }
        }
    };
    GoogleMapComponent.prototype.ngAfterViewChecked = function () {
        if (this.container.clientWidth != this.p_w) {
            this.p_w = this.container.clientWidth;
            google.maps.event.trigger(this.map, 'resize');
        }
    };
    GoogleMapComponent.prototype.refreshSelected = function () {
        var _this = this;
        this.infoWindows.forEach(function (iw) {
            iw.close();
        });
        this.infoWindows = [];
        this.selected_objects.forEach(function (o) {
            var iw = new google.maps.InfoWindow({
                content: '<div>' + __WEBPACK_IMPORTED_MODULE_2__entity_offer__["a" /* Offer */].getDigest(o) + '</div>'
            });
            iw.open(_this.map, _this.markers[o.id]);
            _this.infoWindows.push(iw);
        });
        if (this.selected_objects && this.selected_objects.length > 0) {
            this.latitude = this.selected_objects[this.selected_objects.length - 1].locationLat;
            this.longitude = this.selected_objects[this.selected_objects.length - 1].locationLon;
            this.map.panTo(new google.maps.LatLng(this.latitude, this.longitude));
        }
    };
    GoogleMapComponent.prototype.refreshMarkers = function () {
        var _this = this;
        if (this.objects == null)
            return;
        this.markers.forEach(function (marker, id) {
            marker.setMap(null);
        });
        this.markers = new Map();
        var c = this;
        var minLat = 100000;
        var minLon = 100000;
        var maxLat = 0;
        var maxLon = 0;
        var mark = 0;
        this.objects.forEach(function (obj) {
            if (obj.locationLat) {
                if (obj.locationLat > maxLat) {
                    maxLat = obj.locationLat;
                    mark++;
                }
                if (obj.locationLon > maxLon) {
                    maxLon = obj.locationLon;
                    mark++;
                }
                if (obj.locationLat < minLat) {
                    minLat = obj.locationLat;
                    mark++;
                }
                if (obj.locationLon < minLon) {
                    minLon = obj.locationLon;
                    mark++;
                }
                var m = new google.maps.Marker({
                    map: _this.map,
                    position: new google.maps.LatLng(obj.locationLat, obj.locationLon),
                    title: '',
                    //icon: ico,
                    animation: google.maps.Animation.DROP
                });
                _this.markers[obj.id] = m;
                var iw = new google.maps.InfoWindow({
                    content: '<div>' + __WEBPACK_IMPORTED_MODULE_2__entity_offer__["a" /* Offer */].getDigest(obj) + '</div>'
                });
                _this.infoWindows.push(iw);
                m.addListener('click', function () {
                    iw.open(this.map, m);
                    //c.click.emit(_this);
                    c.markerClicked.emit(obj);
                });
            }
        });
        if (mark > 3) {
            var bounds = new google.maps.LatLngBounds();
            //sw
            bounds.extend(new google.maps.LatLng(minLat, minLon));
            //ne
            bounds.extend(new google.maps.LatLng(maxLat, maxLon));
            this.map.fitBounds(bounds);
        }
    };
    GoogleMapComponent.prototype.refreshPlacesMarkers = function () {
        var _this = this;
        this.placesMarkers = [];
        if (this.place == null)
            return;
        this.placesMarkers.forEach(function (m) {
            m.setMap(null);
        });
        var request = {
            bounds: this.map.getBounds(),
            keyword: this.place
        };
        this.service.radarSearch(request, function (results, status) {
            for (var i = 0; i < results.length; i++) {
                _this.addMark(new google.maps.Marker({
                    map: _this.map,
                    position: results[i].geometry.location,
                    animation: google.maps.Animation.DROP
                    //icon: 'src/icons/googleTarget.png'
                }), results[i], _this.service);
            }
        });
    };
    GoogleMapComponent.prototype.addMark = function (elem, rez, serv) {
        var _this = this;
        this.placesMarkers.push(elem);
        google.maps.event.addListener(elem, 'mouseover', function () {
            serv.getDetails(rez, function (result, status) {
                if (status !== google.maps.places.PlacesServiceStatus.OK) {
                    console.error(status);
                    return;
                }
                _this.placesWindows.setContent(result.name);
                _this.placesWindows.open(_this.map, elem);
            });
        });
    };
    GoogleMapComponent.prototype.initDrawer = function () {
        var _this = this;
        google.maps.event.addListener(this.map, 'mousemove', function (e) {
            if (_this.is_drawing == true) {
                _this.polyline.getPath().push(e.latLng);
            }
        });
        google.maps.event.addListener(this.map, 'mousedown', function () {
            if (_this.draw_allowed) {
                _this.is_drawing = true;
                if (_this.polyline) {
                    _this.polyline.setMap(null);
                }
                _this.polyline = new google.maps.Polyline({
                    clickable: false,
                    strokeColor: "#062141",
                    strokeOpacity: 0.8,
                    strokeWeight: 2,
                    map: _this.map
                });
            }
        });
        google.maps.event.addListener(this.map, 'mouseup', function () {
            _this.is_drawing = false;
            if (_this.draw_allowed) {
                _this.draw_allowed = false;
                _this.map.setOptions({ draggable: true });
                var pa = [];
                _this.polyline.getPath().forEach(function forEach(ll) {
                    pa.push({ lat: ll.lat(), lng: ll.lng() });
                });
                var ch = new __WEBPACK_IMPORTED_MODULE_1__class_concavehull__["a" /* ConcaveHull */](pa, 2000).getLatLngs();
                _this.polygone = new google.maps.Polygon({
                    paths: ch,
                    strokeColor: "#062141",
                    strokeOpacity: 0.8,
                    strokeWeight: 2,
                    fillColor: "#062141",
                    fillOpacity: 0.35,
                    editable: true,
                    geodesic: false,
                    map: _this.map,
                });
                _this.drawFinished.emit(_this.toRplusPoints(ch));
                _this.polyline.setMap(null);
            }
        });
    };
    GoogleMapComponent.prototype.toGooglePoints = function (pList) {
        var result = [];
        pList.forEach(function (p) {
            result.push({ lat: p.lat, lng: p.lon });
        });
        return result;
    };
    GoogleMapComponent.prototype.toRplusPoints = function (pList) {
        var result = [];
        pList.forEach(function (p) {
            result.push({ lat: p.lat, lon: p.lng });
        });
        return result;
    };
    return GoogleMapComponent;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _a || Object)
], GoogleMapComponent.prototype, "drawFinished", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _b || Object)
], GoogleMapComponent.prototype, "markerClicked", void 0);
GoogleMapComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        changeDetection: __WEBPACK_IMPORTED_MODULE_0__angular_core__["_5" /* ChangeDetectionStrategy */].OnPush,
        selector: 'google-map',
        inputs: [
            'latitude',
            'longitude',
            'zoom',
            'objects',
            'selected_objects',
            'place',
            'draw_allowed',
            'polygone_points'
        ],
        styles: ["\n        .map-wrapper {\n            height: 100%;\n            width: 100%;\n        }\n    "],
        template: "\n        <div class=\"map-wrapper\">\n            <ng-content></ng-content>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["g" /* ElementRef */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["g" /* ElementRef */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["_2" /* ChangeDetectorRef */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["_2" /* ChangeDetectorRef */]) === "function" && _d || Object])
], GoogleMapComponent);

var GoogleMapMarkerComponent = (function () {
    function GoogleMapMarkerComponent(parent, ref) {
        this.ref = ref;
        this.latitude = 0;
        this.longitude = 0;
        this.info_str = '';
        this.icon_id = 0;
        this.is_selected = false;
        this.click = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
        this.map = parent.map;
        ref.detach();
    }
    GoogleMapMarkerComponent.prototype.ngOnInit = function () {
        var ico = null;
        var icons = [
            { url: 'http://maps.google.com/mapfiles/ms/icons/blue-dot.png', },
            { url: 'http://maps.google.com/mapfiles/ms/icons/green-dot.png', },
            { url: 'http://maps.google.com/mapfiles/ms/icons/red-dot.png', },
        ];
        if (this.icon_id > 0 && this.icon_id < icons.length) {
            ico = icons[this.icon_id - 1];
        }
        this.marker = new google.maps.Marker({
            map: this.map,
            position: new google.maps.LatLng(this.latitude, this.longitude),
            title: '',
            icon: ico,
            animation: google.maps.Animation.DROP
        });
        this.infowindow = new google.maps.InfoWindow({
            content: '<div>' + this.info_str + '</div>'
        });
        var _this = this;
        this.marker.addListener('click', function () {
            _this.infowindow.open(this.map, this.marker);
            _this.click.emit(_this);
        });
    };
    GoogleMapMarkerComponent.prototype.ngOnChanges = function () {
        if (this.marker) {
            if (this.is_selected) {
                this.marker.setAnimation(google.maps.Animation.BOUNCE);
                this.infowindow.open(this.map, this.marker);
            }
            else {
                this.marker.setAnimation(null);
                this.infowindow.close();
            }
        }
    };
    return GoogleMapMarkerComponent;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _e || Object)
], GoogleMapMarkerComponent.prototype, "click", void 0);
GoogleMapMarkerComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        changeDetection: __WEBPACK_IMPORTED_MODULE_0__angular_core__["_5" /* ChangeDetectionStrategy */].OnPush,
        selector: 'google-map-marker',
        inputs: ['latitude', 'longitude', 'info_str', 'icon_id', 'is_selected'],
        styles: [""],
        template: "<div></div>",
    }),
    __metadata("design:paramtypes", [GoogleMapComponent, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["_2" /* ChangeDetectorRef */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["_2" /* ChangeDetectorRef */]) === "function" && _f || Object])
], GoogleMapMarkerComponent);

var _a, _b, _c, _d, _e, _f;
//# sourceMappingURL=google-map.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/notebook.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_notebook_service__ = __webpack_require__("../../../../../src/app/service/notebook.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NotebookComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var NotebookComponent = (function () {
    function NotebookComponent(_hubService, _notebookService) {
        var _this = this;
        this._hubService = _hubService;
        this._notebookService = _notebookService;
        this.hidden = true;
        this.eventHidden = true;
        this.menuNumber = 0;
        this.show = null;
        this.widthChange = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
        this._hubService.shared_var['nb_width'] = 1;
        this.subscription = _notebookService.get().subscribe(function (message) {
            _this.show = message.show;
            _this.data = message.data;
            _this.state = message.state;
        });
    }
    NotebookComponent.prototype.ngOnInit = function () {
    };
    NotebookComponent.prototype.toggleNotebook = function () {
        this.show = 0;
        this.hidden = !this.hidden;
        this.emitWidth();
    };
    NotebookComponent.prototype.toggleEvent = function () {
        this.eventHidden = !this.eventHidden;
        this.emitWidth();
    };
    NotebookComponent.prototype.emitWidth = function () {
        var w = 1;
        if (!this.hidden) {
            // TODO: wtf 371?!
            w += 371;
            if (!this.eventHidden) {
                w += 371;
            }
        }
        this._hubService.shared_var['nb_width'] = w;
        this.widthChange.emit({ value: w });
    };
    NotebookComponent.prototype.selectMenu = function (num) {
        this.menuNumber = num;
        this.show = 2;
    };
    NotebookComponent.prototype.update_tab_daily = function (event) {
        this._notebookService.update_field(event);
    };
    return NotebookComponent;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _a || Object)
], NotebookComponent.prototype, "widthChange", void 0);
NotebookComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'notebook',
        styles: ["\n        .notebook {\n          position: absolute;\n          top: 0px;\n          right: 0px;\n          height: 100%;\n          background-color: #eeeeee;\n          z-index: 1000;\n        }\n        .head {\n            width: 100%;\n            height: 0;\n\n        }\n        .notebook > .border-stripe {\n            width: 30px;\n            height: 100%;\n            background-color: #ccc;\n            float: right;\n        }\n        .notebook > .main-tab {\n            width: 370px;\n            height: 100%;\n            float: right;\n        }\n\n        .notebook > .main-tab > .main_menu {\n            display: flex;\n            justify-content: center;\n            padding: 0;\n            margin: 25px 10 0;\n            border: 1px solid #0e60c5;\n        }\n\n        .notebook > .main-tab > .main_menu > li {\n            display: inline-block;\n            padding: 2px 10px;\n            color: rgb(14, 96, 197);\n            border-left: 1px solid #0e60c5;\n            flex-grow: 2;\n            font-size: 12px;\n            text-align: center;\n        }\n\n        .notebook > .main-tab > .main_menu > .menu_active {\n            color: #fff;\n            background-color: #0e60c5;\n            border: 0;\n        }\n\n        .notebook > .event-tab {\n            width: 370px;\n            height: 100%;\n            float: right;\n            border-left: 1px solid #ccc;\n        }\n        .tab-button {\n            width: 58px;\n            height: 30px;\n            text-align: center;\n            line-height: 30px;\n            font-size: 14px !important;\n            cursor: pointer;\n            color: #12195C;\n            position: absolute;\n            left: 15px;\n            top: 10px;\n        }\n\n        notebook-task{\n           display: flex;\n           flex-wrap: wrap;\n        }\n\n        .forever_menu{\n            width: 35px;\n            height: 150px;\n            position: absolute;\n            background-color: #0b9700;\n            top: calc(50% - 75px);\n            right: 0;\n            display: flex;\n            flex-wrap: wrap;\n            align-content: space-around;\n            justify-content: center;\n            z-index: 999;\n        }\n        .forever_menu > div{\n            width: 35px;\n            height: 35px;\n            background-size: 70% 70%;\n            background-repeat: no-repeat;\n            background-position: center;\n        }\n\n        .forever_menu > div:hover {\n            background-color: #127d0a;\n        }\n\n        .forever_menu > hr{\n            width: 35px;\n            margin: 0;\n            border-color: #4aa24a;\n\n        }\n    "],
        template: "\n        <div class='forever_menu' (click)=\"toggleNotebook()\"    >\n            <div (click) = \"selectMenu(0)\" style=\"background-image: url(assets/task.png);\"></div>\n             <hr>\n            <div (click) = \"selectMenu(1)\" style=\"background-image: url(assets/notes.png);\"></div>\n             <hr>\n            <div (click) = \"selectMenu(2)\" style=\"background-image: url(assets/phone.png);\"></div>\n             <hr>\n            <div (click) = \"selectMenu(3)\" style=\"background-image: url(assets/chat.png);\"></div>\n        </div>\n        <div class=\"notebook\">\n            <div class=\"head\">\n                <div class=\"tab-button\" (click)=\"toggleNotebook()\">\u0417\u0430\u043A\u0440\u044B\u0442\u044C</div>\n            </div>\n            <div class=\"event-tab\" *ngIf=\"show==1 || show==2\">\n                <div class=\"head\"></div>\n                <notebook-task-describe [task] = \"data\" [mode]=\"state\" (update) = \"update_tab_daily($event)\"></notebook-task-describe>\n            </div>\n            <div class=\"main-tab\" (click)=\"toggleEvent()\" *ngIf=\"show==0 || show==2\">\n                <ul class = \"main_menu\">\n                  <li (click) = \"selectMenu(0)\" [class.menu_active] = \"menuNumber == 0\">\u0417\u0430\u0434\u0430\u0447\u0438</li>\n                  <li (click) = \"selectMenu(1)\" [class.menu_active] = \"menuNumber == 1\">\u0417\u0430\u043C\u0435\u0442\u043A\u0438</li>\n                  <li (click) = \"selectMenu(2)\" [class.menu_active] = \"menuNumber == 2\">IP-\u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0438\u044F</li>\n                  <li (click) = \"selectMenu(3)\" [class.menu_active] = \"menuNumber == 3\">\u0427\u0430\u0442</li>\n                </ul>\n                <notebook-task *ngIf=\"menuNumber == 0\">  </notebook-task>\n            </div>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_2__service_notebook_service__["a" /* NotebookService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__service_notebook_service__["a" /* NotebookService */]) === "function" && _c || Object])
], NotebookComponent);

var _a, _b, _c;
//# sourceMappingURL=notebook.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/notebook/almanac.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Almanac; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var Almanac = (function () {
    function Almanac() {
        this.mainDate = new Date();
        this.hours = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24];
    }
    Almanac.prototype.getNameMonth = function () {
        switch (this.mainDate.getMonth()) {
            case 0: return "Января";
            case 1: return "Февраля";
            case 2: return "Марта";
            case 3: return "Апреля";
            case 4: return "Мая";
            case 5: return "Июня";
            case 6: return "Июля";
            case 7: return "Августа";
            case 8: return "Сентября";
            case 9: return "Октября";
            case 10: return "Ноября";
            case 11: return "Декабря";
        }
    };
    Almanac.prototype.getNameDay = function () {
        switch (this.mainDate.getDay()) {
            case 1: return "понедельник";
            case 2: return "вторник";
            case 3: return "среда";
            case 4: return "четверг";
            case 5: return "пятница";
            case 6: return "суббота";
            case 0: return "воскресенье";
        }
    };
    return Almanac;
}());
Almanac = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'almanac',
        styles: ["\n      .main_date{\n          font-size: 20pt;\n          margin: 20px 0px 0px 25px;\n      }\n\n      .main_date>span{\n          color: silver;\n      }\n\n      .main_week{\n          color: rgba(0, 0, 0, 0.7);\n          text-transform: capitalize;\n          font-size: 14pt;\n          margin: 0px 0px 0px 25px;\n          font-weight: lighter;\n      }\n\n      @font-face {\n          font-family: MyFont;\n          src: url(fonts/9652.ttf);\n      }\n\n      hr{\n          margin: 15px auto 0px 0px;\n          width: 100%;\n          border: 0;\n          border-bottom: 1px solid rgba(127, 125, 125, 0.19);\n      }\n\n      .hours{\n          height: calc(100% - 65px);\n          overflow-y: scroll;\n          background-color: white;\n      }\n\n      .hours > div{\n          display: flex;\n          height: 30px;\n          align-items: flex-end;\n          margin-left: 10px;\n      }\n\n      .hours > div >span{\n          font-size: 8pt;\n          color: rgba(204, 204, 204, 0.94);\n          margin-left: 35px;\n      }\n\n      .hours > div >div{\n          width: 280px;\n          border-bottom: 1px solid rgba(185, 185, 185, 0.4);\n          margin-left: 10px;\n      }\n\n      ::-webkit-scrollbar {\n          width: 0px;\n      }\n\n    "],
        template: "\n        <div class=\"main_date\">{{mainDate.getDate()}} {{getNameMonth()}} <span>{{mainDate.getFullYear()}}</span> \u0433.</div>\n        <div class=\"main_week\">{{getNameDay()}}</div>\n        <hr>\n        <div class=\"hours\">\n            <div *ngFor=\"let hour of hours\">\n                <span><span *ngIf=\"hour<10\">0</span>{{hour}}:00</span><div></div>\n            </div>\n        </div>\n    "
    })
], Almanac);

//# sourceMappingURL=almanac.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/notebook/notebook-task-describe.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_user_service__ = __webpack_require__("../../../../../src/app/service/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__entity_user__ = __webpack_require__("../../../../../src/app/entity/user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_notebook_service__ = __webpack_require__("../../../../../src/app/service/notebook.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment_moment__ = __webpack_require__("../../../../moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_moment_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment_locale_ru_js__ = __webpack_require__("../../../../moment/locale/ru.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment_locale_ru_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_moment_locale_ru_js__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NotebookTaskDescribe; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var NotebookTaskDescribe = (function () {
    function NotebookTaskDescribe(_userService, _notebookService) {
        var _this = this;
        this._userService = _userService;
        this._notebookService = _notebookService;
        this.mode = 'new';
        this.agentOpts = [];
        this.superior = new __WEBPACK_IMPORTED_MODULE_2__entity_user__["a" /* User */]();
        this.update = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
        this.material = false;
        this.required = false;
        this.disabled = false;
        this.datePickerConfig = {
            firstDayOfWeek: 'mo',
            monthFormat: 'MMMM, YYYY',
            disableKeypress: false,
            allowMultiSelect: false,
            closeOnSelect: undefined,
            closeOnSelectDelay: 100,
            onOpenDelay: 0,
            weekDayFormat: 'ddd',
            appendTo: document.body,
            drops: 'down',
            opens: 'right',
            showNearMonthDays: true,
            showWeekNumbers: false,
            enableMonthSelector: true,
            yearFormat: 'YYYY',
            showGoToCurrent: true,
            dayBtnFormat: 'DD',
            monthBtnFormat: 'MMM',
            hours12Format: 'hh',
            hours24Format: 'HH',
            meridiemFormat: 'A',
            minutesFormat: 'mm',
            minutesInterval: 1,
            secondsFormat: 'ss',
            secondsInterval: 1,
            showSeconds: false,
            showTwentyFourHours: true,
            timeSeparator: ':',
            multipleYearsNavigateBy: 10,
            showMultipleYearsNavigation: false,
            locale: 'ru',
        };
        _userService.list(null, null, "").subscribe(function (agents) {
            for (var i = 0; i < agents.length; i++) {
                var a = agents[i];
                _this.agentOpts.push({
                    value: a.id,
                    label: a.name
                });
            }
        });
    }
    NotebookTaskDescribe.prototype.ngOnInit = function () {
        this.date_start = this.task.date.clone();
        this.scr_top = this.task.scr_top;
    };
    NotebookTaskDescribe.prototype.ngOnChanges = function () {
        this.ngOnInit();
    };
    NotebookTaskDescribe.prototype.set_duration = function (event) {
        var endDay = __WEBPACK_IMPORTED_MODULE_4_moment_moment__(this.task.date).hour(24).minute(0);
        var diff = endDay.diff(this.task.date, 'minute');
        if (parseInt(event) > diff)
            return diff;
        else
            return parseInt(event);
    };
    NotebookTaskDescribe.prototype.new_date = function (ev) {
        if (this.date_start.format('DD.MM.YYYY kk:mm') != this.task.date.format('DD.MM.YYYY kk:mm')) {
            var new_date = __WEBPACK_IMPORTED_MODULE_4_moment_moment__(ev, 'DD.MM.YYYY kk:mm');
            var old_date = this.task.date.clone();
            var day_diff = new_date.dayOfYear() - this.task.date.dayOfYear();
            if (day_diff != 0) {
                this.task.date.add(day_diff, 'day');
                this.task.scr_left += 221 * day_diff;
            }
            var diff = new_date.diff(this.task.date, 'minute');
            if (diff != 0)
                this.task.scr_top += 56 / 60 * diff;
            this.task.date = new_date;
            this.update.emit({ task: this.task, old: old_date });
            this.date_start = this.task.date.clone();
        }
    };
    NotebookTaskDescribe.prototype.agentChanged = function (e) {
        var _this = this;
        this.task.user = e.selected.value;
        this._userService.get(this.task.user).subscribe(function (agent) {
            _this.superior = agent;
        });
    };
    NotebookTaskDescribe.prototype.open = function (event) {
        var target = event.currentTarget.parentElement;
        if (!target.style.height)
            target.style.height = "350px";
        else
            target.style.height = "";
    };
    NotebookTaskDescribe.prototype.save = function () {
    };
    NotebookTaskDescribe.prototype.close = function () {
        this._notebookService.set({ show: null });
    };
    return NotebookTaskDescribe;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _a || Object)
], NotebookTaskDescribe.prototype, "update", void 0);
NotebookTaskDescribe = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        inputs: ['task', 'mode'],
        selector: 'notebook-task-describe',
        styles: ["\n        .edit_button{\n            width: calc(100% - 20px);\n            margin-right: 20px;\n            text-align: right;\n            margin-top: 15px;\n            font-size: 14px;\n            color: #12195C;\n            cursor: hand;\n        }\n\n        .text-value {\n            height: 3rem;\n            border: 1px solid #E5E5E5 !important;\n        }\n\n        .edit_mode > .view-group, .view_mode > .view-group {\n            //height: 30px;\n        }\n\n        .view_mode{\n            width: calc(100% - 35px);\n            margin: 100px 20px 0 15px;\n        }\n\n        .view-group {\n            display: flex;\n            justify-content: space-between;\n            align-items: flex-start;\n            width: 100%;\n            height: 20px;\n            line-height: 20px;\n        }\n\n        .view-label {\n            white-space: nowrap;\n            color: rgb(160, 158, 158);\n            font-size: 14px;\n            margin-right: 5px;\n        }\n\n        .view-value {\n            width: 100%;\n            text-align: right;\n            color: #212121;\n            font-size: 10pt;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n        }\n\n        .edit_mode{\n            width: calc(100% - 35px);\n            margin: 50px 20px 0 15px;\n            height: calc(100% - 50px);\n        }\n\n        .edit-value {\n            width: 100%;\n            text-align: right;\n            color: #696969;\n            font-size: 10pt;\n            height: 19px; /* \u043A\u043E\u0441\u0442\u044B\u043B\u044C */\n            border: none !important;\n            overflow: visible;\n        }\n\n        .edit_mode >hr, .view_mode >hr{\n            margin: 25px 0;\n            border: 1px solid rgba(138, 136, 136, 0.68);\n        }\n    "],
        template: "\n        <div>\n            <div *ngIf=\"mode == 'new'\" (click) = \"save(); mode = 'old'\" class=\"edit_button\">\u0413\u043E\u0442\u043E\u0432\u043E</div>\n            <div *ngIf=\"mode == 'old'\" (click) = \"mode = 'new'\" class=\"edit_button\">\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C</div>\n            <div class=\"edit_mode\" *ngIf=\"mode == 'new'\">\n                <div class=\"view-group\">\n                    <span class=\"view-label\">\u041E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439:</span>\n                    <ui-slidingMenu class=\"view-value edit-value\"\n                        [options] = \"agentOpts\"\n                        [value]=\"superior.id\"\n                        (onChange)=\"agentChanged($event)\"\n                        [toggle_style] = \"{'background-color':'transparent'}\"\n                    >\n                    </ui-slidingMenu>\n                </div>\n                <div class=\"view-group\">\n                    <span class=\"view-label pull-left\">\u041F\u0440\u0438\u043E\u0440\u0438\u0442\u0435\u0442:</span>\n                    <ui-slidingMenu class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 2, label: '\u0412\u044B\u0441\u043E\u043A\u0438\u0439'},\n                            {value: 1, label: '\u0421\u0440\u0435\u0434\u043D\u0438\u0439'},\n                            {value: 0, label: '\u041D\u0438\u0437\u043A\u0438\u0439'}\n                        ]\"\n                        [value]=\"task.priority\"\n                        (onChange)=\"task.priority = $event.selected.value\"\n                        [toggle_style] = \"{'background-color':'transparent'}\"\n                    >\n                    </ui-slidingMenu>\n                </div>\n                <div class=\"view-group\">\n                    <span class=\"view-label pull-left\">\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435:</span>\n                    <ui-slidingMenu class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 'CALL', label: '\u0417\u0432\u043E\u043D\u043E\u043A'},\n                            {value: 'MEET', label: '\u0412\u0441\u0442\u0440\u0435\u0447\u0430'},\n                            {value: 'OTHER', label: '\u041F\u0440\u043E\u0447\u0435\u0435'}\n                        ]\"\n                        [value]=\"task.type\"\n                        (onChange)=\"task.type = $event.selected.value\"\n                        [toggle_style] = \"{'background-color':'transparent'}\"\n                    >\n                    </ui-slidingMenu>\n                </div>\n                <div class=\"view-group\" style='display: block;'>\n                    <ui-input-line [placeholder] = \"'\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A \u0437\u0430\u0434\u0430\u0447\u0438: '\" [value] = \"task.title\"\n                        [width] = \"'225px'\" (onChange)= \"task.title = $event\"\n                        [input_style]=\"{'background-color':'transparent'}\"\n                        [label_style]=\"{'height':'10px', 'line-height':'16px'}\"\n                    >\n                    </ui-input-line>\n                </div>\n                <div class=\"view-group\" style=\"height: 10px;\"></div>\n                <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/user.png)'\"></div>\n                <div class=\"view-group\" style='display: block;'>\n                    <ui-input-line [placeholder] = \"'\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435: '\" [value] = \"task.discride\"\n                        [width] = \"'225px'\" (onChange)= \"task.discride = $event\"\n                        [input_style]=\"{'background-color':'transparent'}\"\n                        [label_style]=\"{'height':'10px', 'line-height':'16px'}\"\n                    >\n                    </ui-input-line>\n                </div>\n                <div class=\"view-group\" style=\"height: 10px;\"></div>\n                <div class=\"view-group\">\n                    <span class=\"view-label pull-left\">\u041C\u0430\u0440\u0448\u0440\u0443\u0442:</span>\n                    <ui-slidingMenu class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 'CAR', label: '\u041D\u0430 \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u0435'},\n                            {value: 'BUS', label: '\u041E\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u043C \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u043E\u043C'},\n                            {value: 'AFOOT', label: '\u041F\u0435\u0448\u043A\u043E\u043C'}\n                        ]\"\n                        [value]=\"task.route\"\n                        (onChange)=\"task.route = $event.selected.value\"\n                        [toggle_style] = \"{'background-color':'transparent'}\"\n                    >\n                    </ui-slidingMenu>\n                </div>\n                <div class=\"view-group\" style='display: block; height: 323px;margin-top: 20px;'>\n                    <!--<dp-day-calendar\n                        name=\"daytimePicker\"\n                        [(ngModel)]=\"date_start\"\n                        (ngModelChange)=\"new_date($event)\"\n                        [config]=\"datePickerConfig\"\n                        [theme]=\"'dp-main_calendar'\">\n                    </dp-day-calendar>-->\n                    <div class=\"view-label pull-left\" style=\"width: 50%;text-align: center;margin: 10px 0 -5px 0;\">\u041D\u0430\u0447\u0430\u043B\u043E \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F:</div>\n                    <div class=\"view-label pull-left\" style=\"width: 50%;text-align: center;margin: 10px 0 -5px 0;\">\u041A\u043E\u043D\u0435\u0446 \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F:</div>\n                    <!--<dp-time-select style=\"display: block;float: left;width: 50%;\"\n                        name=\"daytimePicker\"\n                        [(ngModel)]=\"date_start\"\n                        (ngModelChange)=\"new_date($event)\"\n                        [config]=\"datePickerConfig\"\n                        [theme]=\"'dp-main_calendar'\">\n                    </dp-time-select>\n                    <dp-time-select style=\"display: block;float: left;width: 50%;\"\n                        name=\"daytimePicker\"\n                        [(ngModel)]=\"date_start\"\n                        (ngModelChange)=\"new_date($event)\"\n                        [config]=\"datePickerConfig\"\n                        [theme]=\"'dp-main_calendar'\">\n                    </dp-time-select>-->\n                </div>\n            </div>\n            <div class=\"view_mode\" *ngIf=\"mode == 'old'\">\n                <div class=\"view-group\">\n                    <span class=\"view-label\">\u041E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439:</span>\n                    <span class=\"view-value\" > {{ superior.name || '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'}}</span>\n                </div>\n                <div class=\"view-group\">\n                    <span class=\"view-label pull-left\">\u041F\u0440\u0438\u043E\u0440\u0438\u0442\u0435\u0442:</span>\n                    <ui-view-value\n                        [options] = \"[\n                            {value: -1, label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'},\n                            {value: 2, label: '\u0412\u044B\u0441\u043E\u043A\u0438\u0439'},\n                            {value: 1, label: '\u0421\u0440\u0435\u0434\u043D\u0438\u0439'},\n                            {value: 0, label: '\u041D\u0438\u0437\u043A\u0438\u0439'}\n                        ]\"\n                        [value]=\"task.priority\"\n                        [Style] = \"{'color': '#212121', 'line-height': '25px', 'margin-top': '0'}\"\n                    >\n                    </ui-view-value>\n                </div>\n                <div class=\"view-group\">\n                    <span class=\"view-label pull-left\">\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435:</span>\n                    <ui-view-value\n                        [options] = \"[\n                            {value: 'NO', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u043E'},\n                            {value: 'CALL', label: '\u0417\u0432\u043E\u043D\u043E\u043A'},\n                            {value: 'MEET', label: '\u0412\u0441\u0442\u0440\u0435\u0447\u0430'},\n                            {value: 'OTHER', label: '\u041F\u0440\u043E\u0447\u0435\u0435'}\n                        ]\"\n                        [value]=\"task.type\"\n                        [Style] = \"{'color': '#212121', 'line-height': '25px', 'margin-top': '0'}\"\n                    >\n                    </ui-view-value>\n                </div>\n\n                <div class=\"view-group\">\n                    <span class=\"view-label\">\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A \u0437\u0430\u0434\u0430\u0447\u0438:</span>\n                    <span class=\"view-value\"> {{ task.title || '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'}}</span>\n                </div>\n                <div class=\"view-group\" style=\"height: 10px;\"></div>\n                <div class=\"view-group\" style=\"height: initial;display: block;\">\n                    <span class=\"view-label\" style=\"line-height: 14px;display: block;float: left;\">\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438:</span>\n                    <span class=\"view-value\" style=\"white-space: normal; line-height: 15px; display: block; text-align: justify;\"> {{ task.discride || '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'}}</span>\n                </div>\n                <div class=\"view-group\" style=\"height: 10px;\"></div>\n                <div class=\"view-group\">\n                    <span class=\"view-label pull-left\">\u041C\u0430\u0440\u0448\u0440\u0443\u0442:</span>\n                    <ui-view-value\n                        [options] = \"[\n                            {value: 'NO', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'},\n                            {value: 'CAR', label: '\u041D\u0430 \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u0435'},\n                            {value: 'BUS', label: '\u041E\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u043C \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u043E\u043C'},\n                            {value: 'AFOOT', label: '\u041F\u0435\u0448\u043A\u043E\u043C'}\n                        ]\"\n                        [value]=\"task.route\"\n                        [Style] = \"{'color': '#212121', 'line-height': '25px', 'margin-top': '0'}\"\n                    >\n                    </ui-view-value>\n                </div>\n                <div class=\"view-group\">\n                    <span class=\"view-label\">\u041F\u0440\u0438\u0441\u0442\u0443\u043F\u0438\u0442\u044C:</span>\n                    <span class=\"view-value\">{{date_start.calendar()}}</span>\n                </div>\n                <div class=\"view-group\">\n                    <span class=\"view-label\">\u041D\u0430\u0447\u0430\u043B\u043E \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F:</span>\n                    <span class=\"view-value\">{{date_start.format(\"kk:mm\")}}</span>\n                </div>\n                <div class=\"view-group\">\n                    <span class=\"view-label\">\u041A\u043E\u043D\u0435\u0446 \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F:</span>\n                    <span class=\"view-value\">{{task.duration}}</span>\n                </div>\n                <hr>\n                <div class=\"view-group\">\n                    <span class=\"view-label\">\u0417\u0430\u0434\u0430\u0447\u0430 \u043F\u0435\u0440\u0435\u043D\u0435\u0441\u0435\u043D\u0430:</span>\n                </div>\n                <div class=\"view-group\">\n                    <span class=\"view-value\" style =\"text-align: justify;\">{{date_start.calendar()}}</span>\n                </div>\n            </div>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__service_user_service__["a" /* UserService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_user_service__["a" /* UserService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__service_notebook_service__["a" /* NotebookService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__service_notebook_service__["a" /* NotebookService */]) === "function" && _c || Object])
], NotebookTaskDescribe);

var _a, _b, _c;
//# sourceMappingURL=notebook-task-describe.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/notebook/notebook-task.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NotebookTask; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var NotebookTask = (function () {
    function NotebookTask() {
    }
    return NotebookTask;
}());
NotebookTask = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'notebook-task',
        styles: ["\n      .calendar{\n          width: calc(100%);\n          height: calc(70% - 50px);\n      }\n\n      .premap{\n          width: calc(100%);\n          height: calc(30% - 5px);\n          background-color: #f7f7f7;\n          padding: 0 10 0 10px;\n          border-top: 1px solid #e1e1e1;\n      }\n      hr{\n          margin: 0px 0px 9px 10px;\n          width: 100%;\n          position: relative;\n          bottom: -19;\n          border-color: rgb(222, 221, 221);\n      }\n\n      .map{\n\n      }\n\n    "],
        template: "\n        <div class=\"calendar\">\n            <almanac> </almanac>\n        </div>\n\n        <div class=\"premap\"><div class=\"map\">\n          <google-map\n            [latitude]=\"48.479257\"\n            [longitude]=\"135.063030\"\n            [zoom]=\"18\"\n            >\n        </google-map>\n        </div></div>\n    "
    })
], NotebookTask);

//# sourceMappingURL=notebook-task.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/offer-table.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_offer_service__ = __webpack_require__("../../../../../src/app/service/offer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment_moment__ = __webpack_require__("../../../../moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_moment_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_user_service__ = __webpack_require__("../../../../../src/app/service/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_session_service__ = __webpack_require__("../../../../../src/app/service/session.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__class_phoneBlock__ = __webpack_require__("../../../../../src/app/class/phoneBlock.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OfferTableComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var OfferTableComponent = (function () {
    function OfferTableComponent(_elem, _hubService, _offerService, _userService, _sessionService) {
        var _this = this;
        this._elem = _elem;
        this._hubService = _hubService;
        this._offerService = _offerService;
        this._userService = _userService;
        this._sessionService = _sessionService;
        this.selectedOffers = [];
        this.contentHeight = 600;
        this.lastClckIdx = 0;
        this.timestamp = (Date.now() / 1000) - 1000;
        this.onSort = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
        this.onListEnd = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
        this.onListStart = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
        this.onSelect = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
        this.clickMenu = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
        this.stageCodeOptions = [
            { value: 'raw', label: 'Не активен' },
            { value: 'active', label: 'Активен' },
            { value: 'price', label: 'Прайс' },
            { value: 'deal', label: 'Сделка' },
            { value: 'suspended', label: 'Приостановлен' },
            { value: 'archive', label: 'Архив' }
        ];
        this.typeCodeOptions = {
            room: 'Комната',
            apartment: 'Квартира',
            apartment_small: 'Малосемейка',
            apartment_new: 'Новостройка',
            house: 'Дом',
            dacha: 'Дача',
            cottage: 'Коттедж',
            townhouse: 'Таунхаус',
            other: 'Другое',
            land: 'Земля',
            building: 'здание',
            office_place: 'офис',
            office: 'офис',
            market_place: 'торговая площадь',
            production_place: 'производственное помещение',
            gpurpose_place: 'помещение общего назначения',
            autoservice_place: 'автосервис',
            service_place: 'помещение под сферу услуг',
            warehouse_place: 'склад база',
            garage: 'гараж'
        };
        this.apSchemaOptions = {
            0: '-',
            1: 'Индивидуальная',
            2: 'Новая',
            3: 'Общежитие',
            4: 'Сталинка',
            5: 'Улучшенная',
            6: 'Хрущевка'
        };
        this.roomSchemeOptions = {
            0: '-',
            1: 'Икарус',
            2: 'Кухня-гостинная',
            3: 'Раздельные',
            4: 'Смежно-раздельные',
            5: 'Смежные',
            6: 'Студия'
        };
        this.houseTypeOptions = {
            0: '-',
            1: 'Кирпичный',
            2: 'Монолитный',
            3: 'Панельный',
            4: 'Деревянный',
            5: 'Брус',
            6: 'Каркасно-засыпной',
            7: 'Монолитно-кирпичный',
            8: 'Шлакобетон'
        };
        this.conditionOptions = {
            0: '-',
            1: 'социальный ремонт',
            2: 'сделан ремонт',
            3: 'дизайнерский ремонт',
            4: 'требуется ремонт',
            5: 'требуется косм. ремонт',
            6: 'после строителей',
            7: 'евроремонт',
            8: 'удовлетворительное',
            9: 'нормальное'
        };
        this.balconyOptions = {
            0: '-',
            1: 'без балкона',
            2: 'балкон',
            3: 'лоджия',
            4: '2 балкона',
            5: '2 лоджии',
            6: 'балкон и лоджия',
            7: 'балкон застеклен',
            8: 'лоджия застеклена'
        };
        this.bathroomOptions = {
            0: '-',
            1: 'без удобств',
            2: 'туалет',
            3: 'с удобствами',
            4: 'душ и туалет',
            5: '2 смежных санузла',
            6: '2 раздельных санузла',
            7: 'санузел совмещенный'
        };
        this.personType = {
            client: 'Клиент',
            realtor: 'Конкурент',
            company: 'Наша компания',
            partner: 'Партнер',
            owner: 'Собственник'
        };
        this.isDrag = false;
        this.fields = [
            {
                id: 'stageCode', label: 'Стадия', visible: true, displayFor: __WEBPACK_IMPORTED_MODULE_2__service_offer_service__["a" /* OfferSource */].LOCAL, sort: 0, val: function (ofr) {
                    return ofr.stageCode;
                }
            },
            {
                id: 'photo', label: 'Фото', visible: true, displayFor: "", sort: 0, val: function (ofr) {
                    //return ofr.main_photo_thumbnail;
                    return '';
                }
            },
            {
                id: 'typeCode', label: 'Тип', visible: true, displayFor: "", sort: 0, val: function (ofr) {
                    return _this.typeCodeOptions[ofr.typeCode];
                }
            },
            {
                id: 'locality', label: 'Нас. пункт', visible: false, displayFor: "", sort: 0, val: function (ofr) {
                    return ofr.fullAddress.city;
                }
            },
            {
                id: 'district', label: 'Район', visible: false, displayFor: "", sort: 0, val: function (ofr) {
                    return ofr.district;
                }
            },
            {
                id: 'poi', label: 'Ориентир', visible: false, displayFor: "", sort: 0, val: function (ofr) {
                    return ofr.poi;
                }
            },
            {
                id: 'address', label: 'Адрес', visible: true, displayFor: "", sort: 0, val: function (ofr) {
                    return ofr.fullAddress.street;
                }
            },
            {
                id: 'roomsCount', label: 'Комнаты', visible: true, displayFor: "", sort: 0, val: function (ofr) {
                    var res = '';
                    if (ofr.roomsOfferCount) {
                        res = '' + ofr.roomsOfferCount;
                    }
                    if (ofr.roomsCount) {
                        if (res != '')
                            res += '/';
                        res += ofr.roomsCount;
                    }
                    return res;
                }
            },
            {
                id: 'apScheme', label: 'Планировка', visible: true, displayFor: "", sort: 0, val: function (ofr) {
                    return _this.apSchemaOptions[ofr.apSchemeId];
                }
            },
            {
                id: 'houseType', label: 'Материал', visible: true, displayFor: "", sort: 0, val: function (ofr) {
                    return _this.houseTypeOptions[ofr.houseTypeId];
                }
            },
            {
                id: 'floor', label: 'Этаж', visible: true, displayFor: "", sort: 0, val: function (ofr) {
                    var res = '';
                    if (ofr.floor) {
                        res += ofr.floor;
                    }
                    if (ofr.floorsCount) {
                        if (res)
                            res += '/';
                        res += ofr.floorsCount;
                    }
                    return res;
                }
            },
            {
                id: 'squareTotal', label: 'Площадь', visible: true, displayFor: "", sort: 0, val: function (ofr) {
                    return ofr.squareTotal;
                }
            },
            {
                id: 'ownerPrice', label: 'Цена', visible: true, displayFor: "", sort: 0, val: function (ofr) {
                    return ofr.ownerPrice;
                }
            },
            {
                id: 'priceSq', label: 'Цена м2', visible: false, displayFor: "", sort: 0, val: function (ofr) {
                    if (ofr.ownerPrice && ofr.squareTotal)
                        return (ofr.ownerPrice / ofr.squareTotal).toFixed(2);
                    else
                        return '';
                }
            },
            {
                id: 'mls', label: 'MLS', visible: false, displayFor: "", sort: 0, val: function (ofr) {
                    return '';
                }
            },
            {
                id: 'sourceMedia', label: 'Источник', visible: true, displayFor: "", sort: 0, val: function (ofr) {
                    return { media: ofr.sourceMedia, url: ofr.sourceUrl };
                }
            },
            {
                id: 'mediator', label: 'Предложение', visible: false, displayFor: "", sort: 0, val: function (ofr) {
                    if (ofr.person && ofr.person.organisation)
                        return { type: "company", obj: ofr.person.organisation };
                    else if (ofr.company)
                        return { type: "company", obj: ofr.company };
                    else if (ofr.media_info_saller)
                        return ofr.media_info_saller;
                    else
                        return "Собственник";
                }
            },
            {
                id: 'personName', label: 'Контакт', visible: true, displayFor: "", sort: 0, width: "110px", val: function (ofr) {
                    if (ofr.person)
                        return { type: "person", obj: ofr.person };
                    else if (ofr.company)
                        return { type: "array", obj: __WEBPACK_IMPORTED_MODULE_6__class_phoneBlock__["a" /* PhoneBlock */].getAsArray(ofr.company.phoneBlock) };
                    else if (ofr.phones_import && ofr.phones_import.length > 0)
                        return { type: "array", obj: __WEBPACK_IMPORTED_MODULE_6__class_phoneBlock__["a" /* PhoneBlock */].formatNumberArray(ofr.phones_import) };
                    else
                        return { type: "array", obj: [] };
                }
            },
            {
                id: 'personType', label: 'Тип контакта', visible: true, displayFor: "", sort: 0, val: function (ofr) {
                    if (ofr.person)
                        return _this.personType[ofr.person.typeCode];
                    else
                        return '';
                }
            },
            {
                id: 'agentName', label: 'Ответственный', visible: true, displayFor: "", sort: 0, val: function (ofr) {
                    if (ofr.agent)
                        return ofr.agent;
                    else
                        return '';
                }
            },
            {
                id: 'manager', label: 'Менеджер', visible: false, displayFor: "", sort: 0, val: function (ofr) {
                    return '~';
                }
            },
            {
                id: 'reqests', label: 'Заявки', visible: false, displayFor: "", sort: 0, val: function (ofr) {
                    return '10';
                }
            },
            {
                id: 'click_count', label: 'Кол-во кликов', visible: false, displayFor: "", sort: 0, val: function (ofr) {
                    return '100';
                }
            },
            {
                id: 'progress', label: 'Прогресс', visible: false, displayFor: __WEBPACK_IMPORTED_MODULE_2__service_offer_service__["a" /* OfferSource */].LOCAL, sort: 0, val: function (ofr) {
                    return '50%';
                }
            },
            {
                id: 'addDate', label: 'Добавлено', visible: true, displayFor: "", sort: 0, val: function (ofr) {
                    if (ofr.addDate)
                        return __WEBPACK_IMPORTED_MODULE_3_moment_moment__(ofr.addDate * 1000).format('DD.MM.YY HH:mm');
                    return "";
                }
            },
            {
                id: 'assignDate', label: 'Назначено', visible: false, displayFor: __WEBPACK_IMPORTED_MODULE_2__service_offer_service__["a" /* OfferSource */].LOCAL, sort: 0, val: function (ofr) {
                    if (ofr.assignDate)
                        return __WEBPACK_IMPORTED_MODULE_3_moment_moment__(ofr.assignDate * 1000).format('DD.MM.YY HH:mm');
                    else
                        return "";
                }
            },
            {
                id: 'changeDate', label: 'Изменено', visible: false, displayFor: __WEBPACK_IMPORTED_MODULE_2__service_offer_service__["a" /* OfferSource */].LOCAL, sort: 0, val: function (ofr) {
                    if (ofr.changeDate)
                        return __WEBPACK_IMPORTED_MODULE_3_moment_moment__(ofr.changeDate * 1000).format('DD.MM.YY HH:mm');
                    else
                        return "";
                }
            },
            {
                id: 'lastSeenDate', label: 'Актуально', visible: true, displayFor: __WEBPACK_IMPORTED_MODULE_2__service_offer_service__["a" /* OfferSource */].LOCAL, sort: 0, val: function (ofr) {
                    if (ofr.lastSeenDate)
                        return __WEBPACK_IMPORTED_MODULE_3_moment_moment__(ofr.lastSeenDate * 1000).format('DD.MM.YY HH:mm');
                    else
                        return "";
                }
            }
        ];
    }
    ;
    OfferTableComponent.prototype.ngOnInit = function () {
        this.calcSize();
        var tfStr = localStorage.getItem('tableFields' + this.source);
        if (tfStr) {
            var tf_1 = JSON.parse(tfStr);
            for (var fid in tf_1) {
                this.fields.forEach(function (f) {
                    if (f.id == fid) {
                        f.visible = tf_1[fid].v;
                        f.sort = tf_1[fid].s;
                    }
                });
            }
        }
    };
    OfferTableComponent.prototype.ngOnChanges = function (changes) {
        this.theaderContextMenu(new Event('build'), true);
        this.ngOnInit();
        // You can also use categoryId.previousValue and
        // categoryId.firstChange for comparing old and new values
    };
    OfferTableComponent.prototype.onResize = function (e) {
        this.calcSize();
    };
    OfferTableComponent.prototype.scroll = function (e) {
        if (this.canLoad == 0) {
            if (e.currentTarget.scrollTop + this.contentHeight >= e.currentTarget.scrollHeight) {
                this.onListEnd.emit({ event: e });
            }
        }
        else {
            //e.preventDefault();
            //return false;
        }
    };
    OfferTableComponent.prototype.openOffer = function (offer) {
        var tab_sys = this._hubService.getProperty('tab_sys');
        offer.openDate = Math.round((Date.now() / 1000));
        tab_sys.addTab('offer', { offer: offer });
    };
    OfferTableComponent.prototype.openAgent = function (agent) {
        var tab_sys = this._hubService.getProperty('tab_sys');
        tab_sys.addTab('user', { user: agent });
    };
    OfferTableComponent.prototype.openPerson = function (data) {
        var tab_sys = this._hubService.getProperty('tab_sys');
        if (data.type == "person")
            tab_sys.addTab('person', { person: data.obj });
        else if (data.type == "company")
            tab_sys.addTab('organisation', { organisation: data.obj });
    };
    OfferTableComponent.prototype.click = function (event, offer, i) {
        if (event.button == 2) {
            if (this.selectedOffers.indexOf(offer) == -1) {
                this.lastClckIdx = i;
                this.selectedOffers = [offer];
            }
        }
        else if (event.button == 0) {
            this.isDrag = true;
            if (event.ctrlKey) {
                // add to selection
                this.lastClckIdx = i;
                this.selectedOffers.push(offer);
            }
            else if (event.shiftKey) {
                this.selectedOffers = [];
                var idx = i;
                var idx_e = this.lastClckIdx;
                if (i > this.lastClckIdx) {
                    idx = this.lastClckIdx;
                    idx_e = i;
                }
                while (idx <= idx_e) {
                    var oi = this.offers[idx++];
                    this.selectedOffers.push(oi);
                }
            }
            else {
                this.lastClckIdx = i;
                this.selectedOffers = [offer];
            }
        }
        this.onSelect.emit(this.selectedOffers);
    };
    OfferTableComponent.prototype.click1 = function (event, offer, i) {
        if (event.button == 0 && this.lastClckIdx != i && this.isDrag) {
            this.selectedOffers = [];
            var idx = i;
            var idx_e = this.lastClckIdx;
            if (i > this.lastClckIdx) {
                idx = this.lastClckIdx;
                idx_e = i;
            }
            while (idx <= idx_e) {
                var oi = this.offers[idx++];
                this.selectedOffers.push(oi);
            }
            this.onSelect.emit(this.selectedOffers);
        }
    };
    OfferTableComponent.prototype.click2 = function (event, offer, i) {
        if (event.button == 0) {
            this.isDrag = false;
        }
    };
    OfferTableComponent.prototype.dblClick = function (offer) {
        this.openOffer(offer);
    };
    OfferTableComponent.prototype.tStart = function (offer) {
        var _this = this;
        this.to = setTimeout(function () {
            _this.openOffer(offer);
            clearTimeout(_this.to);
        }, 1000);
    };
    OfferTableComponent.prototype.tEnd = function (offer) {
        clearTimeout(this.to);
    };
    OfferTableComponent.prototype.tableContextMenu = function (e) {
        var _this = this;
        e.preventDefault();
        e.stopPropagation();
        var c = this;
        var users = this._userService.listCached("", 0, "");
        var uOpt = [];
        /*uOpt.push(
            {class: "entry", disabled: false, label: "Не задано", callback: function() {
                c.selectedOffers.forEach(o => {
                    o.agentId = null;
                    o.agent = null;
                    c._offerService.save(o);
                })
            }},
        );*/
        users.forEach(function (u) {
            if (u.id != _this._sessionService.getUser().id)
                uOpt.push({ class: "entry", disabled: false, label: u.name, callback: function () {
                        _this.clickMenu.emit({ event: "add_to_local", agent: u });
                    } });
        });
        var stageOpt = [];
        this.stageCodeOptions.forEach(function (s) {
            stageOpt.push({
                class: "entry", disabled: false, label: s.label, callback: function () {
                    c.selectedOffers.forEach(function (o) {
                        o.stageCode = s.value;
                        c._offerService.save(o);
                    });
                    /*)
                    setTimeout(function () {
                        c.listOffers();
                    }, 1200);
                    */
                }
            });
        });
        var menu = {
            pX: e.pageX,
            pY: e.pageY,
            scrollable: false,
            items: [
                { class: "entry", disabled: this.selectedOffers.length == 1 ? false : true, icon: "dcheck", label: 'Проверить', callback: function () {
                        _this.clickMenu.emit({ event: "check" });
                        /*var tab_sys = this._hubService.getProperty('tab_sys');
                        var rq = [];
                        this.selectedOffers.forEach(o => {
                            if (o.person.phoneBlock) {
                                rq.push(PhoneBlock.getAsString(o.person.phoneBlock));
                            }
                        });
                        tab_sys.addTab('list_offer', {query: rq.join(" ")});*/
                    } },
                { class: "entry", disabled: false, icon: "document", label: 'Открыть', callback: function () {
                        var tab_sys = _this._hubService.getProperty('tab_sys');
                        _this.selectedOffers.forEach(function (o) {
                            tab_sys.addTab('offer', { offer: o });
                        });
                    } },
                { class: "entry", disabled: this.source == __WEBPACK_IMPORTED_MODULE_2__service_offer_service__["a" /* OfferSource */].LOCAL ? false : true, icon: "trash", label: 'Удалить',
                    callback: function () {
                        _this.clickMenu.emit({ event: "del_obj" });
                        /*this.selectedOffers.forEach(o => {
                            o.stageCode = 'archive';
                            c._offerService.save(o);
                        });
                        setTimeout(function () {
                            c.listOffers(1);
                        }, 1200);*/
                    }
                },
                { class: "entry", disabled: this.selectedOffers.length == 1 ? false : true, icon: "edit", label: "Показать фото", callback: function () {
                        _this.clickMenu.emit({ event: "photo" });
                    } },
                { class: "entry", disabled: false, icon: "edit", label: "Показать на карте",
                    callback: function () {
                        _this.clickMenu.emit({ event: "map" });
                    }
                },
                { class: "delimiter" },
                { class: "submenu", disabled: false, icon: "edit", label: "Изменить стадию", items: stageOpt },
                { class: "submenu", disabled: false, icon: "person", label: "Добавить", items: [
                        { class: "entry", disabled: this.source == __WEBPACK_IMPORTED_MODULE_2__service_offer_service__["a" /* OfferSource */].LOCAL ? true : false, label: "В базу компании",
                            callback: function () {
                                _this.clickMenu.emit({ event: "add_to_local" });
                            }
                        },
                        { class: "entry", disabled: false, label: "В контакты",
                            callback: function () {
                                _this.clickMenu.emit({ event: "add_to_person" });
                            }
                        },
                        { class: "entry", disabled: false, label: "В контрагенты",
                            callback: function () {
                                _this.clickMenu.emit({ event: "add_to_company" });
                            }
                        },
                        { class: "delimiter" }
                    ] },
                { class: "submenu", disabled: false, icon: "person", label: "Назначить", items: [
                        { class: "entry", disabled: this.source == __WEBPACK_IMPORTED_MODULE_2__service_offer_service__["a" /* OfferSource */].LOCAL ? false : true, label: "Не назначено",
                            callback: function () {
                                _this.clickMenu.emit({ event: "del_agent", agent: null });
                            }
                        },
                        { class: "entry", disabled: false, label: "На себя",
                            callback: function () {
                                _this.clickMenu.emit({ event: "add_to_local", agent: _this._sessionService.getUser() });
                            }
                        },
                        { class: "delimiter" }
                    ].concat(uOpt) },
                { class: "entry", disabled: false, icon: "task", label: "Добавить задачу", items: [] },
                { class: "submenu", disabled: false, icon: "edit", label: "Отправить сообщение", items: [
                        { class: "entry", disabled: false, label: "Произвольно", callback: function () { alert('yay s1!'); } },
                        { class: "entry", disabled: false, label: "Шаблон 1", callback: function () { alert('yay s2!'); } },
                        { class: "entry", disabled: false, label: "Шаблон 2", callback: function () { alert('yay s2!'); } },
                        { class: "entry", disabled: false, label: "Шаблон 3", callback: function () { alert('yay s2!'); } },
                    ] },
                { class: "entry", disabled: false, icon: "edit", label: "Экспорт в источники", callback: function () {
                    } },
                { class: "submenu", disabled: false, icon: "task", label: "Позвонить", items: [
                        { class: "entry", disabled: false, label: "Произвольно", callback: function () { alert('yay s1!'); } },
                        { class: "delimiter" },
                        { class: "entry", disabled: false, label: "На основной", callback: function () { alert('yay s1!'); } },
                        { class: "entry", disabled: false, label: "На рабочий", callback: function () { alert('yay s1!'); } },
                        { class: "entry", disabled: false, label: "На мобильный", callback: function () { alert('yay s2!'); } },
                    ] },
                /*{class: "submenu", disabled: true, icon: "advert", label: "Реклама", items: [
                    {class: "entry", disabled: false, label: "пункт x1", callback: function() {alert('yay s1!')}},
                    {class: "entry", disabled: false, label: "пункт x2", callback: function() {alert('yay s2!')}},
                ]},*/
                { class: "delimiter" },
                { class: "tag", icon: "tag", label: "Добавить тег:", items: [
                        { disabled: false, icon: '', callback: function () { } },
                        { disabled: false, icon: 'circle tag-red', callback: function () { } },
                        { disabled: false, icon: 'circle tag-orange', callback: function () { } },
                        { disabled: false, icon: 'circle tag-yellow', callback: function () { } },
                        { disabled: false, icon: 'circle tag-green', callback: function () { } },
                        { disabled: false, icon: 'circle tag-blue', callback: function () { } },
                        { disabled: false, icon: 'circle tag-violet', callback: function () { } },
                        { disabled: false, icon: 'circle tag-gray', callback: function () { } },
                    ] }
            ]
        };
        this._hubService.shared_var['cm'] = menu;
        this._hubService.shared_var['cm_hidden'] = false;
    };
    OfferTableComponent.prototype.theaderContextMenu = function (e, hide) {
        var _this = this;
        e.preventDefault();
        e.stopPropagation();
        var menu = {
            pX: e.pageX,
            pY: e.pageY,
            scrollable: true,
            items: []
        };
        this.fields.forEach(function (f) {
            if (f.displayFor == "" || _this.source == f.displayFor) {
                menu.items.push({
                    class: "entry_cb", disabled: false, value: f.visible, label: f.label, callback: function () {
                        _this.toggleVisibility(f.id);
                    }
                });
            }
            else {
                f.visible = false;
            }
        });
        this._hubService.shared_var['cm'] = menu;
        this._hubService.shared_var['cm_hidden'] = hide;
    };
    OfferTableComponent.prototype.toggleVisibility = function (field_id) {
        var flds = {};
        this.fields.forEach(function (f) {
            if (f.id == field_id) {
                f.visible = !f.visible;
            }
            flds[f.id] = { v: f.visible, s: f.sort };
        });
        localStorage.setItem('tableFields' + this.source, JSON.stringify(flds));
    };
    OfferTableComponent.prototype.calcSize = function () {
        this.contentHeight = document.body.clientHeight - 115;
    };
    OfferTableComponent.prototype.toggleSort = function (f) {
        f.sort++;
        if (f.sort > 2)
            f.sort = 0;
        this.onSort.emit({ field: f.id, order: f.sort });
        this.toggleVisibility(null);
    };
    OfferTableComponent.prototype.isString = function (val) {
        if (typeof val === 'string')
            return true;
        else
            return false;
    };
    OfferTableComponent.prototype.getPnone = function (ph_bl) {
        return __WEBPACK_IMPORTED_MODULE_6__class_phoneBlock__["a" /* PhoneBlock */].getNotNullPhone(ph_bl);
    };
    return OfferTableComponent;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _a || Object)
], OfferTableComponent.prototype, "onSort", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _b || Object)
], OfferTableComponent.prototype, "onListEnd", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _c || Object)
], OfferTableComponent.prototype, "onListStart", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _d || Object)
], OfferTableComponent.prototype, "onSelect", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _e || Object)
], OfferTableComponent.prototype, "clickMenu", void 0);
OfferTableComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'offer-table',
        inputs: ['offers', 'source', 'canLoad', 'page'],
        styles: ["\n        .offer-table-wrapper {\n            padding-top: 115px;\n            height: 100%;\n            width: 100%;\n        }\n\n        .scroll-wrapper {\n            overflow: auto;\n        }\n\n        .table {\n            width: 100%;\n            font-size: 10pt;\n            border-collapse: collapse;\n        }\n\n        .table>thead>tr>th, .table>tbody>tr>th, .table>tfoot>tr>th, .table>thead>tr>td, .table>tbody>tr>td, .table>tfoot>tr>td {\n            padding: 5px;\n            font-weight: 200;\n            text-align: left;\n            vertical-align: middle;\n            //border-top: 1px solid #ddd;\n        }\n\n        .table>thead>tr>th, .table>thead>tr>td {\n            font-weight: 400;\n            border-bottom: 1px solid #ddd;\n            white-space: nowrap;\n\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n\n            cursor: pointer;\n        }\n\n        .table-striped>tbody>tr:nth-child(odd)>td, .table-striped>tbody>tr:nth-child(odd)>th {\n            background-color: #f9f9f9;\n        }\n\n        .seen > td {\n            background-color: #f1f6f8 !important;\n        }\n\n        .modified > td {\n            background-color: #f5f9ef !important;\n        }\n\n        .table > tbody > tr:hover {\n            background-color: #f5f3f3;\n            cursor: hand;\n        }\n\n        .table > tbody > tr.selected > td {\n            color: #fff;\n            background-color: #3366cc !important;\n        }\n\n        .table > tbody{\n            color: rgba(0, 0, 0, 0.8);\n        }\n\n        .loader_back{\n            position: absolute;\n            top: 0;\n            right: 0;\n            z-index: 999;\n            width: 100%;\n            height: 100%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .loading{\n            height: 50px;\n            width: 50px;\n            background-image: url(http://modernbazaar.co.in/assets/images/icons/locate-loader.gif);\n            background-repeat: no-repeat;\n            background-position: center;\n            background-size: contain;\n        }\n    "],
        template: "\n        <div class=\"offer-table-wrapper\" (window:resize)=\"onResize($event)\">\n            <div class=\"scroll-wrapper\" [style.height]=\"contentHeight\" (scroll)=\"scroll($event)\">\n                <table class=\"table table-striped\">\n                    <thead\n                        (contextmenu)=\"theaderContextMenu($event, false)\"\n                    >\n                        <tr>\n                            <th *ngFor=\"let f of fields\"\n                                [hidden]=\"!f.visible\"\n                                [style.width]=\"f.width\"\n                                (click)=\"toggleSort(f)\"\n                            >\n                            {{ f.label }}\n                                <span *ngIf=\"f.sort==0\" class=\"icon-none\"></span>\n                                <span *ngIf=\"f.sort==1\" class=\"icon-chevron-up\"></span>\n                                <span *ngIf=\"f.sort==2\" class=\"icon-chevron-down\"></span>\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody\n                        (contextmenu)=\"tableContextMenu($event)\"\n                    >\n                        <tr *ngFor=\"let o of offers; let i = index\"\n\n                            [class.seen]=\"o.openDate > timestamp\"\n                            [class.modified]=\"o.changeDate > timestamp\"\n\n                            [class.selected]=\"selectedOffers.indexOf(o) > -1\"\n                            (mouseup)=\"click2($event, o, i)\"\n                            (contextmenu)=\"click($event, o)\"\n                            (dblclick)=\"dblClick(o)\"\n                            (mousemove) = \"click1($event, o, i)\"\n                            (mousedown) = \"click($event, o, i)\"\n                        >\n                            <td *ngFor=\"let f of fields\"\n                                [hidden]=\"!f.visible\"\n                                [style.width]=\"f.width\"\n                            >\n                                <span *ngIf=\"f.id=='stateCode'\" class=\"icon-{{ f.val(o) }}\"></span>\n                                <span *ngIf=\"f.id=='photo' && o.photoUrl\" class=\"icon-photo\" (click)=\"clickMenu.emit({event: 'photo'})\"></span>\n                                <span *ngIf=\"f.id=='sourceMedia'\">\n                                    <a [href]=\"f.val(o).url\" target=\"_blank\" style=\"text-transform: capitalize;\">{{f.val(o).media}}</a>\n                                </span>\n                                <span *ngIf=\"f.id =='agentName'\" >\n                                    <a *ngIf=\"f.val(o) != ''\" (click)=\"openAgent(f.val(o))\">{{f.val(o).name}}</a>\n                                </span>\n                                <span *ngIf=\"f.id =='personName'\" >\n                                    <a *ngIf=\"f.val(o).type == 'person'\" (click)=\"openPerson(f.val(o))\">\n                                        {{f.val(o).obj.name ? f.val(o).obj.name : (f.val(o).obj.phoneBlock ? getPnone(f.val(o).obj.phoneBlock) : \"\")}}\n                                    </a>\n                                    <span *ngIf=\"f.val(o).type == 'array'\">\n                                        <span *ngFor=\"let value of f.val(o).obj\" style=\"display: block\">{{value}}</span>\n                                    </span>\n                                </span>\n                                <span *ngIf=\"f.id =='mediator'\" >\n                                    <a *ngIf=\"f.val(o).type\" (click)=\"openPerson(f.val(o))\">\n                                        {{f.val(o).obj.name ? f.val(o).obj.name : (f.val(o).obj.phoneBlock ? getPnone(f.val(o).obj.phoneBlock) : \"\")}}\n                                    </a>\n                                    <span *ngIf=\"isString(f.val(o))\">{{f.val(o)}}</span>\n                                </span>\n                                <span *ngIf= \"f.id!='stateCode' && f.id!='photo' && f.id!='photo' && f.id!='sourceMedia'\n                                        && f.id !='personName' && f.id !='agentName' && f.id !='mediator'\n                                \">\n                                    {{ f.val(o) }}\n                                </span>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div *ngIf=\"canLoad == 1\" class=\"loader_back\"><div class=\"loading\"></div></div>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["g" /* ElementRef */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["g" /* ElementRef */]) === "function" && _f || Object, typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */]) === "function" && _g || Object, typeof (_h = typeof __WEBPACK_IMPORTED_MODULE_2__service_offer_service__["b" /* OfferService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__service_offer_service__["b" /* OfferService */]) === "function" && _h || Object, typeof (_j = typeof __WEBPACK_IMPORTED_MODULE_4__service_user_service__["a" /* UserService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__service_user_service__["a" /* UserService */]) === "function" && _j || Object, typeof (_k = typeof __WEBPACK_IMPORTED_MODULE_5__service_session_service__["a" /* SessionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__service_session_service__["a" /* SessionService */]) === "function" && _k || Object])
], OfferTableComponent);

var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;
//# sourceMappingURL=offer-table.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/tab-system.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".tab-content {\n  margin-left: 30px; }\n\n.tab-list {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  overflow: hidden;\n  background-color: #ccc; }\n\n.tab {\n  width: 30px;\n  border-bottom: 1px solid #aaa;\n  cursor: pointer; }\n\n.tab:hover {\n  background-color: #efefef; }\n\n.tab.selected {\n  background-color: #fff;\n  border-bottom: 1px solid #fff; }\n\n.tab-button {\n  width: 30px;\n  height: 30px;\n  text-align: center;\n  line-height: 30px;\n  font-size: 12px !important;\n  cursor: pointer;\n  color: #666; }\n\n.tab-icon {\n  width: 30px;\n  height: 30px;\n  text-align: center;\n  line-height: 30px;\n  font-size: 16px !important;\n  color: #666; }\n\n.vertical-text-container {\n  position: relative;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden; }\n\n.vertical-text {\n  -webkit-transform: rotate(-90deg);\n          transform: rotate(-90deg);\n  -webkit-transform-origin: 0 0;\n          transform-origin: 0 0;\n  position: absolute;\n  bottom: -25px;\n  line-height: 30px; }\n\n.header {\n  width: 100%;\n  height: 30px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2); }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/component/tab-system.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__class_tab__ = __webpack_require__("../../../../../src/app/class/tab.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TabSystemComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var TabSystemComponent = (function () {
    function TabSystemComponent(_hubService) {
        this._hubService = _hubService;
        this.tabs = [];
        this.tabHeight = 0;
        this.vtHeight = 0;
        _hubService.setProperty('tab_sys', this);
    }
    ;
    TabSystemComponent.prototype.ngAfterContentInit = function () {
        this.addTab('main', {});
    };
    TabSystemComponent.prototype.calcTabHeight = function () {
        var nominalHeight = 160;
        var minimalHeight = 60;
        var h = document.body.clientHeight - (31 * 2); // - 2 buttons
        this.tabHeight = (h - this.tabs.length) / this.tabs.length;
        if (this.tabHeight > nominalHeight)
            this.tabHeight = nominalHeight;
        if (this.tabHeight < minimalHeight)
            this.tabHeight = minimalHeight;
        this.vtHeight = this.tabHeight - 60;
    };
    TabSystemComponent.prototype.selectTab = function (tab) {
        this.clearActive();
        tab.active = true;
        tab.refresh("tabSys");
    };
    TabSystemComponent.prototype.addTab = function (type, args) {
        if (this.tabs.length < 10) {
            var newTab = new __WEBPACK_IMPORTED_MODULE_1__class_tab__["a" /* Tab */](this, type, args);
            this.tabs.push(newTab);
            this.calcTabHeight();
            this.clearActive();
            newTab.active = true;
        }
    };
    TabSystemComponent.prototype.clearActive = function () {
        this.tabs.forEach(function (t) {
            t.active = false;
        });
    };
    TabSystemComponent.prototype.closeTab = function (tab) {
        var _this = this;
        var idx = this.tabs.indexOf(tab);
        this.tabs.splice(idx, 1);
        if (this.tabs.length == 0) {
            this.addTab('main', {});
        }
        else {
            if (tab.active) {
                var t = this.tabs[idx ? (idx - 1) : 0];
                t.active = true;
                t.refresh("tabSys");
            }
        }
        clearTimeout(this.to);
        this.to = setTimeout(function () {
            _this.calcTabHeight();
        }, 500);
    };
    return TabSystemComponent;
}());
TabSystemComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'tab-system',
        styles: [__webpack_require__("../../../../../src/app/component/tab-system.component.scss")],
        template: "\n    <div class=\"tab-list\">\n\n      <div class=\"header\">\n        <div class=\"tab-button\">\n        </div>\n      </div>\n\n      <div class=\"tab\" *ngFor=\"let tab of tabs\"\n        [class.selected]=\"tab.active\"\n        (click)=\"selectTab(tab)\">\n        <div class=\"tab-button close-button\" (click)=\"closeTab(tab)\"><span class=\"icon-cancel\"></span></div>\n        <div class=\"vertical-text-container\" [style.height]=\"vtHeight\">\n          <div class=\"vertical-text\">{{ tab.header }}</div>\n        </div>\n        <div class=\"tab-icon\" style=\"display: block;\"><span class=\"icon-start\"></span></div>\n      </div>\n      <div class=\"tab-button\" (click)=\"addTab('main', {})\">\n        <span class=\"icon-add\"></span>\n      </div>\n    </div>\n    <div class=\"tab-content\">\n      <tab-root *ngFor=\"let tab of tabs\"\n        [hidden]=\"!tab.active\"\n        [tab]=\"tab\">\n      </tab-root>\n    </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__service_hub_service__["a" /* HubService */]) === "function" && _a || Object])
], TabSystemComponent);

var _a;
//# sourceMappingURL=tab-system.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/tab/tab-activity.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_user_service__ = __webpack_require__("../../../../../src/app/service/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_offer_service__ = __webpack_require__("../../../../../src/app/service/offer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_history_service__ = __webpack_require__("../../../../../src/app/service/history.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_analysis_service__ = __webpack_require__("../../../../../src/app/service/analysis.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_session_service__ = __webpack_require__("../../../../../src/app/service/session.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TabActivityComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var TabActivityComponent = (function () {
    function TabActivityComponent(_hubService, _userService, _configService, _offerService, _analysisService, _historyService, _sessionService) {
        this._hubService = _hubService;
        this._userService = _userService;
        this._configService = _configService;
        this._offerService = _offerService;
        this._analysisService = _analysisService;
        this._historyService = _historyService;
        this._sessionService = _sessionService;
        this.activeMenu = 0;
        this.source = __WEBPACK_IMPORTED_MODULE_4__service_offer_service__["a" /* OfferSource */].LOCAL;
        this.filter = {
            stageCode: 'all',
            agentId: 'all',
            tag: 'all',
            changeDate: 90,
            offerTypeCode: 'sale',
        };
    }
    TabActivityComponent.prototype.ngOnInit = function () {
        this.tab.header = "Активность стадии";
        console.log(this.tab);
        this.is_offer = this.tab.args.offer ? true : false;
        this.main_stage = this.tab.args.stage;
        if (this.is_offer)
            this.main_offer = this.tab.args.offer;
        for (var i = 0; i < this.main_stage.substage.length; ++i) {
            this.listOffers(i);
        }
    };
    TabActivityComponent.prototype.ngAfterViewInit = function () {
    };
    TabActivityComponent.prototype.toggleSource = function (s) {
        if (s == 'main') {
            this.activeMenu = 0;
        }
        else if (s == 'analitic') {
            this.activeMenu = 1;
        }
        else {
            this.activeMenu = 2;
        }
    };
    TabActivityComponent.prototype.set_stage = function (i) {
        this.main_stage.substage.forEach(function (stage) {
            stage.active = false;
        });
        this.main_stage.substage[i].active = true;
    };
    TabActivityComponent.prototype.listOffers = function (i) {
        var _this = this;
        this._offerService.list(this.main_stage.substage[i].page, 10, this.source, { stageCode: this.main_stage.substage[i].value,
            agentId: this._sessionService.getUser().id,
            tag: 'all',
            changeDate: 90,
            offerTypeCode: 'sale',
        }, {}, "", []).subscribe(function (data) {
            if (_this.main_stage.substage[i].page == 0) {
                _this.main_stage.substage[i].offers = data.list;
            }
            else {
                data.list.forEach(function (i) {
                    _this.main_stage.substage[i].offers.push(i);
                });
            }
        }, function (err) { return console.log(err); });
    };
    TabActivityComponent.prototype.split_number = function (n) {
        n += "";
        n = new Array(4 - n.length % 3).join("U") + n;
        return n.replace(/([0-9U]{3})/g, "$1 ").replace(/U/g, "");
    };
    return TabActivityComponent;
}());
TabActivityComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'tab-activity',
        inputs: ['tab'],
        styles: ["\n\n        .search-form {\n            background: #fff;\n            z-index: 1;\n            width: 38%;\n            margin-left: 610;\n            margin-top: 27px;\n        }\n\n        .tool-box {\n            height: 30px;\n            margin: 0 12px;\n        }\n\n        .inline-select {\n            display: inline-block;\n            height: 20px;\n            padding: 0 15px;\n            font-size: 14px;\n            color: #666;\n        }\n\n        .round_menu{\n            width: 170px;\n            height: 50px;\n            position: absolute;\n            left: 450;\n            top: 15px;\n            text-align: center;\n            z-index: 10;\n            line-height: 50px;\n            display: flex;\n            justify-content: space-around;\n        }\n\n        .search-box {\n            position: relative;\n            margin: 12px;\n            margin-bottom: 8px;\n        }\n\n        .button {\n            height: 50px;\n            width: 50px;\n            border-radius: 40px;\n            cursor: pointer;\n            font-size: 11px;\n            line-height: 120px;\n            background-size: cover;\n            background-color: #bcbfc1;\n            color: #807982;\n            border: 2px solid #bcbfc1;\n        }\n\n        .button_active, .button:hover{\n            border-color: #1061c4;\n            background-color: #1061c4;\n        }\n\n        .underline{\n            border: 2px solid;\n            color: #d6543f;\n            background-color: #d6543f;\n            position: relative;\n            top: -2;\n            width: 100vw;\n            margin-bottom: 0;\n        }\n\n        .work_list, .work_list1{\n            width: 100%;\n            height: calc(100% - 117px);\n            overflow: hidden;\n        }\n\n        .work_list .left_panel{\n            width: 370px;\n            height: 100%;\n            float: right;\n        }\n\n        .work_list .central_panel{\n            width: calc(100% - 370px);\n            height: 100%;\n            overflow-x: auto;\n            overflow-y: hidden;\n            float: left;\n        }\n\n        .work_list .central_panel > div{\n            height: 100%;\n            background-color: #f8f8f8;\n            display: flex;\n        }\n\n        .stage{\n            height: 100%;\n            position: relative;\n            flex: 0 0 300px;\n            width: 300px;\n        }\n\n        .stage > .label{\n            width: 100%;\n            height: 35px;\n            background-color: #4dad15;\n            color: white;\n            font-size: 15px;\n            line-height: 35px;\n            text-align: center;\n            cursor: hand;\n        }\n\n        .stage > .summ{\n            width: calc(100% - 6px);\n            height: 60px;\n            background-color: #e6e7e8;\n            margin-top: 5px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .stage > .summ > div:first-child{\n            color: #4dad15;\n            margin-right: 15px;\n            font-size: 29px;\n        }\n\n        .stage > .summ > div:last-child:not(:first-child){\n            font-size: 20px;\n        }\n\n        .stage > .label:hover, .active .label, .stage:first-child > .label{\n            background-color: #008cdb !important;\n        }\n\n        .stage:last-child > .label{\n            background: #d6543f;\n        }\n\n        .stage:not(:last-child):not(:first-child):after{\n            content: \" \";\n            width: 19px;\n            height: 35px;\n            background-image: url(assets/activity_arrow.png);\n            background-size: 100% 100%;\n            background-repeat: no-repeat;\n            background-position: center;\n            display: block;\n            position: absolute;\n            right: -11px;\n            top: 0;\n        }\n\n        .stage:first-child:after{\n            content: \" \";\n            width: 8px;\n            height: 35px;\n            background-color: #f8f8f8;\n            display: block;\n            position: absolute;\n            right: 0px;\n            top: 0;\n        }\n\n        .stage_body{\n            overflow: auto;\n            height: calc(100% - 100px);\n            width: calc(100% - 7px);\n        }\n\n    "],
        template: "\n        <div class=\"header-label-abs\" style=\"margin: 2px 0 0 30px;\">{{ tab.header }}</div>\n        <div class = \"round_menu\">\n            <div (click)=\"toggleSource('main')\"    class=\"button\"  [class.button_active]=\"this.activeMenu == 0\" [style.background-image]=\"'url(assets/main_offers.png)'\">\u0413\u043B\u0430\u0432\u043D\u0430\u044F</div>\n            <div (click)=\"toggleSource('analitic')\" class=\"button\" [class.button_active]=\"this.activeMenu == 1\" [style.background-image]=\"'url(assets/analitic.png)'\">\u041E\u0442\u0447\u0435\u0442\u044B</div>\n            <div (click)=\"toggleSource('history')\"  class=\"button\" [class.button_active]=\"this.activeMenu == 2\" [style.background-image]=\"'url(assets/history.png)'\">\u0418\u0441\u0442\u043E\u0440\u0438\u044F</div>\n        </div>\n        <div class=\"search-form\">\n            <div class=\"search-box\">\n                <input type=\"text\" class=\"\" placeholder=\"\" style=\"height: 28px; width: 100%;\n                background-color: rgb(247, 247, 247); border: 1px solid rgba(204, 204, 204, 0.47);\"\n                    [(ngModel)]=\"searchQuery\" (keyup)=\"$event\"\n                >\n                <span class=\"icon-search\" style=\"position: absolute; right: 12px; top: 7px;\"></span>\n            </div>\n            <div class=\"tool-box\">\n\n\n            <div class=\"inline-select\">\n                <ui-select class=\"view-value edit-value\"\n                    [options] = \"[\n                        {value: 'sale', label: '\u041C\u043E\u0438 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F'},\n                        {value: 'rent', label: '\u041D\u0435 \u043C\u043E\u0438 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F'}\n                    ]\"\n                    [value]=\"'sale'\"\n                    [config]=\"{icon: 'icon-', draw_arrow: true}\"\n                    (onChange)=\"null\"\n                    >\n                </ui-select>\n            </div>\n            <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 0, label: '\u0412\u0441\u0435'},\n                            {value: 1, label: '\u041A\u0440\u0430\u0441\u043D\u044B\u0439', icon: 'icon-circle tag-red'},\n                            {value: 2, label: '\u041E\u0440\u0430\u043D\u0436\u0435\u0432\u044B\u0439', icon: 'icon-circle tag-orange'},\n                            {value: 3, label: '\u0416\u0435\u043B\u0442\u044B\u0439', icon: 'icon-circle tag-yellow'},\n                            {value: 4, label: '\u0417\u0435\u043B\u0435\u043D\u044B\u0439', icon: 'icon-circle tag-green'},\n                            {value: 5, label: '\u0413\u043E\u043B\u0443\u0431\u043E\u0439', icon: 'icon-circle tag-blue'},\n                            {value: 6, label: '\u041B\u0438\u043B\u043E\u0432\u044B\u0439', icon: 'icon-circle tag-violet'},\n                            {value: 7, label: '\u0421\u0435\u0440\u044B\u0439', icon: 'icon-circle tag-gray'}\n                        ]\"\n                        [value]=\"0\"\n                        [config]=\"{icon: 'icon-tag', draw_arrow: true}\"\n                        (onChange)=\"null\"\n                        >\n                    </ui-select>\n                </div>\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 1, label: '1 \u0434\u0435\u043D\u044C'},\n                            {value: 2, label: '3 \u0434\u043D\u044F'},\n                            {value: 3, label: '\u041D\u0435\u0434\u0435\u043B\u044F'},\n                            {value: 4, label: '2 \u043D\u0435\u0434\u0435\u043B\u0438'},\n                            {value: 5, label: '\u041C\u0435\u0441\u044F\u0446'},\n                            {value: 6, label: '3 \u043C\u0435\u0441\u044F\u0446\u0430'},\n                            {value: 7, label: '\u0412\u0441\u0435'}\n                        ]\"\n                        [value]=\"6\"\n                        [config]=\"{icon: 'icon-month', drawArrow: true}\"\n                        (onChange)=\"null\"\n                    >\n                    </ui-select>\n                </div>\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options]=\"[\n                            {value: 'all', label: '\u0412\u0441\u0435'},\n                            {value: 'raw', label: '\u041D\u0435 \u0430\u043A\u0442\u0438\u0432\u0435\u043D'},\n                            {value: 'active', label: '\u0410\u043A\u0442\u0438\u0432\u0435\u043D'},\n                            {value: 'price', label: '\u041F\u0440\u0430\u0439\u0441'},\n                            {value: 'deal', label: '\u0421\u0434\u0435\u043B\u043A\u0430'},\n                            {value: 'suspended', label: '\u041F\u0440\u0438\u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D'},\n                            {value: 'archive', label: '\u0410\u0440\u0445\u0438\u0432'}\n                        ]\"\n                        [value]=\"filter.stage\"\n                        [config]=\"{icon: 'icon-square', drawArrow: true}\"\n                        (onChange)=\"filter.stageCode = $event.selected.value; searchParamChanged($event);\"\n                    >\n                    </ui-select>\n                </div>\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 'sale', label: '\u041F\u0440\u043E\u0434\u0430\u0436\u0430'},\n                            {value: 'rent', label: '\u0410\u0440\u0435\u043D\u0434\u0430'}\n                        ]\"\n                        [value]=\"'sale'\"\n                        [config]=\"{icon: 'icon-', draw_arrow: true}\"\n                        (onChange)=\"null\"\n                        >\n                    </ui-select>\n                </div>\n            </div>\n        </div>\n        <hr class=\"underline\">\n        <div *ngIf=\"activeMenu == 0\" class=\"work_list\">\n            <div class=\"central_panel\">\n                <div>\n                    <div class='stage' [style.z-index]=\"101\" *ngIf=\"!is_offer\">\n                        <div class='label' >{{main_stage.label}}</div>\n                        <div class=\"summ\">\n                            <div *ngIf=\"main_stage.summ && main_stage.summ > 0\">{{split_number(main_stage.summ)}}&#8381;</div>\n                        </div>\n                        <digest-offer-table2 *ngFor=\"let data of main_stage.offers\"\n                            style=\"display: block; background-color: transparent;\"\n                            [offer]=\"data\"\n                            [withPhoto]=\"false\"\n                            (touchstart)=\"tStart(data)\"\n                            (touchend)=\"tEnd(data)\"\n                        >\n                        </digest-offer-table2>\n                    </div>\n                    <div class='stage' [style.z-index]=\"101\" *ngIf=\"is_offer\">\n                        <div class='label' >{{main_stage.label}}</div>\n                        <div class=\"summ\">\n\n                        </div>\n                        <digest-offer-table2\n                            style=\"display: block; background-color: transparent;\"\n                            [offer]=\"main_offer\"\n                            [withPhoto]=\"false\"\n                            (touchstart)=\"tStart(data)\"\n                            (touchend)=\"tEnd(data)\"\n                        >\n                        </digest-offer-table2>\n                    </div>\n                    <div class='stage' *ngFor=\"let stage of main_stage.substage; let i=index\" [class.active] = \"stage.active\" [style.z-index]=\"100-i\">\n                        <div class='label' (click)=\"set_stage(i)\">{{stage.label}} ({{stage.offers?.length}})</div>\n                        <div class=\"summ\">\n\n                        </div>\n                        <div class='stage_body'>\n                            <digest-offer-table2 *ngFor=\"let data of stage.offers\"\n                                    style=\"display: block; background-color: transparent;\"\n                                    [offer]=\"data\"\n                                    [withPhoto]=\"false\"\n                                    (click)=\"click($event, data)\"\n                                    (contextmenu)=\"click($event, data)\"\n                                    (dblclick)=\"openOffer(data)\"\n                                    (touchstart)=\"tStart(data)\"\n                                    (touchend)=\"tEnd(data)\"\n                            >\n                            </digest-offer-table2>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"left_panel\">\n\n            </div>\n        </div>\n\n\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__service_user_service__["a" /* UserService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__service_user_service__["a" /* UserService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__service_config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__service_config_service__["a" /* ConfigService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_4__service_offer_service__["b" /* OfferService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__service_offer_service__["b" /* OfferService */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_6__service_analysis_service__["a" /* AnalysisService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__service_analysis_service__["a" /* AnalysisService */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_5__service_history_service__["a" /* HistoryService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__service_history_service__["a" /* HistoryService */]) === "function" && _f || Object, typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_7__service_session_service__["a" /* SessionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_7__service_session_service__["a" /* SessionService */]) === "function" && _g || Object])
], TabActivityComponent);

var _a, _b, _c, _d, _e, _f, _g;
//# sourceMappingURL=tab-activity.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/tab/tab-advertising.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_user_service__ = __webpack_require__("../../../../../src/app/service/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_offer_service__ = __webpack_require__("../../../../../src/app/service/offer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_history_service__ = __webpack_require__("../../../../../src/app/service/history.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_analysis_service__ = __webpack_require__("../../../../../src/app/service/analysis.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_session_service__ = __webpack_require__("../../../../../src/app/service/session.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TabAdvertisingComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var TabAdvertisingComponent = (function () {
    function TabAdvertisingComponent(_hubService, _userService, _configService, _offerService, _analysisService, _historyService, _sessionService) {
        this._hubService = _hubService;
        this._userService = _userService;
        this._configService = _configService;
        this._offerService = _offerService;
        this._analysisService = _analysisService;
        this._historyService = _historyService;
        this._sessionService = _sessionService;
        this.activeMenu = 0;
        this.chartID = "Chart" + Math.floor(Math.random() * (9999 - 1000 + 1)) + 1000;
        this.hitsCount = 0;
        this.page = 0;
        this.perPage = 32;
        this.source = __WEBPACK_IMPORTED_MODULE_4__service_offer_service__["a" /* OfferSource */].LOCAL;
        this.filter = {
            stageCode: 'all',
            agentId: 'all',
            tag: 'all',
            changeDate: 90,
            offerTypeCode: 'sale',
        };
        this.sort = {};
        this.searchQuery = "";
        this.searchArea = [];
        this.advArray = [
            ['Авито', 500, 400, 329, 230, 150, 50],
            ['Фарпост', 500, 400, 329, 230, 150, -50],
            ['ВНХ', 500, 400, 329, 230, 150, -24],
            ['Из рук в руки', 500, 400, 329, 230, 150, -18],
            ['Презент', 500, 400, 329, 230, 150, 17],
            ['ЦИАН', 500, 400, 329, 230, 150, 24],
            ['Барахла', 500, 400, 329, 230, 150, -3],
            ['Авито', 500, 400, 329, 230, 150, -10]
        ];
        this.advArray1 = [];
    }
    TabAdvertisingComponent.prototype.ngOnInit = function () {
        this.tab.header = "РЕКЛАМА";
        this.listOffers();
    };
    TabAdvertisingComponent.prototype.ngAfterViewInit = function () {
    };
    TabAdvertisingComponent.prototype.toggleSource = function (s) {
        if (s == 'main') {
            this.activeMenu = 0;
        }
        else if (s == 'analitic') {
            this.activeMenu = 1;
        }
        else {
            this.activeMenu = 2;
        }
    };
    TabAdvertisingComponent.prototype.listOffers = function () {
        var _this = this;
        this._offerService.list(this.page, this.perPage, this.source, this.filter, this.sort, this.searchQuery, this.searchArea).subscribe(function (data) {
            _this.hitsCount = data.hitsCount || 0;
            if (_this.page == 0) {
                _this.offers = data.list;
            }
            else {
                data.list.forEach(function (i) {
                    _this.offers.push(i);
                });
            }
        }, function (err) { return console.log(err); });
    };
    TabAdvertisingComponent.prototype.scroll = function (e) {
        if (e.currentTarget.scrollTop + e.currentTarget.clientHeight >= e.currentTarget.scrollHeight) {
            this.page += 1;
            this.listOffers();
        }
    };
    TabAdvertisingComponent.prototype.rand = function (max, min) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    };
    TabAdvertisingComponent.prototype.calcHeight = function () {
    };
    TabAdvertisingComponent.prototype.openOffer = function (offer) {
        var tab_sys = this._hubService.getProperty('tab_sys');
        tab_sys.addTab('offer', { offer: offer });
    };
    return TabAdvertisingComponent;
}());
TabAdvertisingComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'tab-advertising',
        inputs: ['tab'],
        styles: ["\n\n        .search-form {\n            background: #fff;\n            z-index: 1;\n            width: 38%;\n            margin-left: 610;\n            margin-top: 27px;\n        }\n\n        .tool-box {\n            height: 30px;\n            margin: 0 12px;\n        }\n\n        .inline-select {\n            display: inline-block;\n            height: 20px;\n            padding: 0 15px;\n            font-size: 14px;\n            color: #666;\n        }\n\n        .round_menu{\n            width: 170px;\n            height: 50px;\n            position: absolute;\n            left: 450;\n            top: 15px;\n            text-align: center;\n            z-index: 10;\n            line-height: 50px;\n            display: flex;\n            justify-content: space-around;\n        }\n\n        .search-box {\n            position: relative;\n            margin: 12px;\n            margin-bottom: 8px;\n        }\n\n        .button {\n            height: 50px;\n            width: 50px;\n            border-radius: 40px;\n            cursor: pointer;\n            font-size: 11px;\n            line-height: 120px;\n            background-size: cover;\n            background-color: #bcbfc1;\n            color: #807982;\n            border: 2px solid #bcbfc1;\n        }\n\n        .button_active, .button:hover{\n            border-color: #1061c4;\n            background-color: #1061c4;\n        }\n\n        .underline{\n            border: 2px solid;\n            color: #AB47BC;\n            background-color: #AB47BC;\n            position: relative;\n            top: -2;\n            width: 100vw;\n            margin-bottom: 0;\n        }\n\n        .prework{\n            overflow: auto;\n            width: 100%;\n            height: calc(100% - 117px);\n        }\n\n        .work_list, .work_list1{\n            background: #f8f8f8;\n            min-width: 1500px;\n            min-height: 630px;\n            height: 100%;\n        }\n\n        .work_list > .left_panel{\n            min-width: 550px;\n            width: calc(31% - 3px);\n            height: 100%;\n            float: left;\n            overflow: hidden;\n            margin-right: 3px;\n            display: flex;\n        }\n\n        .work_list > .left_panel thead tr{\n            color: #807982;\n        }\n\n        .work_list1 > .left_panel{\n            width: 65%;\n            height: 100%;\n            float: left;\n            display: flex;\n            flex-wrap: wrap;\n            justify-content: space-between;\n            align-content: space-between;\n            overflow: hidden;\n            background-color: #f6f8f0;\n        }\n\n        .work_list > .central_panel{\n            width: calc(69% - 375px);\n            max-width: calc(100% - 926px);\n            min-height: 600px;\n            height: 100%;\n            float: left;\n            display: flex;\n            flex-wrap: wrap;\n            justify-content: space-around;\n            align-content: space-between;\n            margin-right: 3px;\n        }\n\n        td{\n            padding: 0;\n        }\n\n        .work_list >.right_panel{\n            width: 370px;\n            height: 100%;\n            display: flex;\n            flex-wrap: wrap;\n            align-content: space-between;\n        }\n\n        .work_list1 >.right_panel{\n            width: calc(35% - 3px);\n            margin-left: 3px;\n            height: 100%;\n            float: left;\n            overflow: hidden;\n        }\n\n        .map_container{\n            width: calc(100% - 3px);\n            height: calc(50% - 6px);\n            max-height: calc(100% - 306px);\n            display: flex;\n            justify-content: space-between;\n        }\n\n        .map{\n            width: calc(100% - 123px);\n            position: relative;\n            display: block;\n            float: left;\n        }\n\n        .map_menu{\n            width: 120px;\n            float: left;\n            background-color: #f7f7f7;\n            margin-left: 3px;\n            display: flex;\n            flex-direction: column;\n            justify-content: space-between;\n            height: 100%;\n        }\n        .map_menu >div {\n            height: calc(10% - 2px);\n            text-align: center;\n            background-color: #AB47BC;\n            color: #ffffff;\n            line-height: calc(10% - 2px);\n            font-size: 9pt;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n\n        .map_menu >div:hover, .active_map_menu {\n            background-color: rgba(18, 54, 120, 1) !important;\n            color: white !important;\n        }\n\n        .work_list table, .work_list1 table{\n            display: block;\n            width: 100%;\n            font-size: 9pt;\n            border-spacing: 0;\n            text-align: center;\n            height: 100%;\n            background-color: white;\n            //min-height: 335px;\n        }\n\n\n        .work_list1 table{\n            text-align: center;\n            width: calc(100% - 6px);\n            padding-left: 6px;\n            height: 33%;\n            font-size: 10pt;\n        }\n\n        .work_list1 .table2{\n            height: calc(67% - 3px);\n        }\n\n        .work_list table tr, .work_list1 table tr{\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n\n        .work_list table tbody tr:nth-child(odd){\n            background-color: #f9f9f9;\n        }\n\n        .work_list1 table tbody tr{\n            color: #828282;\n        }\n\n        table tbody tr:hover{\n            background-color: #f5f3f3 !important;\n            cursor: hand;\n        }\n\n        .work_list1 .table1 tbody tr{\n            height: 35px;\n        }\n\n        .work_list1 .table1 tbody tr:nth-child(odd){\n            background-color: #f6f8f0;\n        }\n\n        .work_list1 .table2 tbody tr:nth-child(odd){\n            background-color: #f3f8fd;\n        }\n\n        .work_list table tbody tr:nth-child(even), .work_list table thead tr, .work_list1 table tbody tr:nth-child(even), .work_list1 table thead tr{\n            background-color: #ffffff;\n        }\n\n        .work_list table thead, .work_list1 table thead{\n            display: block;\n        }\n\n        .work_list1 table thead {\n            height: 17px;\n            font-size: 12px;\n            color: #587731;\n            line-height: 17px;\n        }\n\n        .work_list1 .table2 thead {\n            color: #205087;\n        }\n\n        .work_list table tbody{\n            display: block;\n            overflow: auto;\n            height: calc(100% - 65px);\n        }\n\n        .work_list1 table tbody{\n            display: block;\n            overflow: auto;\n            height: calc(100% - 90px);\n        }\n\n        .work_list .right_panel digest-pie-chart, .work_list .right_panel digest-column-chart{\n            flex: 1 1 30%;\n            height: calc(25% - 3px);\n            margin-bottom: 3px;\n            min-height: 150px;\n        }\n\n        .work_list .central_panel digest-pie-chart, .work_list .central_panel digest-column-chart{\n            margin: 0;\n            flex: 0 0 calc(50% - 3px);\n            min-height: 150px;\n            height: calc(25% - 3px);\n        }\n\n        .work_list1 digest-pie-chart, .work_list1 digest-column-chart{\n            flex: 0 1 33%;\n            height: calc(25% - 3px);\n            min-height: 150px;\n        }\n\n        .work_list .left_panel table .text{\n            text-transform: uppercase;\n            color: #4c4c4c;\n            margin: 12px 0 0px 15px;\n            position: relative;\n            z-index: 10;\n            height: 46px;\n            display: flex;\n            justify-content: space-between;\n            font-size: 16px;\n        }\n\n\n    "],
        template: "\n        <div class=\"header-label-abs\" style=\"margin: 2px 0 0 30px;\">{{ tab.header }}</div>\n        <div class = \"round_menu\">\n            <div (click)=\"toggleSource('main')\"    class=\"button\"  [class.button_active]=\"this.activeMenu == 0\" [style.background-image]=\"'url(assets/main_offers.png)'\">\u0413\u043B\u0430\u0432\u043D\u0430\u044F</div>\n            <div (click)=\"toggleSource('analitic')\" class=\"button\" [class.button_active]=\"this.activeMenu == 1\" [style.background-image]=\"'url(assets/analitic.png)'\">\u041E\u0442\u0447\u0435\u0442\u044B</div>\n            <div (click)=\"toggleSource('history')\"  class=\"button\" [class.button_active]=\"this.activeMenu == 2\" [style.background-image]=\"'url(assets/history.png)'\">\u0418\u0441\u0442\u043E\u0440\u0438\u044F</div>\n        </div>\n        <div class=\"search-form\">\n            <div class=\"search-box\">\n                <input type=\"text\" class=\"\" placeholder=\"\" style=\"height: 28px; width: 100%;\n                background-color: rgb(247, 247, 247); border: 1px solid rgba(204, 204, 204, 0.47);\"\n                    [(ngModel)]=\"searchQuery\" (keyup)=\"$event\"\n                >\n                <span class=\"icon-search\" style=\"position: absolute; right: 12px; top: 7px;\"></span>\n            </div>\n            <div class=\"tool-box\">\n\n\n            <div class=\"inline-select\">\n                <ui-select class=\"view-value edit-value\"\n                    [options] = \"[\n                        {value: 'sale', label: '\u041C\u043E\u0438 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F'},\n                        {value: 'rent', label: '\u041D\u0435 \u043C\u043E\u0438 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F'}\n                    ]\"\n                    [value]=\"'sale'\"\n                    [config]=\"{icon: 'icon-', draw_arrow: true}\"\n                    (onChange)=\"null\"\n                    >\n                </ui-select>\n            </div>\n            <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 0, label: '\u0412\u0441\u0435'},\n                            {value: 1, label: '\u041A\u0440\u0430\u0441\u043D\u044B\u0439', icon: 'icon-circle tag-red'},\n                            {value: 2, label: '\u041E\u0440\u0430\u043D\u0436\u0435\u0432\u044B\u0439', icon: 'icon-circle tag-orange'},\n                            {value: 3, label: '\u0416\u0435\u043B\u0442\u044B\u0439', icon: 'icon-circle tag-yellow'},\n                            {value: 4, label: '\u0417\u0435\u043B\u0435\u043D\u044B\u0439', icon: 'icon-circle tag-green'},\n                            {value: 5, label: '\u0413\u043E\u043B\u0443\u0431\u043E\u0439', icon: 'icon-circle tag-blue'},\n                            {value: 6, label: '\u041B\u0438\u043B\u043E\u0432\u044B\u0439', icon: 'icon-circle tag-violet'},\n                            {value: 7, label: '\u0421\u0435\u0440\u044B\u0439', icon: 'icon-circle tag-gray'}\n                        ]\"\n                        [value]=\"0\"\n                        [config]=\"{icon: 'icon-tag', draw_arrow: true}\"\n                        (onChange)=\"null\"\n                        >\n                    </ui-select>\n                </div>\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 1, label: '1 \u0434\u0435\u043D\u044C'},\n                            {value: 2, label: '3 \u0434\u043D\u044F'},\n                            {value: 3, label: '\u041D\u0435\u0434\u0435\u043B\u044F'},\n                            {value: 4, label: '2 \u043D\u0435\u0434\u0435\u043B\u0438'},\n                            {value: 5, label: '\u041C\u0435\u0441\u044F\u0446'},\n                            {value: 6, label: '3 \u043C\u0435\u0441\u044F\u0446\u0430'},\n                            {value: 7, label: '\u0412\u0441\u0435'}\n                        ]\"\n                        [value]=\"6\"\n                        [config]=\"{icon: 'icon-month', drawArrow: true}\"\n                        (onChange)=\"null\"\n                    >\n                    </ui-select>\n                </div>\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options]=\"[\n                            {value: 'all', label: '\u0412\u0441\u0435'},\n                            {value: 'raw', label: '\u041D\u0435 \u0430\u043A\u0442\u0438\u0432\u0435\u043D'},\n                            {value: 'active', label: '\u0410\u043A\u0442\u0438\u0432\u0435\u043D'},\n                            {value: 'price', label: '\u041F\u0440\u0430\u0439\u0441'},\n                            {value: 'deal', label: '\u0421\u0434\u0435\u043B\u043A\u0430'},\n                            {value: 'suspended', label: '\u041F\u0440\u0438\u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D'},\n                            {value: 'archive', label: '\u0410\u0440\u0445\u0438\u0432'}\n                        ]\"\n                        [value]=\"filter.stage\"\n                        [config]=\"{icon: 'icon-square', drawArrow: true}\"\n                        (onChange)=\"filter.stageCode = $event.selected.value; searchParamChanged($event);\"\n                    >\n                    </ui-select>\n                </div>\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 'sale', label: '\u041F\u0440\u043E\u0434\u0430\u0436\u0430'},\n                            {value: 'rent', label: '\u0410\u0440\u0435\u043D\u0434\u0430'}\n                        ]\"\n                        [value]=\"'sale'\"\n                        [config]=\"{icon: 'icon-', draw_arrow: true}\"\n                        (onChange)=\"null\"\n                        >\n                    </ui-select>\n                </div>\n            </div>\n        </div>\n        <hr class=\"underline\">\n        <div class=\"prework\"><div *ngIf=\"activeMenu == 0\" class=\"work_list\">\n            <div class=\"left_panel\">\n                <table>\n                    <div class=\"head\">\n                        <span class=\"text\">\u041F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F</span>\n                    </div>\n                    <thead>\n                        <tr>\n                            <td style=\"width: 30px\"></td>\n                            <td style=\"width: 270px\">\u041E\u0431\u044A\u0435\u043A\u0442</td>\n                            <td style=\"width: 65px\">\u0418\u043D\u0442\u0435\u0440\u0435\u0441</td>\n                            <td style=\"width: 55px\">\u0417\u0430\u044F\u0432\u043A\u0430</td>\n                            <td style=\"width: 55px\">\u041F\u043E\u043A\u0430\u0437</td>\n                            <td style=\"width: 70px\">\u0418\u0437\u043C\u0435\u043D\u0435\u043D\u043E</td>\n                        </tr>\n                    </thead>\n                    <tbody (scroll)=\"scroll($event)\">\n                        <tr *ngFor=\"let offer of offers\" style=\"height: initial;\">\n                            <td style=\"width: 30px\">{{\"NEW\"}}</td>\n                            <td>\n                                <digest-offer-table\n                                    style=\"width: 270px; display: block; background-color: transparent;\"\n                                    [offer]=\"offer\"\n                                    (click)=\"click($event, offer)\"\n                                    (contextmenu)=\"click($event, offer)\"\n                                    (dblclick)=\"openOffer(offer)\"\n                                    (touchstart)=\"tStart(offer)\"\n                                    (touchend)=\"tEnd(offer)\"\n                                >\n                                </digest-offer-table>\n                            </td>\n                            <td style=\"width: 65px\">4</td>\n                            <td style=\"width: 55px\">5</td>\n                            <td style=\"width: 55px\">6</td>\n                            <td style=\"width: 70px\">{{offer.changeDate | date: 'dd.MM.yy'}}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <!------------------------------------------------------------------------------------------------------------------->\n            <div class=\"central_panel\">\n                <digest-pie-chart\n                    [header]=\"'\u041E\u0431\u044A\u0435\u043A\u0442\u044B \u043F\u043E \u0442\u0438\u043F\u0443'\"\n                    [data]=\"[\n                        ['\u041A\u0432\u0430\u0440\u0442\u0438\u0440\u044B', 300],\n                        ['\u041C\u0430\u043B\u043E\u0441\u0435\u043C\u0435\u0439\u043A\u0438', 200],\n                        ['\u041A\u043E\u043C\u043D\u0430\u0442\u044B', 170],\n                        ['\u0414\u043E\u043C\u0430', 90],\n                        ['\u041A\u043E\u0442\u0442\u0435\u0434\u0436\u0438', 90]\n                    ]\"\n                    [hard_data]=\"false\"\n                    [result] = \"['870']\"\n                    [width] = \"'369px'\"\n                    [height] = \"'174px'\"\n                >\n                </digest-pie-chart>\n                <digest-pie-chart\n                    [header]=\"'\u041E\u0431\u044A\u0435\u043A\u0442\u044B \u043F\u043E \u0440\u0430\u0439\u043E\u043D\u0430\u043C'\"\n                    [data]=\"[\n                        ['\u0416\u0435\u043B\u0435\u0437\u043D\u043E\u0434\u043E\u0440\u043E\u0436\u043D\u044B\u0439', 320],\n                        ['\u041A\u0438\u0440\u043E\u0432\u0441\u043A\u0438\u0439'      , 222],\n                        ['\u041A\u0440\u0430\u0441\u043D\u043E\u0444\u043B\u043E\u0442\u0441\u043A\u0438\u0439' , 120],\n                        ['\u0418\u043D\u0434\u0443\u0441\u0442\u0440\u0438\u0430\u043B\u044C\u043D\u044B\u0439' , 69],\n                        ['\u0426\u0435\u043D\u0442\u0440\u0430\u043B\u044C\u043D\u044B\u0439'    , 150]\n                    ]\"\n                    [hard_data]=\"false\"\n                    [result] = \"['1500']\"\n                    [width] = \"'310px'\"\n                    [height] = \"'174px'\"\n                >\n                </digest-pie-chart>\n                <digest-column-chart\n                    [header]=\"'\u0417\u0430\u044F\u0432\u043A\u0438 \u043F\u043E \u0440\u0430\u0439\u043E\u043D\u0430\u043C'\"\n                    [data]=\"[\n                        ['\u0416\u0435\u043B\u0435\u0437\u043D\u043E\u0434\u043E\u0440\u043E\u0436\u043D\u044B\u0439', 73],\n                        ['\u041A\u0438\u0440\u043E\u0432\u0441\u043A\u0438\u0439'      , 58],\n                        ['\u041A\u0440\u0430\u0441\u043D\u043E\u0444\u043B\u043E\u0442\u0441\u043A\u0438\u0439' , 43],\n                        ['\u0418\u043D\u0434\u0443\u0441\u0442\u0440\u0438\u0430\u043B\u044C\u043D\u044B\u0439' , 28],\n                        ['\u0426\u0435\u043D\u0442\u0440\u0430\u043B\u044C\u043D\u044B\u0439'    , 41]\n                    ]\"\n                    [hard_data]=\"false\"\n                    [result] = \"['1500', 40]\"\n                    [height] = \"'176px'\"\n                    [width] = \"'369px'\"\n                >\n                </digest-column-chart>\n                <digest-pie-chart\n                    [header]=\"'\u0417\u0430\u044F\u0432\u043A\u0438 \u043F\u043E \u0442\u0438\u043F\u0443'\"\n                    [data]=\"[\n                        ['\u041A\u0432\u0430\u0440\u0442\u0438\u0440\u044B', 15],\n                        ['\u041C\u0430\u043B\u043E\u0441\u0435\u043C\u0435\u0439\u043A\u0438', 24],\n                        ['\u041A\u043E\u043C\u043D\u0430\u0442\u044B', 30],\n                        ['\u0414\u043E\u043C\u0430', 8],\n                        ['\u041A\u043E\u0442\u0442\u0435\u0434\u0436\u0438', 10]\n                    ]\"\n                    [hard_data]=\"false\"\n                    [result] = \"['95']\"\n                    [width] = \"'310px'\"\n                    [height] = \"'174px'\"\n                >\n                </digest-pie-chart>\n                <div class=\"map_container\">\n                    <google-map class=\"map\"\n                        [latitude]=\"48.490351\" [longitude]= \"135.070109\" [zoom]=\"12\"\n                    >\n                    </google-map>\n                    <div class=\"map_menu\">\n                        <div [class.active_map_menu]=\"selectMapMenu == 1\" (click)=\"setMenu(1)\">\u0424\u043E\u0442\u043E</div>\n                        <div [class.active_map_menu]=\"selectMapMenu == 2\" (click)=\"setMenu(2)\">\u041A\u0430\u0440\u0442\u0430</div>\n                        <div [class.active_map_menu]=\"selectMapMenu == 3\" (click)=\"setMenu(3)\">\u041F\u043E\u043D\u043E\u0440\u0430\u043C\u0430</div>\n                        <div [class.active_map_menu]=\"selectMapMenu == 4\" (click)=\"setMenu(4)\">\u041C\u0430\u0440\u0448\u0440\u0443\u0442\u044B</div>\n                        <div [class.active_map_menu]=\"selectMapMenu == 5\" (click)=\"similarObjSelected()\">\u041F\u043E\u0445\u043E\u0436\u0438\u0435</div>\n                        <div [class.active_map_menu]=\"selectMapMenu == 6\" (click)=\"requestsSelected()\">\u0417\u0430\u044F\u0432\u043A\u0438</div>\n                        <div [class.active_map_menu]=\"selectMapMenu == 7\" (click)=\"setMenu(7)\">\u0420\u0435\u043A\u043B\u0430\u043C\u0430</div>\n                        <div [class.active_map_menu]=\"selectMapMenu == 8\" (click)=\"setMenu(8)\">\u0414\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u044B</div>\n                        <div [class.active_map_menu]=\"selectMapMenu == 9\" (click)=\"setMapQuery('\u041E\u0431\u0440\u0430\u0437\u043E\u0432\u0430\u043D\u0438\u0435', 9)\">\u041E\u0431\u0440\u0430\u0437\u043E\u0432\u0430\u043D\u0438\u0435</div>\n                        <div [class.active_map_menu]=\"selectMapMenu == 10\" (click)=\"setMapQuery('\u043C\u0430\u0433\u0430\u0437\u0438\u043D\u044B', 10)\">\u041F\u0440\u043E\u0434\u0443\u043A\u0442\u044B</div>\n                    </div>\n                </div>\n            </div>\n            <!------------------------------------------------------------------------------------------------------------------->\n            <div class=\"right_panel\" >\n                <digest-pie-chart\n                    [header]=\"'\u0420\u0435\u043A\u043B\u0430\u043C\u0430 \u043E\u0431\u044A\u0435\u043A\u0442\u043E\u0432'\"\n                    [data]=\"[\n                        ['\u0410\u0432\u0438\u0442\u043E', 800, +18.7],\n                        ['\u0424\u0430\u0440\u043F\u043E\u0441\u0442', 400, -18.3],\n                        ['\u041F\u0440\u0435\u0437\u0435\u043D\u0442', 350, +10.3]\n                    ]\"\n                    [hard_data]=\"true\"\n                    [result] = \"['1500', 16.7]\"\n                    [height] = \"'160px'\"\n                    [width] = \"'338px'\"\n                >\n                </digest-pie-chart>\n                <ui-advertising style=\"width: 100%;height: calc(75% - 3px); max-height: calc(100% - 163px); overflow: auto;\">\n                </ui-advertising>\n            </div>\n        </div>\n\n<!------------------------------------------------------------------------------------------------------------------->\n<!-------------------------------\u0410\u041D\u0410\u041B\u0418\u0422\u0418\u041A\u0410---------------------------------------------------->\n<!------------------------------------------------------------------------------------------------------------------->\n\n        <div *ngIf=\"activeMenu == 1\" class=\"work_list1\">\n            <div class=\"left_panel\">\n                    <digest-pie-chart\n                        [header]=\"'\u0420\u0430\u0441\u0445\u043E\u0434\u044B \u043F\u043E \u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A\u0430\u043C'\"\n                        [data]=\"[\n                            ['\u0410\u0432\u0438\u0442\u043E', 8000, 18.7],\n                            ['\u0424\u0430\u0440\u043F\u043E\u0441\u0442', 4000, -18.7],\n                            ['\u041F\u0440\u0435\u0437\u0435\u043D\u0442', 3000, 18.7],\n                            ['\u0418\u0437 \u0440\u0443\u043A \u0432 \u0440\u0443\u043A\u0438', 2000],\n                            ['\u0412\u041D\u0425', 1000, -40.5]\n                        ]\"\n                        [hard_data]=\"true\"\n                        [result] = \"['14000', -20.2]\"\n                    >\n                    </digest-pie-chart>\n                    <digest-pie-chart\n                        [header]=\"'\u041E\u0431\u044A\u0435\u043A\u0442\u044B \u043F\u043E \u0440\u0430\u0439\u043E\u043D\u0430\u043C'\"\n                        [data]=\"[\n                            ['\u0416\u0435\u043B\u0435\u0437\u043D\u043E\u0434\u043E\u0440\u043E\u0436\u043D\u044B\u0439', 320],\n                            ['\u041A\u0438\u0440\u043E\u0432\u0441\u043A\u0438\u0439'      , 222],\n                            ['\u041A\u0440\u0430\u0441\u043D\u043E\u0444\u043B\u043E\u0442\u0441\u043A\u0438\u0439' , 120],\n                            ['\u0418\u043D\u0434\u0443\u0441\u0442\u0440\u0438\u0430\u043B\u044C\u043D\u044B\u0439' , 69],\n                            ['\u0426\u0435\u043D\u0442\u0440\u0430\u043B\u044C\u043D\u044B\u0439'    , 150]\n                        ]\"\n                        [hard_data]=\"false\"\n                        [result] = \"['1500']\"\n                    >\n                    </digest-pie-chart>\n\n                    <digest-column-chart\n                        [header]=\"'\u041E\u0431\u044A\u0435\u043A\u0442\u044B \u043F\u043E \u0442\u0438\u043F\u0443'\"\n                        [data]=\"[\n                            ['\u041A\u043E\u043C\u043D\u0430\u0442\u0430', 48],\n                            ['\u041A\u0432\u0430\u0440\u0442\u0438\u0440\u0430', 34],\n                            ['\u041C\u0430\u043B\u043E\u0441\u0435\u043C\u0435\u0439\u043A\u0430', 18],\n                            ['\u0413\u043E\u0441\u0442\u0438\u043D\u043A\u0430', 20],\n                            ['\u041A\u043E\u0442\u0442\u0435\u0434\u0436', 25]\n                        ]\"\n                        [hard_data]=\"false\"\n                        [result] = \"['1500', 40]\"\n                    >\n                    </digest-column-chart>\n                    <digest-pie-chart\n                        [header]=\"'\u0417\u0430\u044F\u0432\u043A\u0438 \u043F\u043E \u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A\u0430\u043C'\"\n                        [data]=\"[\n                            ['\u0418\u043D\u0442\u0435\u0440\u043D\u0435\u0442', 329, 13.4],\n                            ['\u041F\u0435\u0447\u0430\u0442\u043D\u043E\u0435 \u0438\u0437\u0434\u0430\u043D\u0438\u0435', 270, -14.8],\n                            ['\u0412\u0445\u043E\u0434\u044F\u0449\u0438\u0439 \u0437\u0432\u043E\u043D\u043E\u043A', 120, 15.3]\n                        ]\"\n                        [hard_data]=\"true\"\n                        [result] = \"['759', -45.6]\"\n                    >\n                    </digest-pie-chart>\n                    <digest-column-chart\n                        [header]=\"'\u0417\u0430\u044F\u0432\u043A\u0438 \u043F\u043E \u0440\u0430\u0439\u043E\u043D\u0430\u043C'\"\n                        [data]=\"[\n                            ['\u0416\u0435\u043B\u0435\u0437\u043D\u043E\u0434\u043E\u0440\u043E\u0436\u043D\u044B\u0439', 73],\n                            ['\u041A\u0438\u0440\u043E\u0432\u0441\u043A\u0438\u0439'      , 58],\n                            ['\u041A\u0440\u0430\u0441\u043D\u043E\u0444\u043B\u043E\u0442\u0441\u043A\u0438\u0439' , 43],\n                            ['\u0418\u043D\u0434\u0443\u0441\u0442\u0440\u0438\u0430\u043B\u044C\u043D\u044B\u0439' , 28],\n                            ['\u0426\u0435\u043D\u0442\u0440\u0430\u043B\u044C\u043D\u044B\u0439'    , 41]\n                        ]\"\n                        [hard_data]=\"false\"\n                        [result] = \"['1500', 40]\"\n                    >\n                    </digest-column-chart>\n                    <digest-pie-chart\n                        [header]=\"'\u0417\u0430\u044F\u0432\u043A\u0438 \u043F\u043E \u0442\u0438\u043F\u0443'\"\n                        [data]=\"[\n                            ['\u041A\u0432\u0430\u0440\u0442\u0438\u0440\u044B', 15, 3.4],\n                            ['\u041C\u0430\u043B\u043E\u0441\u0435\u043C\u0435\u0439\u043A\u0438', 24, 4.8],\n                            ['\u041A\u043E\u043C\u043D\u0430\u0442\u044B', 30, -5.3],\n                            ['\u0414\u043E\u043C\u0430', 8, -3.2],\n                            ['\u041A\u043E\u043C\u043C\u0435\u0440\u0447\u0435\u0441\u043A\u0430\u044F', 2, 10.1]\n                        ]\"\n                        [hard_data]=\"true\"\n                        [result] = \"['95', 5.6]\"\n                    >\n                    </digest-pie-chart>\n                    <digest-area-chart style=\"width: 100%; height: calc(50% - 3px); max-height: calc(100% - 306px);\"\n                        [header]=\"'\u0420\u0435\u043A\u043B\u0430\u043C\u0430 \u0432 \u0434\u0438\u043D\u0430\u043C\u0438\u043A\u0435'\"\n                        [data]=\"[\n                            ['\u0418\u043D\u0442\u0435\u0440\u043D\u0435\u0442', 329, 13.4],\n                            ['\u041F\u0435\u0447\u0430\u0442\u043D\u043E\u0435 \u0438\u0437\u0434\u0430\u043D\u0438\u0435', 270, -14.8],\n                            ['\u0412\u0445\u043E\u0434\u044F\u0449\u0438\u0439 \u0437\u0432\u043E\u043D\u043E\u043A', 120, 15.3]\n                        ]\"\n                        [hard_data]=\"true\"\n                        [result] = \"['759', -45.6]\"\n                        [width] = \"'100%'\"\n                    >\n                    </digest-area-chart>\n            </div>\n            <!------------------------------------------------------------------------------------------------------------------->\n\n            <!------------------------------------------------------------------------------------------------------------------->\n            <div class=\"right_panel\">\n                <table class=\"table1\">\n                    <div style=\"height: 58px; display: flex; background-color: white; width: 100%; justify-content: space-between;\">\n                        <div style=\"text-transform: uppercase; color: #4c4c4c; margin: 12px 0 25px 15px; font-size: 16px;\">\n                            \u041A\u043E\u043D\u0432\u0435\u0440\u0441\u0438\u044F \u0440\u0435\u043A\u043B\u0430\u043C\u044B\n                        </div>\n                        <div style=\"text-transform: uppercase;color: #008000;margin: 2px 30 20px;font-size: 20pt;\">40%</div>\n                    </div>\n                    <thead>\n                        <tr>\n                            <td style=\"width: calc(100% - 390px)\">\u0418\u0441\u0442\u043E\u0447\u043D\u0438\u043A</td>\n                            <td style=\"width: 60px\">\u041E\u0431\u044A\u0435\u043A\u0442</td>\n                            <td style=\"width: 60px\">\u0417\u0430\u044F\u0432\u043A\u0438</td>\n                            <td style=\"width: 60px\">\u041F\u043E\u043A\u0430\u0437\u044B</td>\n                            <td style=\"width: 60px\">\u0426\u0435\u043D\u044B</td>\n                            <td style=\"width: 70px\">\u0414\u043E\u0433\u043E\u0432\u043E\u0440\u0430</td>\n                            <td style=\"width: 80px\">\u041A\u043E\u043D\u0432\u0435\u0440\u0441\u0438\u044F</td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor=\"let data of advArray\">\n                            <td style=\"width: calc(100% - 390px)\">{{data[0]}}</td>\n                            <td style=\"width: 60px\">{{data[1]}}</td>\n                            <td style=\"width: 60px\">{{data[2]}}</td>\n                            <td style=\"width: 60px\">{{data[3]}}</td>\n                            <td style=\"width: 60px\">{{data[4]}}</td>\n                            <td style=\"width: 70px\">{{data[5]}}</td>\n                            <td style=\"width: 80px\">{{data[6] + '%'}}</td>\n                        </tr>\n                    </tbody>\n                </table>\n\n                <table class=\"table2\" style=\"margin-top: 3px;\">\n                    <div style=\"height: 60px; display: flex; background-color: white; width: 100%; justify-content: space-between;\">\n                        <div style=\"text-transform: uppercase; color: #4c4c4c; margin: 12px 0 20px 15px; font-size: 16px;\">\n                            \u041B\u0438\u0434\u0435\u0440\u044B \u0441\u043F\u0440\u043E\u0441\u0430\n                        </div>\n                        <div style=\"text-transform: uppercase;color: #008000;margin: 2px 30 20px;font-size: 20pt;\"></div>\n                    </div>\n                    <thead>\n                        <tr>\n                            <td style=\"width: 360px\">\u041E\u0431\u044A\u0435\u043A\u0442</td>\n                            <td style=\"width: 65px\">\u0418\u043D\u0442\u0435\u0440\u0435\u0441</td>\n                            <td style=\"width: 55px\">\u0417\u0430\u044F\u0432\u043A\u0430</td>\n                            <td style=\"width: 70px\">\u041F\u043E\u043A\u0430\u0437</td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor=\"let data of offers\">\n                            <td style=\"width: 360px\">\n                                <digest-offer-table\n                                    style=\"width: 360px; display: block; background-color: transparent;\"\n                                    [offer]=\"data\"\n                                    [withPhoto]=\"true\"\n                                    (click)=\"click($event, data)\"\n                                    (contextmenu)=\"click($event, data)\"\n                                    (dblclick)=\"openOffer(data)\"\n                                    (touchstart)=\"tStart(data)\"\n                                    (touchend)=\"tEnd(data)\"\n                                >\n                                </digest-offer-table>\n                            </td>\n                            <td style=\"width: 65px\">70</td>\n                            <td style=\"width: 55px\">20</td>\n                            <td style=\"width: 70px\">150</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n        <div *ngIf=\"activeMenu == 2\" class=\"work_list1\">\n\n        </div>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__service_user_service__["a" /* UserService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__service_user_service__["a" /* UserService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__service_config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__service_config_service__["a" /* ConfigService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_4__service_offer_service__["b" /* OfferService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__service_offer_service__["b" /* OfferService */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_6__service_analysis_service__["a" /* AnalysisService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__service_analysis_service__["a" /* AnalysisService */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_5__service_history_service__["a" /* HistoryService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__service_history_service__["a" /* HistoryService */]) === "function" && _f || Object, typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_7__service_session_service__["a" /* SessionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_7__service_session_service__["a" /* SessionService */]) === "function" && _g || Object])
], TabAdvertisingComponent);

var _a, _b, _c, _d, _e, _f, _g;
//# sourceMappingURL=tab-advertising.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/tab/tab-daily.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment_moment__ = __webpack_require__("../../../../moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment_locale_ru_js__ = __webpack_require__("../../../../moment/locale/ru.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment_locale_ru_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_moment_locale_ru_js__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__class_task__ = __webpack_require__("../../../../../src/app/class/task.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_user_service__ = __webpack_require__("../../../../../src/app/service/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_offer_service__ = __webpack_require__("../../../../../src/app/service/offer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__service_history_service__ = __webpack_require__("../../../../../src/app/service/history.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__service_analysis_service__ = __webpack_require__("../../../../../src/app/service/analysis.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__service_session_service__ = __webpack_require__("../../../../../src/app/service/session.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__service_notebook_service__ = __webpack_require__("../../../../../src/app/service/notebook.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TabDailyComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var TabDailyComponent = (function () {
    function TabDailyComponent(_hubService, _userService, _configService, _offerService, _analysisService, _historyService, _sessionService, _notebookService) {
        this._hubService = _hubService;
        this._userService = _userService;
        this._configService = _configService;
        this._offerService = _offerService;
        this._analysisService = _analysisService;
        this._historyService = _historyService;
        this._sessionService = _sessionService;
        this._notebookService = _notebookService;
        this.activeMenu = 0;
        this.source = __WEBPACK_IMPORTED_MODULE_7__service_offer_service__["a" /* OfferSource */].LOCAL;
        this.can_scroll_table = false;
        this.now_Date = __WEBPACK_IMPORTED_MODULE_1_moment_moment__();
        this.selected_date = this.now_Date;
        this.header_date = this.now_Date;
        this.now_time_top = 30;
        this.now_time_width = "100%";
        this.filter = {
            stageCode: 'all',
            agentId: 'all',
            tag: 'all',
            changeDate: 90,
            offerTypeCode: 'sale',
        };
        this.daily = [
            { hour_name: '00:00' },
            { hour_name: '01:00' },
            { hour_name: '02:00' },
            { hour_name: '03:00' },
            { hour_name: '04:00' },
            { hour_name: '05:00' },
            { hour_name: '06:00' },
            { hour_name: '07:00' },
            { hour_name: '08:00' },
            { hour_name: '09:00' },
            { hour_name: '10:00' },
            { hour_name: '11:00' },
            { hour_name: '12:00' },
            { hour_name: '13:00' },
            { hour_name: '14:00' },
            { hour_name: '15:00' },
            { hour_name: '16:00' },
            { hour_name: '17:00' },
            { hour_name: '18:00' },
            { hour_name: '19:00' },
            { hour_name: '20:00' },
            { hour_name: '21:00' },
            { hour_name: '22:00' },
            { hour_name: '23:00' }
        ];
        this.days = [
            { day_number: __WEBPACK_IMPORTED_MODULE_1_moment_moment__().subtract(5, 'days') },
            { day_number: __WEBPACK_IMPORTED_MODULE_1_moment_moment__().subtract(4, 'days') },
            { day_number: __WEBPACK_IMPORTED_MODULE_1_moment_moment__().subtract(3, 'days') },
            { day_number: __WEBPACK_IMPORTED_MODULE_1_moment_moment__().subtract(2, 'days') },
            { day_number: __WEBPACK_IMPORTED_MODULE_1_moment_moment__().subtract(1, 'days') },
            { day_number: this.now_Date },
            { day_number: __WEBPACK_IMPORTED_MODULE_1_moment_moment__().add(1, 'days') },
            { day_number: __WEBPACK_IMPORTED_MODULE_1_moment_moment__().add(2, 'days') },
            { day_number: __WEBPACK_IMPORTED_MODULE_1_moment_moment__().add(3, 'days') },
            { day_number: __WEBPACK_IMPORTED_MODULE_1_moment_moment__().add(4, 'days') },
            { day_number: __WEBPACK_IMPORTED_MODULE_1_moment_moment__().add(5, 'days') }
        ];
        this.tasks = [];
        __WEBPACK_IMPORTED_MODULE_1_moment_moment__["locale"]("ru");
    }
    TabDailyComponent.prototype.ngOnInit = function () {
        this.tab.header = "Ежедневник";
        this.setCenter();
    };
    TabDailyComponent.prototype.ngAfterViewInit = function () {
    };
    TabDailyComponent.prototype.toggleSource = function (s) {
        if (s == 'main') {
            this.activeMenu = 0;
            this.setCenter();
        }
        else if (s == 'analitic') {
            this.activeMenu = 1;
        }
        else {
            this.activeMenu = 2;
        }
    };
    TabDailyComponent.prototype.enable_scroll = function (e) {
        if (e.target.tagName != 'DIV') {
            this.can_scroll_table = true;
            this.scroll_start_x = e.currentTarget.scrollLeft + e.pageX;
            this.scroll_start_y = e.currentTarget.scrollTop + e.pageY;
        }
    };
    TabDailyComponent.prototype.disable_scroll = function () {
        this.can_scroll_table = false;
        this.dragTask = null;
    };
    TabDailyComponent.prototype.move_table = function (e) {
        if (this.can_scroll_table && e.currentTarget.className == "data") {
            var target = e.currentTarget;
            if (target.scrollLeft + target.clientWidth >= target.scrollWidth) {
                this.add_days(true);
            }
            else if (target.scrollLeft + this.scroll_start_x - e.pageX <= 0) {
                this.add_days(false);
                this.add_days(false);
                target.scrollLeft = 440;
                this.scroll_start_x = target.scrollLeft + e.pageX;
                return;
            }
            var first_column = target.previousElementSibling;
            var header = first_column.previousElementSibling;
            target.scrollTop = this.scroll_start_y - e.pageY;
            first_column.scrollTop = target.scrollTop;
            target.scrollLeft = this.scroll_start_x - e.pageX;
            header.scrollLeft = target.scrollLeft;
            this.now_time_width = "" + target.scrollWidth;
            var day_list = header.getElementsByTagName('td');
            for (var i = 0; i < day_list.length; ++i) {
                if (day_list[i].offsetLeft > header.scrollLeft + header.offsetWidth / 2 - 225
                    && day_list[i].offsetLeft < header.scrollLeft + header.offsetWidth / 2 - 75) {
                    this.header_date = this.days[i].day_number;
                    break;
                }
            }
        }
    };
    TabDailyComponent.prototype.add_days = function (yes) {
        if (yes) {
            this.days.push({ day_number: __WEBPACK_IMPORTED_MODULE_1_moment_moment__(this.days[this.days.length - 1].day_number).add(1, 'days') });
        }
        else {
            this.days.unshift({ day_number: __WEBPACK_IMPORTED_MODULE_1_moment_moment__(this.days[0].day_number).subtract(1, 'days') });
            this.tasks.forEach(function (task) {
                task.scr_left += 221;
            });
        }
    };
    TabDailyComponent.prototype.setCenter = function () {
        var _this = this;
        setTimeout(function () {
            var header_day = document.getElementsByClassName("today").item(0);
            var header_hour = document.getElementsByClassName("now_hour").item(0);
            var header = header_day.parentElement.parentElement;
            var left_header = header_hour.parentElement.parentElement;
            var body = header.nextElementSibling.nextElementSibling;
            header.scrollLeft = header_day.offsetLeft - header.offsetWidth / 2 + 75;
            left_header.scrollTop = header_hour.offsetTop - left_header.offsetHeight / 2;
            body.scrollLeft = header.scrollLeft;
            body.scrollTop = left_header.scrollTop;
            _this.now_time_top = header_hour.offsetTop + 55 / 60 * parseFloat(__WEBPACK_IMPORTED_MODULE_1_moment_moment__().format("mm"));
            _this.header_date = _this.now_Date;
            _this.now_time_width = "" + body.scrollWidth;
        }, 10);
    };
    TabDailyComponent.prototype.move_to = function (event, day) {
        var _this = this;
        this.selected_date = day.day_number;
        this.header_date = this.selected_date;
        var header_day = event.currentTarget;
        var header = header_day.parentElement.parentElement;
        var body = header.nextElementSibling.nextElementSibling;
        if (header_day.offsetLeft - header.offsetWidth / 2 + 65 > header.scrollLeft) {
            var timer_1 = setInterval(function () {
                if (header.scrollLeft < header_day.offsetLeft - header.offsetWidth / 2 + 75) {
                    if (header.scrollLeft + header.clientWidth + 10 >= header.scrollWidth)
                        _this.add_days(true);
                    header.scrollLeft = header.scrollLeft + 10;
                    body.scrollLeft = header.scrollLeft;
                    _this.now_time_width = "" + body.scrollWidth;
                }
                else {
                    clearInterval(timer_1);
                }
            }, 10);
        }
        else {
            var timer_2 = setInterval(function () {
                if (header.scrollLeft >= header_day.offsetLeft - header.offsetWidth / 2 + 85) {
                    if (header.scrollLeft == 0) {
                        _this.add_days(false);
                        _this.add_days(false);
                        header.scrollLeft = 300;
                    }
                    header.scrollLeft = header.scrollLeft - 10;
                    body.scrollLeft = header.scrollLeft;
                    _this.now_time_width = "" + body.scrollWidth;
                }
                else {
                    clearInterval(timer_2);
                }
            }, 10);
        }
    };
    TabDailyComponent.prototype.scroolTable = function (ev) {
        ev.currentTarget.scrollTop += ev.deltaY;
        var body = ev.currentTarget;
        var left_header = body.previousElementSibling;
        body.scrollTop += ev.deltaY / 2;
        left_header.scrollTop = body.scrollTop;
    };
    TabDailyComponent.prototype.add_task = function (day, hour, event) {
        var task = new __WEBPACK_IMPORTED_MODULE_3__class_task__["a" /* Task */]();
        task.scr_left = event.currentTarget.offsetLeft;
        task.scr_top = event.currentTarget.parentElement.offsetTop;
        task.date = __WEBPACK_IMPORTED_MODULE_1_moment_moment__(day.day_number.format('YYYY-MM-DD') + hour.hour_name, 'YYYY-MM-DD kk:mm');
        task.end_date = __WEBPACK_IMPORTED_MODULE_1_moment_moment__(task.date).add(1, 'hours');
        this.tasks.push(task);
        this._notebookService.set({ show: 1, state: 'new', data: task });
    };
    TabDailyComponent.prototype.open_task = function (task) {
        this._notebookService.set({ show: 1, state: 'new', data: task });
    };
    TabDailyComponent.prototype.drag_task_on = function (event, task) {
        this.dragTask = task;
        this.task_div = event.currentTarget;
        this.task_div.style.display = "none";
        this.td_temp = document.elementFromPoint(event.pageX, event.pageY);
        this.task_div.style.display = "";
        this.task_div.style.zIndex = "199";
        this.task_div.style.width = "222";
        this.task_div.style.left = "" + (parseInt(this.task_div.style.left) - 1);
        this.dragTask_start_y = event.pageY;
        this.dragTask_start_x = event.pageX;
        this.task_div.style.backgroundColor = "red";
    };
    TabDailyComponent.prototype.drag_task_off = function (event) {
        this.dragTask = null;
        this.task_div.style.zIndex = "";
        this.task_div.style.backgroundColor = "";
        this.task_div.style.left = "" + (parseInt(this.task_div.style.left) + 1);
        this.task_div.style.width = "" + (parseInt(this.task_div.style.width) - 2);
        this.task_div = null;
    };
    TabDailyComponent.prototype.drag_task = function (event) {
        if (this.dragTask) {
            var elem = event.currentTarget;
            if (elem.tagName == "TD") {
                if (this.td_temp != document.elementFromPoint(event.pageX, event.pageY)) {
                    this.td_temp = document.elementFromPoint(event.pageX, event.pageY);
                    if (this.dragTask.scr_left < this.td_temp.offsetLeft) {
                        this.dragTask.date.add(1, 'days');
                        this.dragTask.end_date.add(1, 'days');
                    }
                    else {
                        this.dragTask.date.subtract(1, 'days');
                        this.dragTask.end_date.subtract(1, 'days');
                    }
                    this.dragTask.scr_left = this.td_temp.offsetLeft - 1;
                }
            }
            else if (elem.tagName == "DIV") {
                if (event.pageY - this.dragTask_start_y >= 14 && event.movementY <= 10) {
                    this.dragTask.scr_top += 14;
                    this.dragTask_start_y += 14;
                    this.dragTask.date.add(15, 'minutes');
                    this.dragTask.end_date.add(15, 'minutes');
                }
                else if (event.pageY - this.dragTask_start_y <= -14 && event.movementY >= -10) {
                    this.dragTask.scr_top -= 14;
                    this.dragTask_start_y -= 14;
                    this.dragTask.date.subtract(15, 'minutes');
                    this.dragTask.end_date.subtract(15, 'minutes');
                }
                else if (event.movementY >= 10) {
                    this.dragTask.scr_top += 28;
                    this.dragTask_start_y += 28;
                    this.dragTask.date.add(30, 'minutes');
                    this.dragTask.end_date.add(30, 'minutes');
                }
                else if (event.movementY <= -10) {
                    this.dragTask.scr_top -= 28;
                    this.dragTask_start_y -= 28;
                    this.dragTask.date.subtract(30, 'minutes');
                    this.dragTask.end_date.subtract(30, 'minutes');
                }
                if (this.dragTask.scr_left != elem.offsetLeft) {
                    if (this.dragTask.scr_left < elem.offsetLeft) {
                        this.dragTask.date.add(1, 'days');
                        this.dragTask.end_date.add(1, 'days');
                    }
                    else {
                        this.dragTask.date.subtract(1, 'days');
                        this.dragTask.end_date.subtract(1, 'days');
                    }
                    this.dragTask.scr_left = elem.offsetLeft - 1;
                    this.td_temp = null;
                }
            }
        }
    };
    return TabDailyComponent;
}());
TabDailyComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'tab-daily',
        inputs: ['tab'],
        styles: ["\n\n        .search-form {\n            background: #fff;\n            z-index: 1;\n            width: 38%;\n            margin-left: 610;\n            margin-top: 27px;\n        }\n\n        .tool-box {\n            height: 30px;\n            margin: 0 12px;\n        }\n\n        .inline-select {\n            display: inline-block;\n            height: 20px;\n            padding: 0 15px;\n            font-size: 14px;\n            color: #666;\n        }\n\n        .round_menu{\n            width: 170px;\n            height: 50px;\n            position: absolute;\n            left: 450;\n            top: 15px;\n            text-align: center;\n            z-index: 10;\n            line-height: 50px;\n            display: flex;\n            justify-content: space-around;\n        }\n\n        .search-box {\n            position: relative;\n            margin: 12px;\n            margin-bottom: 8px;\n        }\n\n        .button {\n            height: 50px;\n            width: 50px;\n            border-radius: 40px;\n            cursor: pointer;\n            font-size: 11px;\n            line-height: 120px;\n            background-size: cover;\n            background-color: #bcbfc1;\n            color: #807982;\n            border: 2px solid #bcbfc1;\n        }\n\n        .button_active, .button:hover{\n            border-color: #1061c4;\n            background-color: #1061c4;\n        }\n\n        .underline{\n            border: 2px solid;\n            color: #f0a30a;\n            background-color: #f0a30a;\n            position: relative;\n            top: -2;\n            width: 100vw;\n            margin-bottom: 0;\n        }\n\n        .work_list{\n            width: 100%;\n            height: calc(100% - 117px);\n            overflow: hidden;\n        }\n\n        .work_list > .central_panel{\n            float: right;\n            width: 100%;\n            height: 100%;\n        }\n\n        .work_list > .central_panel > .head{\n            width: 100%;\n            height: 90px;\n            padding-left: 20px;\n        }\n\n        .head > .today_day{\n            text-transform: uppercase;\n            width: 200px;\n            height: 30px;\n            line-height: 30px;\n            font-size: 21px;\n            color: #676767;\n            padding-top: 30px;\n        }\n\n        .head > .today_day > span:last-child{\n            font-size: 27px;\n            font-weight: lighter;\n        }\n\n        .head > .today_button{\n            font-size: 11px;\n            color: silver;\n            cursor: hand;\n            text-transform: uppercase;\n            width: 55px;\n        }\n\n        .dailytable{\n            width: 100%;\n            height: calc(100% - 90px);\n        }\n\n\n        table{\n            border-spacing: 0;\n            display: block;\n            width: 100%;\n            height: 100%;\n            position: relative;\n        }\n\n        td{\n            margin: 0;\n            padding: 0;\n        }\n\n        thead{\n            overflow: hidden;\n            display: block;\n            width: calc(100% - 10px);\n            margin-left: 10px;\n        }\n\n        thead tr{\n            display: flex;\n            width: 100%;\n            height: 30px;\n            line-height: 30px;\n        }\n\n        thead td{\n            width: 221px;\n            text-align: center;\n            flex: 0 0 221px;\n            //border-right: 1px solid #e3e3e3;\n            border-bottom: 1px solid #aba3a3;\n            font-size: 14px;\n            color: #797474;\n            text-transform: capitalize;\n            display: flex;\n            justify-content: center;\n        }\n\n        thead td:hover{\n            color: silver;\n            cursor: hand;\n        }\n\n        thead td div:first-child{\n            margin-right: 3px;\n        }\n\n        thead td div:last-child{\n\n        }\n\n        thead td:first-child{\n            width: 45px;\n            flex: 0 0 45px;\n            border-right: 0;\n        }\n\n        .first-column{\n            float: left;\n            display: block;\n            height: calc(100% - 29px);\n            width: 55px;\n            overflow: hidden;\n            position: relative;\n        }\n\n        .first-column tr{\n            float: left;\n            display: block;\n        }\n\n        .first-column td{\n            float: left;\n            display: block;\n            height: 55px;\n            text-align: left;\n            padding: 0;\n            line-height: 56px;\n            font-size: 10pt;\n            color: rgba(204, 204, 204, 0.94);\n            margin-left: 15px;\n            border-bottom: 1px solid #e3e3e3;\n            width: 100%;\n        }\n\n        .data{\n            width: calc(100% - 55px);\n            height: calc(100% - 29px);\n            display: flex;\n            flex-wrap: wrap;\n            overflow: hidden;\n            position: relative;\n        }\n\n        .data tr{\n            position: relative;\n            display: flex;\n        }\n\n        .data td{\n            width: 220px;\n            height: 55px;\n            text-align: center;\n            padding: 0;\n            border-right: 1px solid #e3e3e3;\n            border-bottom: 1px solid #e3e3e3;\n            flex: 0 0 220px;\n        }\n\n        .data td:hover{\n            background-color: #f6f6f6 !important;\n        }\n\n\n        .selected > div:last-child{\n            background-color: #000;\n            border-radius: 30px;\n            color: white;\n            width: 25px;\n            height: 25px;\n            margin: auto 0 auto;\n            line-height: 25px;\n        }\n\n        .now_hour{\n            //color: red !important;\n        }\n\n        .today > div:last-child{\n            background-color: #fd1313;\n            border-radius: 30px;\n            color: white;\n            width: 25px;\n            height: 25px;\n            margin: auto 0 auto;\n            line-height: 25px;\n        }\n\n        tbody .weekend{\n            background-color: #f8f8f8 !important;\n        }\n\n        hr.now_time{\n            position: absolute;\n            width: 200%;\n            background-color: rgba(255, 0, 0, 0.39);\n            height: 2px;\n            border: 0;\n            margin: 0;\n            z-index: 88;\n        }\n        div.now_time{\n            position: absolute;\n            color: red;\n            font-size: 13px;\n            line-height: 1px;\n            margin-left: 15px;\n        }\n\n        .task{\n            position: absolute;\n            background-color: green;\n            z-index: 99;\n        }\n\n    "],
        template: "\n        <div class=\"header-label-abs\" style=\"margin: 2px 0 0 30px;\">{{ tab.header }}</div>\n        <div class = \"round_menu\">\n            <div (click)=\"toggleSource('main')\"    class=\"button\"  [class.button_active]=\"this.activeMenu == 0\" [style.background-image]=\"'url(assets/main_offers.png)'\">\u0413\u043B\u0430\u0432\u043D\u0430\u044F</div>\n            <div (click)=\"toggleSource('analitic')\" class=\"button\" [class.button_active]=\"this.activeMenu == 1\" [style.background-image]=\"'url(assets/analitic.png)'\">\u041E\u0442\u0447\u0435\u0442\u044B</div>\n            <div (click)=\"toggleSource('history')\"  class=\"button\" [class.button_active]=\"this.activeMenu == 2\" [style.background-image]=\"'url(assets/history.png)'\">\u0418\u0441\u0442\u043E\u0440\u0438\u044F</div>\n        </div>\n        <div class=\"search-form\">\n            <div class=\"search-box\">\n                <input type=\"text\" class=\"\" placeholder=\"\" style=\"height: 28px; width: 100%;\n                background-color: rgb(247, 247, 247); border: 1px solid rgba(204, 204, 204, 0.47);\"\n                    [(ngModel)]=\"searchQuery\" (keyup)=\"$event\"\n                >\n                <span class=\"icon-search\" style=\"position: absolute; right: 12px; top: 7px;\"></span>\n            </div>\n            <div class=\"tool-box\">\n\n            <div class=\"inline-select\">\n                <ui-select class=\"view-value edit-value\"\n                    [options] = \"[\n                        {value: 'sale', label: '\u041C\u043E\u0438 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F'},\n                        {value: 'rent', label: '\u041D\u0435 \u043C\u043E\u0438 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F'}\n                    ]\"\n                    [value]=\"'sale'\"\n                    [config]=\"{icon: 'icon-', draw_arrow: true}\"\n                    (onChange)=\"null\"\n                    >\n                </ui-select>\n            </div>\n            <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 0, label: '\u0412\u0441\u0435'},\n                            {value: 1, label: '\u041A\u0440\u0430\u0441\u043D\u044B\u0439', icon: 'icon-circle tag-red'},\n                            {value: 2, label: '\u041E\u0440\u0430\u043D\u0436\u0435\u0432\u044B\u0439', icon: 'icon-circle tag-orange'},\n                            {value: 3, label: '\u0416\u0435\u043B\u0442\u044B\u0439', icon: 'icon-circle tag-yellow'},\n                            {value: 4, label: '\u0417\u0435\u043B\u0435\u043D\u044B\u0439', icon: 'icon-circle tag-green'},\n                            {value: 5, label: '\u0413\u043E\u043B\u0443\u0431\u043E\u0439', icon: 'icon-circle tag-blue'},\n                            {value: 6, label: '\u041B\u0438\u043B\u043E\u0432\u044B\u0439', icon: 'icon-circle tag-violet'},\n                            {value: 7, label: '\u0421\u0435\u0440\u044B\u0439', icon: 'icon-circle tag-gray'}\n                        ]\"\n                        [value]=\"0\"\n                        [config]=\"{icon: 'icon-tag', draw_arrow: true}\"\n                        (onChange)=\"null\"\n                        >\n                    </ui-select>\n                </div>\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 1, label: '1 \u0434\u0435\u043D\u044C'},\n                            {value: 2, label: '3 \u0434\u043D\u044F'},\n                            {value: 3, label: '\u041D\u0435\u0434\u0435\u043B\u044F'},\n                            {value: 4, label: '2 \u043D\u0435\u0434\u0435\u043B\u0438'},\n                            {value: 5, label: '\u041C\u0435\u0441\u044F\u0446'},\n                            {value: 6, label: '3 \u043C\u0435\u0441\u044F\u0446\u0430'},\n                            {value: 7, label: '\u0412\u0441\u0435'}\n                        ]\"\n                        [value]=\"6\"\n                        [config]=\"{icon: 'icon-month', drawArrow: true}\"\n                        (onChange)=\"null\"\n                    >\n                    </ui-select>\n                </div>\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options]=\"[\n                            {value: 'all', label: '\u0412\u0441\u0435'},\n                            {value: 'raw', label: '\u041D\u0435 \u0430\u043A\u0442\u0438\u0432\u0435\u043D'},\n                            {value: 'active', label: '\u0410\u043A\u0442\u0438\u0432\u0435\u043D'},\n                            {value: 'price', label: '\u041F\u0440\u0430\u0439\u0441'},\n                            {value: 'deal', label: '\u0421\u0434\u0435\u043B\u043A\u0430'},\n                            {value: 'suspended', label: '\u041F\u0440\u0438\u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D'},\n                            {value: 'archive', label: '\u0410\u0440\u0445\u0438\u0432'}\n                        ]\"\n                        [value]=\"filter.stage\"\n                        [config]=\"{icon: 'icon-square', drawArrow: true}\"\n                        (onChange)=\"filter.stageCode = $event.selected.value; searchParamChanged($event);\"\n                    >\n                    </ui-select>\n                </div>\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 'sale', label: '\u041F\u0440\u043E\u0434\u0430\u0436\u0430'},\n                            {value: 'rent', label: '\u0410\u0440\u0435\u043D\u0434\u0430'}\n                        ]\"\n                        [value]=\"'sale'\"\n                        [config]=\"{icon: 'icon-', draw_arrow: true}\"\n                        (onChange)=\"null\"\n                        >\n                    </ui-select>\n                </div>\n            </div>\n        </div>\n        <hr class=\"underline\">\n        <div *ngIf=\"activeMenu == 0\" class=\"work_list\">\n            <div class=\"central_panel\">\n                <div class=\"head\">\n                    <div class=\"today_day\">\n                        <span>{{header_date.format(\"MMMM \")}}</span>\n                        <span>{{header_date.format(\"YYYY\")}}</span>\n                    </div>\n                    <div class=\"today_button\" (click) = \"setCenter()\">\u0421\u0435\u0433\u043E\u0434\u043D\u044F</div>\n                </div>\n                <div class=\"dailytable\">\n                    <table style=\"border-spacing: 0;\">\n                        <thead>\n                            <tr>\n                                <td></td>\n                                <td *ngFor=\"let day of days\" [class.today]=\"day.day_number == now_Date\" (click)=\"move_to($event, day)\"\n                                    [class.selected] = \"selected_date == day.day_number\"\n                                    [class.weekend] = \"day.day_number.format('ddd') == '\u0441\u0431' || day.day_number.format('ddd') == '\u0432\u0441'\"\n                                >\n                                    <div>{{day.day_number.format(\"ddd,\")}}</div>\n                                    <div>{{day.day_number.format(\"DD\")}}</div>\n                                </td>\n                            </tr>\n                        </thead>\n                        <tbody class='first-column'>\n                            <div class=\"now_time\"  [style.top] = \"now_time_top\" >{{now_Date | date :'HH:mm'}}</div>\n                            <tr *ngFor=\"let hour of daily\">\n                                <td [class.now_hour] = \"hour.hour_name.split(':')[0] == (now_Date | date :'HH')\">{{hour.hour_name}}</td>\n                            </tr>\n                        </tbody>\n                        <tbody (mousedown)=\"enable_scroll($event)\" (mousemove)=\"move_table($event)\" (mouseup)=\"disable_scroll()\"\n                            (mouseleave)=\"disable_scroll()\" class=\"data\" (wheel) = \"scroolTable($event)\"\n                        >\n                            <hr class=\"now_time\"  [style.top] = \"now_time_top\" [style.width] = \"now_time_width\">\n                            <div *ngFor=\"let task of tasks\" class=\"task\" [style.width] = \"220\"\n                                [style.height] = \"56/60*task.end_date.diff(task.date, 'minute')\"\n                                [style.top] = \"task.scr_top\" [style.left] = \"task.scr_left\" (dblclick)=\"open_task(task)\"\n                                (mousedown)=\"drag_task_on($event, task)\" (mouseup)=\"drag_task_off($event)\" (mousemove)=\"drag_task($event)\"\n                            ></div>\n                            <tr *ngFor=\"let hour of daily\">\n\n                                <td *ngFor=\"let day of days\" (dblclick)=\"add_task(day, hour, $event)\" (mousemove)=\"drag_task($event)\"\n                                    [class.weekend] = \"day.day_number.format('ddd') == '\u0441\u0431' || day.day_number.format('ddd') == '\u0432\u0441'\"\n                                >\n\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_4__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__service_hub_service__["a" /* HubService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_5__service_user_service__["a" /* UserService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__service_user_service__["a" /* UserService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_6__service_config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__service_config_service__["a" /* ConfigService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_7__service_offer_service__["b" /* OfferService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_7__service_offer_service__["b" /* OfferService */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_9__service_analysis_service__["a" /* AnalysisService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_9__service_analysis_service__["a" /* AnalysisService */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_8__service_history_service__["a" /* HistoryService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_8__service_history_service__["a" /* HistoryService */]) === "function" && _f || Object, typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_10__service_session_service__["a" /* SessionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_10__service_session_service__["a" /* SessionService */]) === "function" && _g || Object, typeof (_h = typeof __WEBPACK_IMPORTED_MODULE_11__service_notebook_service__["a" /* NotebookService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_11__service_notebook_service__["a" /* NotebookService */]) === "function" && _h || Object])
], TabDailyComponent);

var _a, _b, _c, _d, _e, _f, _g, _h;
//# sourceMappingURL=tab-daily.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/tab/tab-list-activity.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment_moment__ = __webpack_require__("../../../../moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment_locale_ru_js__ = __webpack_require__("../../../../moment/locale/ru.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment_locale_ru_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_moment_locale_ru_js__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_user_service__ = __webpack_require__("../../../../../src/app/service/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_offer_service__ = __webpack_require__("../../../../../src/app/service/offer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_history_service__ = __webpack_require__("../../../../../src/app/service/history.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__service_analysis_service__ = __webpack_require__("../../../../../src/app/service/analysis.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__service_session_service__ = __webpack_require__("../../../../../src/app/service/session.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TabListActivityComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var TabListActivityComponent = (function () {
    function TabListActivityComponent(_hubService, _userService, _configService, _offerService, _analysisService, _historyService, _sessionService) {
        this._hubService = _hubService;
        this._userService = _userService;
        this._configService = _configService;
        this._offerService = _offerService;
        this._analysisService = _analysisService;
        this._historyService = _historyService;
        this._sessionService = _sessionService;
        this.activeMenu = 0;
        this.source = __WEBPACK_IMPORTED_MODULE_6__service_offer_service__["a" /* OfferSource */].LOCAL;
        this.can_scroll_table = false;
        this.now_Date = Date.now();
        this.selected_date = __WEBPACK_IMPORTED_MODULE_1_moment_moment__(this.now_Date);
        this.filter = {
            stageCode: 'all',
            agentId: 'all',
            tag: 'all',
            changeDate: 90,
            offerTypeCode: 'sale',
        };
        this.daily = [
            { hour_name: '0:00' },
            { hour_name: '1:00' },
            { hour_name: '2:00' },
            { hour_name: '3:00' },
            { hour_name: '4:00' },
            { hour_name: '5:00' },
            { hour_name: '6:00' },
            { hour_name: '7:00' },
            { hour_name: '8:00' },
            { hour_name: '9:00' },
            { hour_name: '10:00' },
            { hour_name: '11:00' },
            { hour_name: '12:00' },
            { hour_name: '13:00' },
            { hour_name: '14:00' },
            { hour_name: '15:00' },
            { hour_name: '16:00' },
            { hour_name: '17:00' },
            { hour_name: '18:00' },
            { hour_name: '19:00' },
            { hour_name: '20:00' },
            { hour_name: '21:00' },
            { hour_name: '22:00' },
            { hour_name: '23:00' }
        ];
        this.days = [
            { day_number: this.now_Date - 5 * 24 * 60 * 60 * 1000 },
            { day_number: this.now_Date - 4 * 24 * 60 * 60 * 1000 },
            { day_number: this.now_Date - 3 * 24 * 60 * 60 * 1000 },
            { day_number: this.now_Date - 2 * 24 * 60 * 60 * 1000 },
            { day_number: this.now_Date - 24 * 60 * 60 * 1000 },
            { day_number: this.now_Date },
            { day_number: this.now_Date + 24 * 60 * 60 * 1000 },
            { day_number: this.now_Date + 48 * 60 * 60 * 1000 },
            { day_number: this.now_Date + 72 * 60 * 60 * 1000 },
            { day_number: this.now_Date + 98 * 60 * 60 * 1000 },
            { day_number: this.now_Date + 5 * 24 * 60 * 60 * 1000 }
        ];
        __WEBPACK_IMPORTED_MODULE_1_moment_moment__["locale"]("ru");
    }
    TabListActivityComponent.prototype.ngOnInit = function () {
        this.tab.header = "Активность";
        this.stages = [
            { label: "Не активно", value: "raw", summ: 1354000, conv: 0, active: false, offers: [], page: 0, substage: [] },
            { label: "Активно", value: "active", summ: 980000, conv: 25, active: false, offers: [], page: 0,
                substage: [
                    { label: "Первичный контакт", value: "first", summ: 0, conv: 0, active: false, offers: [], page: 0 },
                    { label: "Выявление потребностей", value: "find", summ: 0, conv: 0, active: false, offers: [], page: 0 },
                    { label: "Принятие решения", value: "choose", summ: 0, conv: 0, active: false, offers: [], page: 0 },
                    { label: "Заключение договора", value: "complite", summ: 0, conv: 0, active: false, offers: [], page: 0 }
                ]
            },
            { label: "Прайс", value: "price", summ: 690000, conv: 40, active: false, offers: [], page: 0,
                substage: [
                    { label: "Определение стратегии продажи", value: "strategy", summ: 0, conv: 0, active: false, offers: [], page: 0 },
                    { label: "Определение рекламной стратегии", value: "adver", summ: 0, conv: 0, active: false, offers: [], page: 0 },
                    { label: "Показ объекта", value: "show", summ: 0, conv: 0, active: false, offers: [], page: 0 },
                    { label: "Принятие решений", value: "decision", summ: 0, conv: 0, active: false, offers: [], page: 0 },
                    { label: "Подготовка документов", value: "doc", summ: 0, conv: 0, active: false, offers: [], page: 0 }
                ]
            },
            { label: "Сделка", value: "deal", summ: 350000, conv: 40, active: false, offers: [], page: 0,
                substage: [
                    { label: "Переговоры", value: "conversation", summ: 0, conv: 0, active: false, offers: [], page: 0 },
                    { label: "Заключение договора", value: "contract", summ: 0, conv: 0, active: false, offers: [], page: 0 },
                    { label: "Подготовка документов", value: "doc", summ: 0, conv: 0, active: false, offers: [], page: 0 },
                    { label: "Совершение сделки", value: "end_deal", summ: 0, conv: 0, active: false, offers: [], page: 0 }
                ]
            },
            { label: "Приостановлено", value: "suspended", summ: 1354000, conv: 0, active: false, offers: [], page: 0, substage: [] },
            { label: "Архив", value: "archive", summ: 0, conv: 0, active: false, offers: [], page: 0, substage: [] }
        ];
        for (var i = 0; i < this.stages.length; ++i) {
            this.listOffers(i);
        }
    };
    TabListActivityComponent.prototype.ngAfterViewInit = function () {
    };
    TabListActivityComponent.prototype.toggleSource = function (s) {
        if (s == 'main') {
            this.activeMenu = 0;
        }
        else if (s == 'analitic') {
            this.activeMenu = 1;
        }
        else {
            this.activeMenu = 2;
        }
    };
    TabListActivityComponent.prototype.set_stage = function (i) {
        this.stages.forEach(function (stage) {
            stage.active = false;
        });
        this.stages[i].active = true;
    };
    TabListActivityComponent.prototype.listOffers = function (i) {
        var _this = this;
        this._offerService.list(this.stages[i].page, 10, this.source, { stageCode: this.stages[i].value,
            agentId: this._sessionService.getUser().id,
            tag: 'all',
            changeDate: 90,
            offerTypeCode: 'sale',
        }, {}, "", []).subscribe(function (data) {
            if (_this.stages[i].page == 0) {
                _this.stages[i].offers = data.list;
            }
            else {
                data.list.forEach(function (i) {
                    _this.stages[i].offers.push(i);
                });
            }
        }, function (err) { return console.log(err); });
    };
    TabListActivityComponent.prototype.open_stage = function (stage) {
        var tabSys = this._hubService.getProperty('tab_sys');
        tabSys.addTab('activity', { stage: stage });
    };
    TabListActivityComponent.prototype.open_offer = function (stage, offer) {
        var tabSys = this._hubService.getProperty('tab_sys');
        tabSys.addTab('activity', { stage: stage, offer: offer });
    };
    TabListActivityComponent.prototype.split_number = function (n) {
        n += "";
        n = new Array(4 - n.length % 3).join("U") + n;
        return n.replace(/([0-9U]{3})/g, "$1 ").replace(/U/g, "");
    };
    return TabListActivityComponent;
}());
TabListActivityComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'tab-list-activity',
        inputs: ['tab'],
        styles: ["\n\n        .search-form {\n            background: #fff;\n            z-index: 1;\n            width: 38%;\n            margin-left: 610;\n            margin-top: 27px;\n        }\n\n        .tool-box {\n            height: 30px;\n            margin: 0 12px;\n        }\n\n        .inline-select {\n            display: inline-block;\n            height: 20px;\n            padding: 0 15px;\n            font-size: 14px;\n            color: #666;\n        }\n\n        .round_menu{\n            width: 170px;\n            height: 50px;\n            position: absolute;\n            left: 450;\n            top: 15px;\n            text-align: center;\n            z-index: 10;\n            line-height: 50px;\n            display: flex;\n            justify-content: space-around;\n        }\n\n        .search-box {\n            position: relative;\n            margin: 12px;\n            margin-bottom: 8px;\n        }\n\n        .button {\n            height: 50px;\n            width: 50px;\n            border-radius: 40px;\n            cursor: pointer;\n            font-size: 11px;\n            line-height: 120px;\n            background-size: cover;\n            background-color: #bcbfc1;\n            color: #807982;\n            border: 2px solid #bcbfc1;\n        }\n\n        .button_active, .button:hover{\n            border-color: #1061c4;\n            background-color: #1061c4;\n        }\n\n        .underline{\n            border: 2px solid;\n            color: #d6543f;\n            background-color: #d6543f;\n            position: relative;\n            top: -2;\n            width: 100vw;\n            margin-bottom: 0;\n        }\n\n        .work_list, .work_list1{\n            width: 100%;\n            height: calc(100% - 117px);\n            overflow: hidden;\n        }\n\n        .work_list .right_panel{\n            width: 370px;\n            height: 100%;\n            float: right;\n        }\n\n        .work_list .central_panel{\n            width: calc(100% - 370px);\n            height: 100%;\n            overflow-x: auto;\n            overflow-y: hidden;\n            float: left;\n        }\n\n        .work_list .central_panel > div{\n            height: 100%;\n            background-color: f8f8f8;\n            display: flex;\n        }\n\n        .stage{\n            height: 100%;\n            position: relative;\n            flex: 0 0 300px;\n            width: 300px;\n        }\n\n        .stage > .label{\n            width: 100%;\n            height: 35px;\n            background-color: #4dad15;\n            color: white;\n            font-size: 15px;\n            line-height: 35px;\n            text-align: center;\n            cursor: hand;\n        }\n\n        .stage > .summ{\n            width: calc(100% - 6px);\n            height: 60px;\n            background-color: #e6e7e8;\n            margin-top: 5px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .stage > .summ > div:first-child{\n            color: #4dad15;\n            margin-right: 15px;\n            font-size: 29px;\n        }\n\n        .stage > .summ > div:last-child:not(:first-child){\n            font-size: 20px;\n        }\n\n        .stage > .label:hover, .active .label{\n            background-color: #008cdb !important;\n        }\n\n        .stage:last-child > .label{\n            background: #d6543f;\n        }\n\n        .stage:not(:last-child):after{\n            content: \" \";\n            width: 12px;\n            height: 35px;\n            background-image: url(assets/activity_arrow.png);\n            background-size: 100% 100%;\n            background-repeat: no-repeat;\n            background-position: center;\n            display: block;\n            position: absolute;\n            right: -6px;\n            top: 0;\n        }\n\n        .stage_body{\n            overflow: auto;\n            height: calc(100% - 100px);\n            width: calc(100% - 7px);\n        }\n\n        .work_list1 > .left_panel{\n            width: 370px;\n            float: left;\n            height: 100%;\n        }\n\n        .work_list1 > .central_panel{\n            float: right;\n            width: calc(100% - 370px);\n            height: 100%;\n        }\n\n        .work_list1 > .central_panel > .head{\n            width: 100%;\n            height: 90px;\n        }\n    "],
        template: "\n        <div class=\"header-label-abs\" style=\"margin: 2px 0 0 30px;\">{{ tab.header }}</div>\n        <div class = \"round_menu\">\n            <div (click)=\"toggleSource('main')\"    class=\"button\"  [class.button_active]=\"this.activeMenu == 0\" [style.background-image]=\"'url(assets/main_offers.png)'\">\u0413\u043B\u0430\u0432\u043D\u0430\u044F</div>\n            <div (click)=\"toggleSource('analitic')\" class=\"button\" [class.button_active]=\"this.activeMenu == 1\" [style.background-image]=\"'url(assets/analitic.png)'\">\u041E\u0442\u0447\u0435\u0442\u044B</div>\n            <div (click)=\"toggleSource('history')\"  class=\"button\" [class.button_active]=\"this.activeMenu == 2\" [style.background-image]=\"'url(assets/history.png)'\">\u0418\u0441\u0442\u043E\u0440\u0438\u044F</div>\n        </div>\n        <div class=\"search-form\">\n            <div class=\"search-box\">\n                <input type=\"text\" class=\"\" placeholder=\"\" style=\"height: 28px; width: 100%;\n                background-color: rgb(247, 247, 247); border: 1px solid rgba(204, 204, 204, 0.47);\"\n                    [(ngModel)]=\"searchQuery\" (keyup)=\"$event\"\n                >\n                <span class=\"icon-search\" style=\"position: absolute; right: 12px; top: 7px;\"></span>\n            </div>\n            <div class=\"tool-box\">\n\n\n            <div class=\"inline-select\">\n                <ui-select class=\"view-value edit-value\"\n                    [options] = \"[\n                        {value: 'sale', label: '\u041C\u043E\u0438 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F'},\n                        {value: 'rent', label: '\u041D\u0435 \u043C\u043E\u0438 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F'}\n                    ]\"\n                    [value]=\"'sale'\"\n                    [config]=\"{icon: 'icon-', draw_arrow: true}\"\n                    (onChange)=\"null\"\n                    >\n                </ui-select>\n            </div>\n            <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 0, label: '\u0412\u0441\u0435'},\n                            {value: 1, label: '\u041A\u0440\u0430\u0441\u043D\u044B\u0439', icon: 'icon-circle tag-red'},\n                            {value: 2, label: '\u041E\u0440\u0430\u043D\u0436\u0435\u0432\u044B\u0439', icon: 'icon-circle tag-orange'},\n                            {value: 3, label: '\u0416\u0435\u043B\u0442\u044B\u0439', icon: 'icon-circle tag-yellow'},\n                            {value: 4, label: '\u0417\u0435\u043B\u0435\u043D\u044B\u0439', icon: 'icon-circle tag-green'},\n                            {value: 5, label: '\u0413\u043E\u043B\u0443\u0431\u043E\u0439', icon: 'icon-circle tag-blue'},\n                            {value: 6, label: '\u041B\u0438\u043B\u043E\u0432\u044B\u0439', icon: 'icon-circle tag-violet'},\n                            {value: 7, label: '\u0421\u0435\u0440\u044B\u0439', icon: 'icon-circle tag-gray'}\n                        ]\"\n                        [value]=\"0\"\n                        [config]=\"{icon: 'icon-tag', draw_arrow: true}\"\n                        (onChange)=\"null\"\n                        >\n                    </ui-select>\n                </div>\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 1, label: '1 \u0434\u0435\u043D\u044C'},\n                            {value: 2, label: '3 \u0434\u043D\u044F'},\n                            {value: 3, label: '\u041D\u0435\u0434\u0435\u043B\u044F'},\n                            {value: 4, label: '2 \u043D\u0435\u0434\u0435\u043B\u0438'},\n                            {value: 5, label: '\u041C\u0435\u0441\u044F\u0446'},\n                            {value: 6, label: '3 \u043C\u0435\u0441\u044F\u0446\u0430'},\n                            {value: 7, label: '\u0412\u0441\u0435'}\n                        ]\"\n                        [value]=\"6\"\n                        [config]=\"{icon: 'icon-month', drawArrow: true}\"\n                        (onChange)=\"null\"\n                    >\n                    </ui-select>\n                </div>\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options]=\"[\n                            {value: 'all', label: '\u0412\u0441\u0435'},\n                            {value: 'raw', label: '\u041D\u0435 \u0430\u043A\u0442\u0438\u0432\u0435\u043D'},\n                            {value: 'active', label: '\u0410\u043A\u0442\u0438\u0432\u0435\u043D'},\n                            {value: 'price', label: '\u041F\u0440\u0430\u0439\u0441'},\n                            {value: 'deal', label: '\u0421\u0434\u0435\u043B\u043A\u0430'},\n                            {value: 'suspended', label: '\u041F\u0440\u0438\u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D'},\n                            {value: 'archive', label: '\u0410\u0440\u0445\u0438\u0432'}\n                        ]\"\n                        [value]=\"filter.stage\"\n                        [config]=\"{icon: 'icon-square', drawArrow: true}\"\n                        (onChange)=\"filter.stageCode = $event.selected.value; searchParamChanged($event);\"\n                    >\n                    </ui-select>\n                </div>\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 'sale', label: '\u041F\u0440\u043E\u0434\u0430\u0436\u0430'},\n                            {value: 'rent', label: '\u0410\u0440\u0435\u043D\u0434\u0430'}\n                        ]\"\n                        [value]=\"'sale'\"\n                        [config]=\"{icon: 'icon-', draw_arrow: true}\"\n                        (onChange)=\"null\"\n                        >\n                    </ui-select>\n                </div>\n            </div>\n        </div>\n        <hr class=\"underline\">\n        <div *ngIf=\"activeMenu == 0\" class=\"work_list\">\n            <div class=\"central_panel\">\n                <div>\n                    <div class='stage' *ngFor=\"let stage of stages; let i=index\" [class.active] = \"stage.active\" [style.z-index]=\"100-i\">\n                        <div class='label' (click)=\"set_stage(i)\" (dblclick)=\"open_stage(stage)\">{{stage.label}} ({{stage.offers?.length}})</div>\n                        <div class=\"summ\">\n                            <div *ngIf=\"stage.summ && stage.summ > 0\">{{split_number(stage.summ)}}&#8381;</div>\n                        </div>\n                        <div class='stage_body'>\n                            <digest-offer-table2 *ngFor=\"let data of stage.offers\"\n                                    style=\"display: block; background-color: transparent;\"\n                                    [offer]=\"data\"\n                                    [withPhoto]=\"false\"\n\n                                    (dblclick)=\"open_offer(stage, data)\"\n                                    (touchstart)=\"tStart(data)\"\n                                    (touchend)=\"tEnd(data)\"\n                            >\n                            </digest-offer-table2>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"right_panel\">\n\n            </div>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_3__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__service_hub_service__["a" /* HubService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_4__service_user_service__["a" /* UserService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__service_user_service__["a" /* UserService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_5__service_config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__service_config_service__["a" /* ConfigService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_6__service_offer_service__["b" /* OfferService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__service_offer_service__["b" /* OfferService */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_8__service_analysis_service__["a" /* AnalysisService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_8__service_analysis_service__["a" /* AnalysisService */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_7__service_history_service__["a" /* HistoryService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_7__service_history_service__["a" /* HistoryService */]) === "function" && _f || Object, typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_9__service_session_service__["a" /* SessionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_9__service_session_service__["a" /* SessionService */]) === "function" && _g || Object])
], TabListActivityComponent);

var _a, _b, _c, _d, _e, _f, _g;
//# sourceMappingURL=tab-list-activity.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/tab/tab-list-offer.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_offer_service__ = __webpack_require__("../../../../../src/app/service/offer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_user_service__ = __webpack_require__("../../../../../src/app/service/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_person_service__ = __webpack_require__("../../../../../src/app/service/person.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_organisation_service__ = __webpack_require__("../../../../../src/app/service/organisation.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_suggestion_service__ = __webpack_require__("../../../../../src/app/service/suggestion.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__entity_offer__ = __webpack_require__("../../../../../src/app/entity/offer.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__entity_person__ = __webpack_require__("../../../../../src/app/entity/person.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__entity_organisation__ = __webpack_require__("../../../../../src/app/entity/organisation.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__service_session_service__ = __webpack_require__("../../../../../src/app/service/session.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__class_phoneBlock__ = __webpack_require__("../../../../../src/app/class/phoneBlock.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TabListOfferComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var TabListOfferComponent = (function () {
    function TabListOfferComponent(_elem, _changeDetectorRef, _hubService, _offerService, _userService, _configService, _suggestionService, _sessionService, _personService, _organisationService) {
        var _this = this;
        this._elem = _elem;
        this._changeDetectorRef = _changeDetectorRef;
        this._hubService = _hubService;
        this._offerService = _offerService;
        this._userService = _userService;
        this._configService = _configService;
        this._suggestionService = _suggestionService;
        this._sessionService = _sessionService;
        this._personService = _personService;
        this._organisationService = _organisationService;
        this.tableMode = false;
        this.source = __WEBPACK_IMPORTED_MODULE_1__service_offer_service__["a" /* OfferSource */].LOCAL;
        this.searchQuery = "";
        this.searchArea = [];
        this.sgList = [];
        this.filter = {
            stageCode: 'all',
            contactType: 'all',
            tag: 'all',
            changeDate: 90,
            offerTypeCode: 'sale',
        };
        this.sort = {};
        this.agentOpts = [
            { value: 'all', label: 'Все объекты', bold: true },
            { value: 'realtor', label: 'Конкуренты', bold: true },
            { value: 'partner=' + this._sessionService.getUser().accountId, label: 'Партнеры', bold: true },
            { value: 'private', label: 'Собственники', bold: true },
            { value: 'client=' + this._sessionService.getUser().accountId, label: 'Клиенты', bold: true },
            { value: 'company=' + this._sessionService.getUser().accountId, label: 'Наша компания', bold: true },
            { value: 'my', label: 'Мои объекты', bold: true }
        ];
        this.stageCodeOptions = [
            { value: 'all', label: 'Все' },
            { value: 'raw', label: 'Не активен' },
            { value: 'active', label: 'Активен' },
            { value: 'price', label: 'Прайс' },
            { value: 'deal', label: 'Сделка' },
            { value: 'suspended', label: 'Приостановлен' },
            { value: 'archive', label: 'Архив' }
        ];
        this.stateCodeOptions = [
            { value: 'all', label: 'Все' },
            { value: 'raw', label: 'Не активен' },
            { value: 'active', label: 'Активен' },
            { value: 'work', label: 'Прайс' },
            { value: 'ок', label: 'Сделка' },
            { value: 'suspended', label: 'Приостановлен' },
            { value: 'archive', label: 'Архив' }
        ];
        this.paneHidden = false;
        this.mapDrawAllowed = false;
        this.hitsCount = 0;
        this.page = 0;
        this.perPage = 100;
        this.selectedOffers = [];
        this.lastClckIdx = 0;
        this.timestamp = (Date.now() / 1000) - 1000;
        this.openPopup = { visible: false };
        this.canLoad = 0;
        setTimeout(function () {
            _this.tab.header = 'Предложения';
        });
    }
    TabListOfferComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (this.tab.args.query) {
            this.searchQuery = this.tab.args.query;
        }
        for (var i = 0; i < localStorage.length; i++) {
            var name = localStorage.key(i);
            if (name.indexOf('offer_page') > -1)
                localStorage.removeItem(name);
        }
        this.tab.refreshRq.subscribe(function (sender) {
            _this.listOffers(1);
        });
        this.list = this._elem.nativeElement.querySelector('.digest-list');
        this.page = 0;
        this.listOffers(1);
        this._userService.list(null, null, "").subscribe(function (agents) {
            for (var i_1 = 0; i_1 < agents.length; i_1++) {
                var a = agents[i_1];
                _this.agentOpts.push({
                    value: '' + a.id,
                    label: a.name,
                    bold: false
                });
            }
        });
        var c = this._configService.getConfig();
        var loc = this._sessionService.getAccount().location;
        if (c.map[loc]) {
            this.lat = c.map[loc].lat;
            this.lon = c.map[loc].lon;
            this.zoom = c.map[loc].zoom;
        }
        else {
            this.lat = c.map['default'].lat;
            this.lon = c.map['default'].lon;
            this.zoom = c.map['default'].zoom;
        }
        this.calcSize();
    };
    TabListOfferComponent.prototype.toggleView = function () {
        this._changeDetectorRef.detach();
    };
    TabListOfferComponent.prototype.listOffers = function (down, event) {
        var _this = this;
        if (event === void 0) { event = null; }
        this.canLoad = down;
        this._offerService.list(this.page, this.perPage, this.source, this.filter, this.sort, this.searchQuery, this.searchArea).subscribe(function (data) {
            _this.hitsCount = data.hitsCount || (_this.hitsCount > 0 ? _this.hitsCount : 0);
            if (_this.page == 0 && down == 1) {
                _this.offers = data.list;
            }
            else {
                if (down == 1) {
                    data.list.forEach(function (i) {
                        _this.offers.push(i);
                    });
                    if (~~(_this.hitsCount / _this.perPage) != _this.page + 1 && data.list.length < _this.perPage) {
                        _this.hitsCount -= (_this.perPage - data.list.length);
                    }
                }
            }
            _this.canLoad = 0;
        }, function (err) {
            console.log(err);
            _this.canLoad = 0;
        });
    };
    TabListOfferComponent.prototype.onResize = function (e) {
        this.calcSize();
    };
    TabListOfferComponent.prototype.toggleMode = function () {
        this.tableMode = !this.tableMode;
    };
    TabListOfferComponent.prototype.toggleDraw = function () {
        this.mapDrawAllowed = !this.mapDrawAllowed;
        if (!this.mapDrawAllowed) {
            this.page = 0;
            this.offers = [];
            this.searchArea = [];
            this.listOffers(1);
        }
    };
    TabListOfferComponent.prototype.finishDraw = function (e) {
        this.page = 0;
        this.offers = [];
        this.searchArea = e;
        this.listOffers(1);
    };
    TabListOfferComponent.prototype.calcSize = function () {
        if (this.paneHidden) {
            this.paneWidth = 0;
        }
        else {
            this.paneWidth = 370;
        }
        this.mapWidth = document.body.clientWidth - (31) - this.paneWidth;
        this.paneHeight = document.body.clientHeight - 116;
    };
    TabListOfferComponent.prototype.toggleLeftPane = function () {
        this.paneHidden = !this.paneHidden;
        this.calcSize();
    };
    TabListOfferComponent.prototype.tableContextMenu = function (e) {
        var _this = this;
        e.preventDefault();
        e.stopPropagation();
        var c = this;
        var users = this._userService.listCached("", 0, "");
        var uOpt = [];
        /*uOpt.push(
            {class: "entry", disabled: false, label: "Не задано", callback: function() {
                c.selectedOffers.forEach(o => {
                    o.agentId = null;
                    o.agent = null;
                    c._offerService.save(o);
                })
            }},
        )*/
        users.forEach(function (u) {
            if (u.id != _this._sessionService.getUser().id)
                uOpt.push({ class: "entry", disabled: false, label: u.name, callback: function () {
                        _this.clickMenu({ event: "add_to_local", agent: u });
                    } });
        });
        var stateOpt = [];
        var states = [
            { value: 'raw', label: 'Не активен' },
            { value: 'active', label: 'Активен' },
            { value: 'work', label: 'В работе' },
            { value: 'suspended', label: 'Приостановлен' },
            { value: 'archive', label: 'Архив' }
        ];
        var stageOpt = [];
        var stages = [
            { value: 'contact', label: 'Первичный контакт' },
            { value: 'pre_deal', label: 'Заключение договора' },
            { value: 'show', label: 'Показ' },
            { value: 'prep_deal', label: 'Подготовка договора' },
            { value: 'decision', label: 'Принятие решения' },
            { value: 'negs', label: 'Переговоры' },
            { value: 'deal', label: 'Сделка' }
        ];
        states.forEach(function (s) {
            stateOpt.push({ class: "entry", disabled: false, label: s.label, callback: function () {
                    c.selectedOffers.forEach(function (o) {
                        o.stateCode = s.value;
                        c._offerService.save(o);
                    });
                } });
        });
        stages.forEach(function (s) {
            stageOpt.push({ class: "entry", disabled: false, label: s.label, callback: function () {
                    c.selectedOffers.forEach(function (o) {
                        o.stageCode = s.value;
                        c._offerService.save(o);
                    });
                    setTimeout(function () {
                        c.listOffers(1);
                    }, 1200);
                } });
        });
        var menu = {
            pX: e.pageX,
            pY: e.pageY,
            scrollable: false,
            items: [
                { class: "entry", disabled: this.selectedOffers.length == 1 ? false : true, icon: "dcheck", label: 'Проверить', callback: function () {
                        _this.openPopup = { visible: true, task: "check" };
                        /*var tab_sys = this._hubService.getProperty('tab_sys');
                        var rq = [];
                        this.selectedOffers.forEach(o => {
                            if (o.person.phoneBlock) {
                                rq.push(PhoneBlock.getAsString(o.person.phoneBlock));
                            }
                        });
                        tab_sys.addTab('list_offer', {query: rq.join(" ")});*/
                    } },
                { class: "entry", disabled: false, icon: "document", label: 'Открыть', callback: function () {
                        var tab_sys = _this._hubService.getProperty('tab_sys');
                        _this.selectedOffers.forEach(function (o) {
                            tab_sys.addTab('offer', { offer: o });
                        });
                    } },
                { class: "entry", disabled: this.source == __WEBPACK_IMPORTED_MODULE_1__service_offer_service__["a" /* OfferSource */].LOCAL ? false : true, icon: "trash", label: 'Удалить',
                    callback: function () {
                        _this.clickMenu({ event: "del_obj" });
                    }
                },
                { class: "entry", disabled: this.selectedOffers.length == 1 ? false : true, icon: "edit", label: "Показать фото",
                    callback: function () {
                        _this.clickMenu({ event: "photo" });
                    }
                },
                { class: "entry", disabled: false, icon: "edit", label: "Показать на карте",
                    callback: function () {
                        _this.clickMenu({ event: "map" });
                    }
                },
                { class: "delimiter" },
                { class: "submenu", disabled: false, icon: "edit", label: "Изменить стадию", items: stageOpt },
                { class: "submenu", disabled: false, icon: "person", label: "Добавить", items: [
                        { class: "entry", disabled: this.source == __WEBPACK_IMPORTED_MODULE_1__service_offer_service__["a" /* OfferSource */].LOCAL ? true : false, label: "В базу компании",
                            callback: function () {
                                _this.clickMenu({ event: "add_to_local" });
                            }
                        },
                        { class: "entry", disabled: false, label: "В контакты",
                            callback: function () {
                                _this.clickMenu({ event: "add_to_person" });
                            }
                        },
                        { class: "entry", disabled: false, label: "В контрагенты",
                            callback: function () {
                                _this.clickMenu({ event: "add_to_company" });
                            }
                        },
                    ] },
                { class: "submenu", disabled: false, icon: "person", label: "Назначить", items: [
                        { class: "entry", disabled: this.source == __WEBPACK_IMPORTED_MODULE_1__service_offer_service__["a" /* OfferSource */].LOCAL ? false : true, label: "Не назначено",
                            callback: function () {
                                _this.clickMenu({ event: "del_agent", agent: null });
                            }
                        },
                        { class: "entry", disabled: false, label: "На себя",
                            callback: function () {
                                _this.clickMenu({ event: "add_to_local", agent: _this._sessionService.getUser() });
                            }
                        },
                        { class: "delimiter" }
                    ].concat(uOpt) },
                { class: "entry", disabled: false, icon: "task", label: "Добавить задачу", items: [] },
                { class: "submenu", disabled: false, icon: "edit", label: "Отправить сообщение", items: [
                        { class: "entry", disabled: false, label: "Произвольно", callback: function () { alert('yay s1!'); } },
                        { class: "entry", disabled: false, label: "Шаблон 1", callback: function () { alert('yay s2!'); } },
                        { class: "entry", disabled: false, label: "Шаблон 2", callback: function () { alert('yay s2!'); } },
                        { class: "entry", disabled: false, label: "Шаблон 3", callback: function () { alert('yay s2!'); } },
                    ] },
                { class: "entry", disabled: false, icon: "edit", label: "Экспорт в источники", callback: function () {
                    } },
                { class: "submenu", disabled: false, icon: "task", label: "Позвонить", items: [
                        { class: "entry", disabled: false, label: "Произвольно", callback: function () { alert('yay s1!'); } },
                        { class: "delimiter" },
                        { class: "entry", disabled: false, label: "На основной", callback: function () { alert('yay s1!'); } },
                        { class: "entry", disabled: false, label: "На рабочий", callback: function () { alert('yay s1!'); } },
                        { class: "entry", disabled: false, label: "На мобильный", callback: function () { alert('yay s2!'); } },
                    ] },
                /*{class: "submenu", disabled: true, icon: "advert", label: "Реклама", items: [
                    {class: "entry", disabled: false, label: "пункт x1", callback: function() {alert('yay s1!')}},
                    {class: "entry", disabled: false, label: "пункт x2", callback: function() {alert('yay s2!')}},
                ]},*/
                { class: "delimiter" },
                { class: "tag", icon: "tag", label: "Добавить тег:", items: [
                        { disabled: false, icon: '', callback: function () { } },
                        { disabled: false, icon: 'circle tag-red', callback: function () { } },
                        { disabled: false, icon: 'circle tag-orange', callback: function () { } },
                        { disabled: false, icon: 'circle tag-yellow', callback: function () { } },
                        { disabled: false, icon: 'circle tag-green', callback: function () { } },
                        { disabled: false, icon: 'circle tag-blue', callback: function () { } },
                        { disabled: false, icon: 'circle tag-violet', callback: function () { } },
                        { disabled: false, icon: 'circle tag-gray', callback: function () { } },
                    ] }
            ]
        };
        this._hubService.shared_var['cm'] = menu;
        this._hubService.shared_var['cm_hidden'] = false;
    };
    TabListOfferComponent.prototype.click = function (event, offer, i) {
        this.setLocation(offer);
        if (event.button == 2) {
            if (this.selectedOffers.indexOf(offer) == -1) {
                this.lastClckIdx = i;
                this.selectedOffers = [offer];
            }
        }
        else {
            if (event.ctrlKey) {
                // add to selection
                this.lastClckIdx = i;
                this.selectedOffers.push(offer);
                this.offerSelected(offer);
            }
            else if (event.shiftKey) {
                this.selectedOffers = [];
                var idx = i;
                var idx_e = this.lastClckIdx;
                if (i > this.lastClckIdx) {
                    idx = this.lastClckIdx;
                    idx_e = i;
                }
                while (idx <= idx_e) {
                    var oi = this.offers[idx++];
                    this.selectedOffers.push(oi);
                }
            }
            else {
                this.lastClckIdx = i;
                this.selectedOffers = [offer];
            }
        }
    };
    TabListOfferComponent.prototype.offerSelected = function (offer) {
    };
    TabListOfferComponent.prototype.dblClick = function (offer) {
        this.openOffer(offer);
    };
    TabListOfferComponent.prototype.tStart = function (event, offer) {
        var _this = this;
        event.preventDefault();
        event.stopPropagation();
        event.stopImmediatePropagation();
        clearTimeout(this.to);
        this.to = setTimeout(function () {
            _this.openOffer(offer);
        }, 1000);
    };
    TabListOfferComponent.prototype.tEnd = function (event, offer) {
        event.preventDefault();
        event.stopPropagation();
        event.stopImmediatePropagation();
        clearTimeout(this.to);
    };
    TabListOfferComponent.prototype.setLocation = function (o) {
        if (o.locationLat && o.locationLon) {
            this.lat = o.locationLat;
            this.lon = o.locationLon;
        }
    };
    TabListOfferComponent.prototype.openOffer = function (offer) {
        var tab_sys = this._hubService.getProperty('tab_sys');
        tab_sys.addTab('offer', { offer: offer });
    };
    TabListOfferComponent.prototype.scroll = function (e) {
        if (this.canLoad == 0 && ~~(this.hitsCount / this.perPage) + 1 != this.page) {
            if (e.currentTarget.scrollTop + e.currentTarget.clientHeight >= e.currentTarget.scrollHeight) {
                this.page += 1;
                this.listOffers(1, e);
            }
        }
    };
    TabListOfferComponent.prototype.listEndOrStart = function (pageAdd, toDown, event) {
        if (this.canLoad == 0 && ~~(this.hitsCount / this.perPage) + 1 != this.page) {
            this.page = this.page + pageAdd;
            if (this.page < 0)
                this.page = 0;
            this.listOffers(toDown, event);
        }
    };
    TabListOfferComponent.prototype.docClick = function () {
        this.sgList = [];
    };
    TabListOfferComponent.prototype.select = function (itm) {
        this.searchQuery = itm;
        this.sgList = [];
    };
    TabListOfferComponent.prototype.searchStringChanged = function (e) {
        var c = this;
        clearTimeout(this.suggestionTo);
        this.suggestionTo = setTimeout(function () {
            c.searchParamChanged(e);
        }, 500);
    };
    TabListOfferComponent.prototype.searchParamChanged = function (e) {
        var _this = this;
        if (this.searchQuery.length > 0) {
            var sq = this.searchQuery.split(" ");
            var lp = sq.pop();
            var q = sq.join(" ");
            this.sgList = [];
            if (lp.length > 0) {
                // запросить варианты
                this._suggestionService.listKeywords(this.searchQuery).subscribe(function (sgs) {
                    sgs.forEach(function (e) {
                        _this.sgList.push(e);
                    });
                });
            }
        }
        this.page = 0;
        /*for (var i = 0; i < localStorage.length; i++) {
            let name : string = localStorage.key(i);
            if(name.indexOf('offer_page') > -1)
                localStorage.removeItem(name);
        }*/
        this.offers = [];
        this.listOffers(1);
    };
    TabListOfferComponent.prototype.sortChanged = function (e) {
        if (e.order == 0) {
            delete this.sort[e.field];
        }
        else {
            if (e.order == 1) {
                this.sort[e.field] = "ASC";
            }
            else {
                this.sort[e.field] = "DESC";
            }
        }
        /*for (var i = 0; i < localStorage.length; i++) {
            let name : string = localStorage.key(i);
            if(name.indexOf('offer_page') > -1)
                localStorage.removeItem(name);
        }*/
        this.page = 0;
        this.listOffers(1);
    };
    TabListOfferComponent.prototype.markerClick = function (o) {
        //r.selected = !r.selected;
        // scroll to object !?
        // lets get dirty!
        //if (r.selected) {
        var e = this.list.querySelector('#r' + o.id);
        this.selectedOffers = [o];
        this.list.scrollTop = e.offsetTop - e.clientHeight;
        //}
    };
    TabListOfferComponent.prototype.addOffer = function () {
        var tab_sys = this._hubService.getProperty('tab_sys');
        tab_sys.addTab('offer', { offer: new __WEBPACK_IMPORTED_MODULE_8__entity_offer__["a" /* Offer */]() });
    };
    TabListOfferComponent.prototype.toggleSource = function (s) {
        if (s == 'local') {
            this.source = __WEBPACK_IMPORTED_MODULE_1__service_offer_service__["a" /* OfferSource */].LOCAL;
        }
        else {
            this.source = __WEBPACK_IMPORTED_MODULE_1__service_offer_service__["a" /* OfferSource */].IMPORT;
        }
        this.offers = [];
        this.page = 0;
        this.sort = {};
        var tfStr = localStorage.getItem('tableFields' + this.source);
        if (tfStr) {
            var tf = JSON.parse(tfStr);
            for (var fid in tf) {
                if (tf[fid].s != 0) {
                    if (tf[fid].s == 1) {
                        this.sort[fid] = "ASC";
                    }
                    else {
                        this.sort[fid] = "DESC";
                    }
                }
                /*this.fields.forEach(f => {
                    if (f.id == fid) {
                        f.visible = tf[fid].v;
                        f.sort = tf[fid].s;
                    }
                });*/
            }
        }
        this.listOffers(1);
    };
    TabListOfferComponent.prototype.getInputWidth = function () {
        if (this.tableMode)
            return '100%';
        else
            return '90%';
    };
    TabListOfferComponent.prototype.getSearchPosition = function () {
        if (this.tableMode)
            return '10px';
        else
            return '85px';
    };
    TabListOfferComponent.prototype.clickMenu = function (evt) {
        var _this = this;
        this.selectedOffers.forEach(function (o) {
            if (evt.event == "add_to_local") {
                if (_this.source == __WEBPACK_IMPORTED_MODULE_1__service_offer_service__["a" /* OfferSource */].LOCAL) {
                    o.changeDate = Math.round((Date.now() / 1000));
                }
                else {
                    o.addDate = null;
                }
                o.stageCode = 'raw';
                if (evt.agent) {
                    o.agentId = evt.agent.id;
                    o.agent = evt.agent;
                }
                else {
                    o.agentId = null;
                    o.agent = null;
                }
                if (!o.person && o.phones_import && o.phones_import.length > 0) {
                    var pers = new __WEBPACK_IMPORTED_MODULE_9__entity_person__["a" /* Person */]();
                    pers.phoneBlock.main = "+" + o.phones_import[0];
                    o.phones_import[1] ? pers.phoneBlock.office = "+" + o.phones_import[1] : null;
                    o.phones_import[2] ? pers.phoneBlock.other = "+" + o.phones_import[2] : null;
                    o.phones_import[3] ? pers.phoneBlock.cellphone = "+" + o.phones_import[3] : null;
                    o.phones_import[4] ? pers.phoneBlock.home = "+" + o.phones_import[4] : null;
                    if (evt.agent) {
                        pers.agent = evt.agent;
                        pers.agentId = evt.agent.id;
                    }
                    _this._personService.save(pers).subscribe(function (data) {
                        o.person = data;
                        o.personId = data.id;
                        _this._offerService.save(o);
                    });
                }
                else {
                    o.personId = o.person.id;
                    _this._offerService.save(o);
                }
            }
            else if (evt.event == "add_to_person") {
                if (!o.person && o.phones_import && o.phones_import.length > 0) {
                    var pers = new __WEBPACK_IMPORTED_MODULE_9__entity_person__["a" /* Person */]();
                    pers.phoneBlock.main = "+" + o.phones_import[0];
                    o.phones_import[1] ? pers.phoneBlock.office = "+" + o.phones_import[1] : null;
                    o.phones_import[2] ? pers.phoneBlock.other = "+" + o.phones_import[2] : null;
                    o.phones_import[3] ? pers.phoneBlock.cellphone = "+" + o.phones_import[3] : null;
                    o.phones_import[4] ? pers.phoneBlock.home = "+" + o.phones_import[4] : null;
                    _this._personService.save(pers).subscribe(function (data) {
                        o.person = data;
                        o.personId = data.id;
                        /*this.offers.forEach(t => {
                            if(t.phones_import)
                        });*/
                        var tabSys = _this._hubService.getProperty('tab_sys');
                        tabSys.addTab('person', { person: o.person });
                    });
                }
            }
            else if (evt.event == "add_to_company") {
                if (!o.person && !o.company && o.phones_import && o.phones_import.length > 0) {
                    var org = new __WEBPACK_IMPORTED_MODULE_10__entity_organisation__["a" /* Organisation */]();
                    org.phoneBlock.main = "+" + o.phones_import[0];
                    o.phones_import[1] ? org.phoneBlock.office = "+" + o.phones_import[1] : null;
                    o.phones_import[2] ? org.phoneBlock.other = "+" + o.phones_import[2] : null;
                    o.phones_import[3] ? org.phoneBlock.cellphone = "+" + o.phones_import[3] : null;
                    o.phones_import[4] ? org.phoneBlock.home = "+" + o.phones_import[4] : null;
                    _this._organisationService.save(org).subscribe(function (data) {
                        o.company = data;
                        o.companyId = data.id;
                        var tabSys = _this._hubService.getProperty('tab_sys');
                        tabSys.addTab('organisation', { organisation: o.company });
                    });
                }
            }
            else if (evt.event == "del_agent") {
                o.agentId = null;
                o.agent = null;
                _this._offerService.save(o);
            }
            else if (evt.event == "del_obj") {
                _this._offerService.delete(o).subscribe(function (data) {
                    _this.selectedOffers.splice(_this.selectedOffers.indexOf(o), 1);
                    _this.offers.splice(_this.offers.indexOf(o), 1);
                });
            }
            else if (evt.event == "check") {
                var phones = (o.person && o.person.phoneBlock) ? __WEBPACK_IMPORTED_MODULE_12__class_phoneBlock__["a" /* PhoneBlock */].getAsArray(o.person.phoneBlock).join(" ") :
                    ((o.company && o.company.phoneBlock) ? __WEBPACK_IMPORTED_MODULE_12__class_phoneBlock__["a" /* PhoneBlock */].getAsArray(o.company.phoneBlock).join(" ") :
                        (o.phones_import ? o.phones_import.join(" ") : ""));
                _this.openPopup = { visible: true, task: "check", value: phones, person: o.person };
            }
            else if (evt.event == "photo") {
                _this.openPopup = { visible: true, task: "photo", offer: o, value: _this.source };
            }
            else {
                _this._offerService.save(o);
            }
        });
        if (evt.event == "map") {
            this.openPopup = { visible: true, task: "map", offers: this.selectedOffers, value: this.source,
                map: { lat: this.lat, lot: this.lon, zoom: this.zoom }
            };
        }
    };
    return TabListOfferComponent;
}());
TabListOfferComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'tab-list-offer',
        inputs: ['tab'],
        styles: ["\n        .underline{\n            border: 2px solid;\n            color: rgb(61, 155, 233);\n            position: absolute;\n            top: 91px;\n            left: 30px;\n            width: 100vw;\n        }\n        .search-form {\n            position: absolute;\n            width: 38%;\n            margin-left: 610px;\n            margin-top: 15px;\n            z-index: 1;\n        }\n\n        .search-form.table-mode {\n            border: 1px solid #fff;\n        }\n\n        .round_menu{\n            width: 230px;\n            height: 50px;\n            position: absolute;\n            left: 400px;\n            top: 15px;\n            text-align: center;\n            z-index: 10;\n            line-height: 50px;\n            display: flex;\n            justify-content: space-around;\n\n        }\n        .fake{\n            font-size: 12pt;\n            color: #fbfbfb;\n            background-color: #0b9700;\n            height: 28px;\n            line-height: 28px;\n            width: 80px;\n            cursor: pointer;\n            text-align: center;\n        }\n\n        .tool-box {\n            height: 30px;\n            margin: 0 12px;\n        }\n\n        .search-box {\n            display: flex;\n            position: relative;\n            height: 30px;\n            margin: 12px 12px 8px 12px;\n        }\n\n        .search-box > a {\n            font-size: 10pt;\n            color: #fbfbfb;\n            background-color: #0e60c5;\n            height: 28px;\n            line-height: 28px;\n            width: 80px;\n            cursor: pointer;\n            text-align: center;\n        }\n\n        .offer-list {\n            position: relative;\n        }\n\n        .digest-list {\n            overflow-x: scroll;\n            border-right: 1px solid #ccc;\n            border-top: 1px solid #ccc;\n            background-color: rgb(247,247,247);\n        }\n\n        .pane {\n            float: left;\n            width: 370px;\n            height: 100%;\n            //border-right: 1px solid #ccc;\n        }\n\n        .work-area {\n            float: left;\n            height: calc(100% - 115px);\n            margin-top: 115px;\n            border-top: 1px solid #ccc;\n        }\n\n        .fixed-button {\n            position: fixed;\n            top: 0;\n            left: 0;\n        }\n\n        .inline-select {\n            display: inline-block;\n            height: 20px;\n            padding: 0 15px 0 0;\n            font-size: 14px;\n            color: #666;\n        }\n\n        .button {\n            height: 50px;\n            width: 50px;\n            border-radius: 40px;\n            cursor: pointer;\n            font-size: 11px;\n            line-height: 120px;\n            background-size: cover;\n            background-color: #bcbfc1;\n            color: #807982;\n            border: 2px solid #bcbfc1;\n        }\n\n        .button_active, .button:hover{\n            border-color: #1061c4;\n            background-color: #1061c4;\n        }\n\n        .plus:hover{\n            border-color: #0ea122;\n            background-color: #0ea122;\n        }\n\n        .head{\n            width: 100%;\n            height: 115px;\n            display: flex;\n        }\n\n        .head > span{\n            font-size: 16pt;\n            display: block;\n            margin: 30px 0 0 30px;\n            color: #595a5a;\n        }\n\n        .seen {\n            background-color: #dbe2f0 !important;\n        }\n\n        .modified {\n            background-color: #dff0d8 !important;\n        }\n\n        .src-sel {\n            background-color: #3366cc !important;\n        }\n\n        .suggestions {\n            left: 0px;\n            min-width: 160px;\n            margin-top: 27px;\n            padding: 5px 0;\n            background-color: #f7f7f7;\n            border: 1px solid #e3e3e3;\n            width: 88%;\n            position: absolute;\n            z-index: 2;\n            font-size: 11pt;\n        }\n\n        .suggestions > ul {\n            margin: 0 0;\n            list-style: none;\n            padding: 3px 20px;\n        }\n\n        .suggestions > ul:hover {\n            background: #bbbbbb;\n            cursor: default;\n        }\n\n        .no-mouse-events {\n            pointer-events: none;\n        }\n    "],
        template: "\n        <digest-window *ngIf=\"tab.active\"\n            [open]=\"openPopup\"\n        ></digest-window>\n        <div class = \"round_menu\">\n            <div class=\"button plus\" (click)=\"toggleView()\">\u0432\u044B\u043A\u043B</div>\n            <div class=\"button plus\" [style.background-image]=\"'url(assets/plus.png)'\" (click) =\"addOffer()\">\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C</div>\n            <div (click)=\"toggleSource('import')\" class=\"button\" [class.button_active]=\"this.source != 1\" [style.background-image]=\"'url(assets/base_plus.png)'\">\u041E\u0431\u0449\u0430\u044F</div>\n            <div (click)=\"toggleSource('local')\"  class=\"button\" [class.button_active]=\"this.source == 1\" [style.background-image]=\"'url(assets/base.png)'\">\u041A\u043E\u043C\u043F\u0430\u043D\u0438\u044F</div>\n        </div>\n        <div class=\"search-form\" [class.table-mode]=\"tableMode\">\n\n            <div class=\"search-box\">\n                <input type=\"text\" class=\"\" placeholder=\"\" [style.width]=\"getInputWidth()\" onclick=\"focus()\"\n                    style=\"height: 28px; background-color: rgb(247, 247, 247); border: 1px solid rgba(204, 204, 204, 0.47);\"\n                    [(ngModel)]=\"searchQuery\" (keyup)=\"searchStringChanged($e)\"\n                >\n                <span class=\"icon-search\" style=\"position: absolute; top: 7px;\" [style.right]=\"getSearchPosition()\"></span>\n                <a (click)=\"toggleDraw()\" [hidden]=\"tableMode\">\n                    <span>\u041E\u0431\u0432\u0435\u0441\u0442\u0438</span>\n                </a>\n                <div class=\"suggestions\" (document:click)=\"docClick()\" *ngIf=\"sgList.length > 0\">\n                    <ul *ngFor=\"let item of sgList\" >\n                        <li >\n                            <a (click)=\"select(item)\">{{item}}</a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n            <div class=\"tool-box\">\n\n                <div class=\"pull-left\">\n\n                    <div class=\"inline-select\">\n                        <ui-select class=\"view-value edit-value\"\n                            [options]=\"[\n                                {value: 'sale', label: '\u041F\u0440\u043E\u0434\u0430\u0436\u0430'},\n                                {value: 'rent', label: '\u0410\u0440\u0435\u043D\u0434\u0430'}\n                            ]\"\n                            [value]=\"filter.offerTypeCode\"\n                            [config]=\"{icon: 'icon-square', drawArrow: true}\"\n                            (onChange)=\"filter.offerTypeCode = $event.selected.value; searchParamChanged($event);\"\n                        >\n                        </ui-select>\n                    </div>\n                    <div class=\"inline-select\" *ngIf=\"source == 1\">\n                        <ui-select class=\"view-value edit-value\"\n                            [options]=\"stageCodeOptions\"\n                            [value]=\"filter.stage\"\n                            [config]=\"{icon: 'icon-square', drawArrow: true}\"\n                            (onChange)=\"filter.stageCode = $event.selected.value; searchParamChanged($event);\"\n                        >\n                        </ui-select>\n                    </div>\n                    <div class=\"inline-select\">\n                        <ui-select class=\"view-value edit-value\"\n                            [options]=\"agentOpts\"\n                                [value]=\"filter.agent\"\n                            [config]=\"{icon: 'icon-person', drawArrow: true}\"\n                            (onChange)=\"filter.contactType = $event.selected.value; searchParamChanged($event);\"\n                        >\n                        </ui-select>\n                    </div>\n                    <div class=\"inline-select\" *ngIf=\"source == 1\">\n                        <ui-select class=\"view-value edit-value\"\n                            [options]=\"[\n                                {value: 'all', label: '\u0412\u0441\u0435'},\n                                {value: '1', label: '\u041A\u0440\u0430\u0441\u043D\u044B\u0439', icon: 'icon-circle tag-red'},\n                                {value: '2', label: '\u041E\u0440\u0430\u043D\u0436\u0435\u0432\u044B\u0439', icon: 'icon-circle tag-orange'},\n                                {value: '3', label: '\u0416\u0435\u043B\u0442\u044B\u0439', icon: 'icon-circle tag-yellow'},\n                                {value: '4', label: '\u0417\u0435\u043B\u0435\u043D\u044B\u0439', icon: 'icon-circle tag-green'},\n                                {value: '5', label: '\u0413\u043E\u043B\u0443\u0431\u043E\u0439', icon: 'icon-circle tag-blue'},\n                                {value: '6', label: '\u041B\u0438\u043B\u043E\u0432\u044B\u0439', icon: 'icon-circle tag-violet'},\n                                {value: '7', label: '\u0421\u0435\u0440\u044B\u0439', icon: 'icon-circle tag-gray'}\n                            ]\"\n                            [value]=\"filter.tag\"\n                            [config]=\"{icon: 'icon-tag', drawArrow: true}\"\n                            (onChange)=\"filter.tag = $event.selected.value; searchParamChanged($event);\"\n                        >\n                        </ui-select>\n                    </div>\n                    <div class=\"inline-select\">\n                        <ui-select class=\"view-value edit-value\"\n                            [options]=\"[\n                                {value: '1', label: '1 \u0434\u0435\u043D\u044C'},\n                                {value: '3', label: '3 \u0434\u043D\u044F'},\n                                {value: '7', label: '\u041D\u0435\u0434\u0435\u043B\u044F'},\n                                {value: '14', label: '2 \u043D\u0435\u0434\u0435\u043B\u0438'},\n                                {value: '30', label: '\u041C\u0435\u0441\u044F\u0446'},\n                                {value: '90', label: '3 \u043C\u0435\u0441\u044F\u0446\u0430'},\n                                {value: 'all', label: '\u0412\u0441\u0435'}\n                            ]\"\n                            [value]=\"filter.changeDate\"\n                            [config]=\"{icon: 'icon-month', drawArrow: true}\"\n                            (onChange)=\"filter.changeDate = $event.selected.value; searchParamChanged($event);\"\n                        >\n                        </ui-select>\n                    </div>\n                </div>\n                <div class=\"pull-right\">\n\n                    <span>{{ hitsCount }}</span>/<span>{{ selectedOffers.length }}</span>\n\n\n                    <a (click)=\"toggleMode()\">\n                        <span\n                            [ngClass]=\"{'icon-globus': tableMode, 'icon-table': !tableMode}\"\n                        ></span>\n                    </a>\n                </div>\n            </div>\n        </div>\n\n        <hr class='underline'>\n\n        <offer-table\n            [hidden]=\"!tableMode\"\n            [offers]=\"offers\"\n            [source] = \"source\"\n            [canLoad] = \"canLoad\"\n            [page]=\"page\"\n            (onSort)=\"sortChanged($event)\"\n            (onListEnd)=\"listEndOrStart(1, 1, $event)\"\n            (onSelect)=\"selectedOffers = $event\"\n            (clickMenu) = \"clickMenu($event)\"\n        >\n        </offer-table>\n\n        <div class=\"tab-button fixed-button\" (click)=\"toggleLeftPane()\">\n            <span [ngClass]=\"{'icon-arrow-right': paneHidden, 'icon-arrow-left': !paneHidden}\"></span>\n        </div>\n\n        <div class=\"offer-list\"\n             [hidden]=\"tableMode\"\n             (window:resize)=\"onResize($event)\"\n        >\n            <div class=\"pane\" [hidden]=\"paneHidden\" [style.width.px]=\"paneWidth\">\n                <div class=\"head\"><span>{{tab.header}}</span></div>\n\n                <div class=\"digest-list\"\n                     (scroll)=\"scroll($event)\"\n                     [style.height]=\"paneHeight\"\n                     (contextmenu)=\"tableContextMenu($event)\"\n                >\n\n                    <digest-offer *ngFor=\"let offer of offers; let i = index\"\n                                  [offer]=\"offer\"\n                                style=\"background-color: #fff\"\n                                [class.seen]=\"offer.openDate > timestamp\"\n                                [class.modified]=\"offer.changeDate > timestamp\"\n                                [class.selected]=\"selectedOffers.indexOf(offer) > -1\"\n                                (click)=\"click($event, offer, i)\"\n                                (contextmenu)=\"click($event, offer)\"\n                                (dblclick)=\"dblClick(offer)\"\n                    >\n                    </digest-offer>\n                </div>\n            </div>\n            <div class=\"work-area\" [style.width.px]=\"mapWidth\" [class.no-mouse-events]=\"!tab.active\">\n                <!--<google-map *ngIf=\"tab.active\"\n                    [latitude]=\"lat\"\n                    [longitude]=\"lon\"\n                    [zoom]=\"zoom\"\n                    [objects]=\"offers\"\n                    [selected_objects]=\"selectedOffers\"\n                    [draw_allowed]=\"mapDrawAllowed\"\n                    (drawFinished)=\"finishDraw($event)\"\n                    (markerClicked)=\"markerClick($event)\"\n                >\n                </google-map>-->\n            </div>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["g" /* ElementRef */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["g" /* ElementRef */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["_2" /* ChangeDetectorRef */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["_2" /* ChangeDetectorRef */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__service_hub_service__["a" /* HubService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_1__service_offer_service__["b" /* OfferService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_offer_service__["b" /* OfferService */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_4__service_user_service__["a" /* UserService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__service_user_service__["a" /* UserService */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_2__service_config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__service_config_service__["a" /* ConfigService */]) === "function" && _f || Object, typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_7__service_suggestion_service__["a" /* SuggestionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_7__service_suggestion_service__["a" /* SuggestionService */]) === "function" && _g || Object, typeof (_h = typeof __WEBPACK_IMPORTED_MODULE_11__service_session_service__["a" /* SessionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_11__service_session_service__["a" /* SessionService */]) === "function" && _h || Object, typeof (_j = typeof __WEBPACK_IMPORTED_MODULE_5__service_person_service__["a" /* PersonService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__service_person_service__["a" /* PersonService */]) === "function" && _j || Object, typeof (_k = typeof __WEBPACK_IMPORTED_MODULE_6__service_organisation_service__["a" /* OrganisationService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__service_organisation_service__["a" /* OrganisationService */]) === "function" && _k || Object])
], TabListOfferComponent);

var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;
//# sourceMappingURL=tab-list-offer.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/tab/tab-list-organisation.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_organisation_service__ = __webpack_require__("../../../../../src/app/service/organisation.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__entity_organisation__ = __webpack_require__("../../../../../src/app/entity/organisation.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TabListOrganisationComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var TabListOrganisationComponent = (function () {
    function TabListOrganisationComponent(_configService, _hubService, _organisationService) {
        var _this = this;
        this._configService = _configService;
        this._hubService = _hubService;
        this._organisationService = _organisationService;
        this.searchQuery = "";
        this.isImport = true;
        this.main_menu = true;
        setTimeout(function () {
            _this.tab.header = 'Контрагенты';
        });
    }
    TabListOrganisationComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.tab.refreshRq.subscribe(function (sender) {
            _this.listOrganisation();
        });
        this.listOrganisation();
    };
    TabListOrganisationComponent.prototype.listOrganisation = function () {
        var _this = this;
        this._organisationService.list("").subscribe(function (data) {
            _this.organisations = data;
        }, function (err) { return console.log(err); });
    };
    TabListOrganisationComponent.prototype.addOrganisation = function () {
        var tabSys = this._hubService.getProperty('tab_sys');
        tabSys.addTab('organisation', { organisation: new __WEBPACK_IMPORTED_MODULE_4__entity_organisation__["a" /* Organisation */]() });
    };
    TabListOrganisationComponent.prototype.searchParamChanged = function (event) {
        this.listOrganisation();
    };
    TabListOrganisationComponent.prototype.scroll = function (e) {
        if (e.currentTarget.scrollTop + e.currentTarget.clientHeight >= e.currentTarget.scrollHeight) {
        }
    };
    TabListOrganisationComponent.prototype.getImage = function (s) {
        if (s == 'local') {
            if (this.isImport)
                return "url(assets/base.png)";
            else
                return "url(assets/base_color.png)";
        }
        else {
            if (this.isImport)
                return "url(assets/base_plus_color.png)";
            else
                return "url(assets/base_plus.png)";
        }
    };
    return TabListOrganisationComponent;
}());
TabListOrganisationComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'tab-list-organisation',
        inputs: ['tab'],
        styles: ["\n        .underline{\n            margin: 0;\n            border: 2px solid;\n            margin-top: 16px;\n            color: #8F5128;\n        }\n        .search-form {\n            background: #fff;\n            z-index: 1;\n            width: 38%;\n            margin-left: 610px;\n            margin-top: 27px;\n        }\n\n        .tool-box {\n            height: 30px;\n            margin: 0 12px;\n        }\n\n        .round_menu{\n            width: 170;\n            height: 50px;\n            position: absolute;\n            left: 450px;\n            top: 15px;\n            text-align: center;\n            z-index: 10;\n            line-height: 50px;\n            display: flex;\n            justify-content: space-around;\n        }\n\n        .search-box {\n            position: relative;\n            margin: 12px 12px 8px 12px;\n        }\n\n        .organisation-list-wrapper {\n            padding-top: 25px;\n            max-width: 1200px;\n            margin: 0 auto;\n            height: 100%;\n            width: 100%;\n        }\n\n        .scroll-wrapper {\n            height: calc(100% - 115px);\n            overflow-y: auto;\n        }\n\n        .inline-select {\n            display: inline-block;\n            height: 20px;\n            padding: 0 15px;\n            font-size: 14px;\n            color: #666;\n        }\n\n        .button {\n            height: 50px;\n            width: 50px;\n            border-radius: 40px;\n            cursor: pointer;\n            font-size: 11px;\n            line-height: 120px;\n            background-size: cover;\n            background-color: #bcbfc1;\n            color: #807982;\n            border: 2px solid #bcbfc1;\n        }\n\n        .button_active, .button:hover{\n            border-color: #1061c4;\n            background-color: #1061c4;\n        }\n\n        .plus:hover{\n            border-color: #0ea122;\n            background-color: #0ea122;\n        }\n    "],
        template: "\n        <div class=\"header-label-abs\">{{ tab.header }}</div>\n        <div class = \"round_menu\">\n            <div class=\"button plus\" [style.background-image]=\"'url(assets/plus.png)'\"  (click) =\"addOrganisation()\">\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C</div>\n            <div (click)=\"this.main_menu = true\"   class=\"button\"  [class.button_active]=\"this.main_menu\" [style.background-image]=\"'url(assets/base_plus.png)'\">\u041E\u0431\u0449\u0430\u044F</div>\n            <div (click)=\"this.main_menu = false\"  class=\"button\" [class.button_active]=\"!this.main_menu\" [style.background-image]=\"'url(assets/base.png)'\">\u041A\u043E\u043C\u043F\u0430\u043D\u0438\u044F</div>\n        </div>\n        <div class=\"search-form\" [class.table-mode]=\"tableMode\">\n            <div class=\"search-box\">\n                <input type=\"text\" class=\"\" placeholder=\"\" style=\"height: 28px; width: 100%;\n                background-color: rgb(247, 247, 247); border: 1px solid rgba(204, 204, 204, 0.47);\"\n                    [(ngModel)]=\"searchQuery\" (keyup)=\"searchParamChanged($event)\"\n                >\n                <span class=\"icon-search\" style=\"position: absolute; right: 12px; top: 7px;\"></span>\n            </div>\n            <div class=\"tool-box\">\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 0, label: '\u0412\u0441\u0435'},\n                            {value: 1, label: '\u041A\u0440\u0430\u0441\u043D\u044B\u0439', icon: 'icon-circle tag-red'},\n                            {value: 2, label: '\u041E\u0440\u0430\u043D\u0436\u0435\u0432\u044B\u0439', icon: 'icon-circle tag-orange'},\n                            {value: 3, label: '\u0416\u0435\u043B\u0442\u044B\u0439', icon: 'icon-circle tag-yellow'},\n                            {value: 4, label: '\u0417\u0435\u043B\u0435\u043D\u044B\u0439', icon: 'icon-circle tag-green'},\n                            {value: 5, label: '\u0413\u043E\u043B\u0443\u0431\u043E\u0439', icon: 'icon-circle tag-blue'},\n                            {value: 6, label: '\u041B\u0438\u043B\u043E\u0432\u044B\u0439', icon: 'icon-circle tag-violet'},\n                            {value: 7, label: '\u0421\u0435\u0440\u044B\u0439', icon: 'icon-circle tag-gray'}\n                        ]\"\n                        [value]=\"0\"\n                        [config]=\"{icon: 'icon-tag', drawArrow: true}\"\n                    >\n                    </ui-select>\n                </div>\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 1, label: '1 \u0434\u0435\u043D\u044C'},\n                            {value: 2, label: '3 \u0434\u043D\u044F'},\n                            {value: 3, label: '\u041D\u0435\u0434\u0435\u043B\u044F'},\n                            {value: 4, label: '2 \u043D\u0435\u0434\u0435\u043B\u0438'},\n                            {value: 5, label: '\u041C\u0435\u0441\u044F\u0446'},\n                            {value: 6, label: '3 \u043C\u0435\u0441\u044F\u0446\u0430'},\n                            {value: 7, label: '\u0412\u0441\u0435'}\n                        ]\"\n                        [value]=\"6\"\n                        [config]=\"{icon: 'icon-month', drawArrow: true}\"\n                    >\n                    </ui-select>\n                </div>\n            </div>\n        </div>\n        <hr class='underline'>\n        <div class=\"organisation-list-wrapper\">\n            <div class=\"scroll-wrapper\">\n\n                <digest-organisation\n                    *ngFor=\"let o of organisations\"\n                    [organisation]=\"o\"\n                >\n                </digest-organisation>\n            </div>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__service_config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__service_config_service__["a" /* ConfigService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__service_organisation_service__["a" /* OrganisationService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__service_organisation_service__["a" /* OrganisationService */]) === "function" && _c || Object])
], TabListOrganisationComponent);

var _a, _b, _c;
//# sourceMappingURL=tab-list-organisation.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/tab/tab-list-person.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_person_service__ = __webpack_require__("../../../../../src/app/service/person.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__entity_person__ = __webpack_require__("../../../../../src/app/entity/person.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_user_service__ = __webpack_require__("../../../../../src/app/service/user.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TabListPersonComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var TabListPersonComponent = (function () {
    function TabListPersonComponent(_configService, _hubService, _personService, _userService) {
        var _this = this;
        this._configService = _configService;
        this._hubService = _hubService;
        this._personService = _personService;
        this._userService = _userService;
        this.searchQuery = "";
        this.agentOpts = [{
                value: 0,
                label: '-'
            }];
        this.main_menu = true;
        this.isImport = true;
        setTimeout(function () {
            _this.tab.header = 'Контакты';
        });
    }
    TabListPersonComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.tab.refreshRq.subscribe(function (sender) {
            _this.listPersons();
        });
        this.listPersons();
        this._userService.list(null, null, "").subscribe(function (agents) {
            for (var i = 0; i < agents.length; i++) {
                var a = agents[i];
                _this.agentOpts.push({
                    value: a.id,
                    label: a.name
                });
            }
        });
    };
    TabListPersonComponent.prototype.listPersons = function () {
        var _this = this;
        this._personService.list(this.userId, null, this.searchQuery).subscribe(function (data) {
            _this.persons = data;
        }, function (err) { return console.log(err); });
    };
    TabListPersonComponent.prototype.addPerson = function () {
        var tab_sys = this._hubService.getProperty('tab_sys');
        tab_sys.addTab('person', { person: new __WEBPACK_IMPORTED_MODULE_4__entity_person__["a" /* Person */]() });
    };
    TabListPersonComponent.prototype.searchParamChanged = function () {
        this.listPersons();
    };
    TabListPersonComponent.prototype.scroll = function (e) {
        if (e.currentTarget.scrollTop + e.currentTarget.clientHeight >= e.currentTarget.scrollHeight) {
            this.listPersons();
        }
    };
    TabListPersonComponent.prototype.getImage = function (s) {
        if (s == 'local') {
            if (this.isImport)
                return "url(assets/base.png)";
            else
                return "url(assets/base_color.png)";
        }
        else {
            if (this.isImport)
                return "url(assets/base_plus_color.png)";
            else
                return "url(assets/base_plus.png)";
        }
    };
    return TabListPersonComponent;
}());
TabListPersonComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'tab-list-person',
        inputs: ['tab'],
        styles: ["\n        .underline{\n            margin: 0;\n            border: 2px solid;\n            margin-top: 16px;\n            color: rgb(61, 155, 233);\n        }\n        .search-form {\n            background: #fff;\n            z-index: 1;\n            width: 38%;\n            margin-left: 610px;\n            margin-top: 27px;\n        }\n\n        .tool-box {\n            height: 30px;\n            margin: 0 12px;\n        }\n\n        .round_menu{\n            width: 170;\n            height: 50px;\n            position: absolute;\n            left: 450px;\n            top: 15px;\n            text-align: center;\n            z-index: 10;\n            line-height: 50px;\n            display: flex;\n            justify-content: space-around;\n        }\n\n        .search-box {\n            position: relative;\n            margin: 12px 12px 8px 12px;\n        }\n\n        .person-list-wrapper {\n            padding-top: 25px;\n            max-width: 1200px;\n            margin: 0 auto;\n            height: 100%;\n            width: 100%;\n        }\n\n        .scroll-wrapper {\n            height: calc(100% - 115px);\n            overflow-y: auto;\n        }\n\n        .inline-select {\n            display: inline-block;\n            height: 20px;\n            padding: 0 15px;\n            font-size: 14px;\n            color: #666;\n        }\n\n        .button {\n            height: 50px;\n            width: 50px;\n            border-radius: 40px;\n            cursor: pointer;\n            font-size: 11px;\n            line-height: 120px;\n            background-size: cover;\n            background-color: #bcbfc1;\n            color: #807982;\n            border: 2px solid #bcbfc1;\n        }\n\n        .button_active, .button:hover{\n            border-color: #1061c4;\n            background-color: #1061c4;\n        }\n\n        .plus:hover{\n            border-color: #0ea122;\n            background-color: #0ea122;\n        }\n\n    "],
        template: "\n        <div class=\"header-label-abs\">{{ tab.header }}</div>\n        <div class = \"round_menu\">\n            <div class=\"button plus\" [style.background-image]=\"'url(assets/plus.png)'\"  (click)=\"addPerson()\">\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C</div>\n            <div (click)=\"this.main_menu = true\"   class=\"button\"  [class.button_active]=\"this.main_menu\" [style.background-image]=\"'url(assets/base_plus.png)'\">\u041E\u0431\u0449\u0430\u044F</div>\n            <div (click)=\"this.main_menu = false\"  class=\"button\" [class.button_active]=\"!this.main_menu\" [style.background-image]=\"'url(assets/base.png)'\">\u041A\u043E\u043C\u043F\u0430\u043D\u0438\u044F</div>\n        </div>\n        <div class=\"search-form\" [class.table-mode]=\"tableMode\">\n            <div class=\"search-box\">\n                <input type=\"text\" class=\"\" placeholder=\"\" style=\"height: 28px; width: 100%;\n                background-color: rgb(247, 247, 247); border: 1px solid rgba(204, 204, 204, 0.47);\"\n                    [(ngModel)]=\"searchQuery\" (keyup)=\"searchParamChanged($event)\"\n                >\n                <span class=\"icon-search\" style=\"position: absolute; right: 12px; top: 7px;\"></span>\n            </div>\n            <div class=\"tool-box\">\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"agentOpts\"\n                        [value]=\"0\"\n                        [config]=\"{icon: 'icon-person', drawArrow: true}\"\n                        (onChange)=\"userId = $event.selected.value; searchParamChanged()\"\n                    >\n                    </ui-select>\n                </div>\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 0, label: '\u0412\u0441\u0435'},\n                            {value: 1, label: '\u041A\u0440\u0430\u0441\u043D\u044B\u0439', icon: 'icon-circle tag-red'},\n                            {value: 2, label: '\u041E\u0440\u0430\u043D\u0436\u0435\u0432\u044B\u0439', icon: 'icon-circle tag-orange'},\n                            {value: 3, label: '\u0416\u0435\u043B\u0442\u044B\u0439', icon: 'icon-circle tag-yellow'},\n                            {value: 4, label: '\u0417\u0435\u043B\u0435\u043D\u044B\u0439', icon: 'icon-circle tag-green'},\n                            {value: 5, label: '\u0413\u043E\u043B\u0443\u0431\u043E\u0439', icon: 'icon-circle tag-blue'},\n                            {value: 6, label: '\u041B\u0438\u043B\u043E\u0432\u044B\u0439', icon: 'icon-circle tag-violet'},\n                            {value: 7, label: '\u0421\u0435\u0440\u044B\u0439', icon: 'icon-circle tag-gray'}\n                        ]\"\n                        [value]=\"0\"\n                        [config]=\"{icon: 'icon-tag', drawArrow: true}\"\n                    >\n                    </ui-select>\n                </div>\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 1, label: '1 \u0434\u0435\u043D\u044C'},\n                            {value: 2, label: '3 \u0434\u043D\u044F'},\n                            {value: 3, label: '\u041D\u0435\u0434\u0435\u043B\u044F'},\n                            {value: 4, label: '2 \u043D\u0435\u0434\u0435\u043B\u0438'},\n                            {value: 5, label: '\u041C\u0435\u0441\u044F\u0446'},\n                            {value: 6, label: '3 \u043C\u0435\u0441\u044F\u0446\u0430'},\n                            {value: 7, label: '\u0412\u0441\u0435'}\n                        ]\"\n                        [value]=\"6\"\n                        [config]=\"{icon: 'icon-month', drawArrow: true}\"\n                    >\n                    </ui-select>\n                </div>\n            </div>\n        </div>\n        <hr class='underline'>\n        <div class=\"person-list-wrapper\">\n            <div class=\"scroll-wrapper\">\n                <digest-person *ngFor=\"let p of persons\"\n                    [person]=\"p\"\n                >\n                </digest-person>\n            </div>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__service_config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__service_config_service__["a" /* ConfigService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__service_person_service__["a" /* PersonService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__service_person_service__["a" /* PersonService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_5__service_user_service__["a" /* UserService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__service_user_service__["a" /* UserService */]) === "function" && _d || Object])
], TabListPersonComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=tab-list-person.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/tab/tab-list-request.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_request_service__ = __webpack_require__("../../../../../src/app/service/request.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__entity_request__ = __webpack_require__("../../../../../src/app/entity/request.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_user_service__ = __webpack_require__("../../../../../src/app/service/user.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TabListRequestComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var TabListRequestComponent = (function () {
    function TabListRequestComponent(_configService, _hubService, _requerstService, _userService) {
        var _this = this;
        this._configService = _configService;
        this._hubService = _hubService;
        this._requerstService = _requerstService;
        this._userService = _userService;
        this.isImport = false;
        this.searchQuery = "";
        this.offerTypeCode = 'sale';
        this.page = 0;
        this.perPage = 32;
        this.main_menu = true;
        this.filter = {
            agentId: 'all',
            stageCode: 'all',
            tag: 'all',
            changeDate: 90,
            offerTypeCode: 'sale',
        };
        this.stageCodeOptions = [
            { value: 'all', label: 'Все' },
            { value: 'raw', label: 'Не активен' },
            { value: 'active', label: 'Активен' },
            { value: 'listing', label: 'Листинг' },
            { value: 'deal', label: 'Сделка' },
            { value: 'suspended', label: 'Приостановлен' },
            { value: 'archive', label: 'Архив' }
        ];
        this.sort = {};
        this.agentOpts = [];
        setTimeout(function () {
            _this.tab.header = 'Заявки';
        });
    }
    TabListRequestComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.tab.refreshRq.subscribe(function (sender) {
            _this.listRequests();
        });
        this.agentOpts.push({ value: 'all', label: 'Все заявки', bold: true });
        this.agentOpts.push({ value: 'my', label: 'Мои заявки', bold: true });
        this._userService.list(null, null, "").subscribe(function (agents) {
            for (var i = 0; i < agents.length; i++) {
                var a = agents[i];
                _this.agentOpts.push({
                    value: '' + a.id,
                    label: a.name
                });
            }
        });
        this.listRequests();
    };
    TabListRequestComponent.prototype.listRequests = function () {
        var _this = this;
        this._requerstService.list(this.page, this.perPage, this.filter.offerTypeCode, this.filter.stageCode, this.filter.agentId, null, this.searchQuery).subscribe(function (data) {
            _this.requests = data;
        }, function (err) { return console.log(err); });
    };
    TabListRequestComponent.prototype.addRequest = function () {
        var tab_sys = this._hubService.getProperty('tab_sys');
        var r = new __WEBPACK_IMPORTED_MODULE_3__entity_request__["a" /* Request */]();
        r.offerTypeCode = this.filter.offerTypeCode;
        tab_sys.addTab('request', { request: r });
    };
    TabListRequestComponent.prototype.searchParamChanged = function () {
        this.page = 0;
        this.listRequests();
    };
    TabListRequestComponent.prototype.scroll = function (e) {
        if (e.currentTarget.scrollTop + e.currentTarget.clientHeight >= e.currentTarget.scrollHeight) {
            this.listRequests();
        }
    };
    TabListRequestComponent.prototype.getImage = function (s) {
        if (s == 'local') {
            if (this.isImport)
                return "url(assets/base.png)";
            else
                return "url(assets/base_color.png)";
        }
        else {
            if (this.isImport)
                return "url(assets/base_plus_color.png)";
            else
                return "url(assets/base_plus.png)";
        }
    };
    return TabListRequestComponent;
}());
TabListRequestComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'tab-list-request',
        inputs: ['tab'],
        styles: ["\n        .search-form {\n            background: #fff;\n            z-index: 1;\n            width: 38%;\n            margin-left: 610;\n            margin-top: 27px;\n        }\n\n        .tool-box {\n            height: 30px;\n            margin: 0 12px;\n        }\n\n        .round_menu{\n            width: 170px;\n            height: 50px;\n            position: absolute;\n            left: 450;\n            top: 15px;\n            text-align: center;\n            z-index: 10;\n            line-height: 50px;\n            display: flex;\n            justify-content: space-around;\n        }\n\n        .search-box {\n            position: relative;\n            margin: 12px;\n            margin-bottom: 8px;\n        }\n\n        .request-list-wrapper {\n            padding-top: 25px;\n            max-width: 1200px;\n            margin: 0 auto;\n            height: 100%;\n            width: 100%;\n        }\n\n        .scroll-wrapper {\n            height: calc(100% - 115px);\n            overflow-y: auto;\n        }\n\n        .inline-select {\n            display: inline-block;\n            height: 20px;\n            padding: 0 15px;\n            font-size: 14px;\n            color: #666;\n        }\n\n        .button {\n            height: 50px;\n            width: 50px;\n            border-radius: 40px;\n            cursor: pointer;\n            font-size: 11px;\n            line-height: 120px;\n            background-size: cover;\n            background-color: #bcbfc1;\n            color: #807982;\n            border: 2px solid #bcbfc1;\n        }\n\n        .button_active, .button:hover{\n            border-color: #1061c4;\n            background-color: #1061c4;\n        }\n\n        .plus:hover{\n            border-color: #0ea122;\n            background-color: #0ea122;\n        }\n    "],
        template: "\n        <div class=\"header-label-abs\">{{ tab.header }}</div>\n        <div class = \"round_menu\">\n            <div class=\"button plus\" [style.background-image]=\"'url(assets/plus.png)'\"  (click) =\"addRequest()\">\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C</div>\n            <div (click)=\"this.main_menu = true\"   class=\"button\"  [class.button_active]=\"this.main_menu\" [style.background-image]=\"'url(assets/base_plus.png)'\">\u041E\u0431\u0449\u0430\u044F</div>\n            <div (click)=\"this.main_menu = false\"  class=\"button\" [class.button_active]=\"!this.main_menu\" [style.background-image]=\"'url(assets/base.png)'\">\u041A\u043E\u043C\u043F\u0430\u043D\u0438\u044F</div>\n        </div>\n\n        <div class=\"search-form\" [class.table-mode]=\"tableMode\">\n            <div class=\"search-box\">\n                <input type=\"text\" class=\"\" placeholder=\"\" style=\"height: 28px; width: 100%;\n                background-color: rgb(247, 247, 247); border: 1px solid rgba(204, 204, 204, 0.47);\"\n                    [(ngModel)]=\"searchQuery\" (keyup)=\"searchParamChanged($event)\"\n                >\n                <span class=\"icon-search\" style=\"position: absolute; right: 12px; top: 7px;\"></span>\n            </div>\n            <div class=\"tool-box\">\n\n            <div class=\"inline-select\">\n                <ui-select class=\"view-value edit-value\"\n                    [options] = \"[\n                        {value: 'sale', label: '\u041F\u0440\u043E\u0434\u0430\u0436\u0430'},\n                        {value: 'rent', label: '\u0410\u0440\u0435\u043D\u0434\u0430'}\n                    ]\"\n                    [value]=\"filter.offerTypeCode\"\n                    [config]=\"{icon: 'icon-', draw_arrow: true}\"\n                    (onChange)=\"filter.offerTypeCode = $event.selected.value; searchParamChanged();\"\n                    >\n                </ui-select>\n            </div>\n\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options]=\"stageCodeOptions\"\n                        [value]=\"filter.stage\"\n                        [config]=\"{icon: 'icon-square', drawArrow: true}\"\n                        (onChange)=\"filter.stageCode = $event.selected.value; searchParamChanged();\"\n                    >\n                    </ui-select>\n                </div>\n\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options]=\"agentOpts\"\n                        [value]=\"filter.agent\"\n                        [config]=\"{icon: 'icon-person', drawArrow: true}\"\n                        (onChange)=\"filter.agentId = $event.selected.value; searchParamChanged();\"\n                    >\n                    </ui-select>\n                </div>\n\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 0, label: '\u0412\u0441\u0435'},\n                            {value: 1, label: '\u041A\u0440\u0430\u0441\u043D\u044B\u0439', icon: 'icon-circle tag-red'},\n                            {value: 2, label: '\u041E\u0440\u0430\u043D\u0436\u0435\u0432\u044B\u0439', icon: 'icon-circle tag-orange'},\n                            {value: 3, label: '\u0416\u0435\u043B\u0442\u044B\u0439', icon: 'icon-circle tag-yellow'},\n                            {value: 4, label: '\u0417\u0435\u043B\u0435\u043D\u044B\u0439', icon: 'icon-circle tag-green'},\n                            {value: 5, label: '\u0413\u043E\u043B\u0443\u0431\u043E\u0439', icon: 'icon-circle tag-blue'},\n                            {value: 6, label: '\u041B\u0438\u043B\u043E\u0432\u044B\u0439', icon: 'icon-circle tag-violet'},\n                            {value: 7, label: '\u0421\u0435\u0440\u044B\u0439', icon: 'icon-circle tag-gray'}\n                        ]\"\n                        [value]=\"0\"\n                        [config]=\"{icon: 'icon-tag', draw_arrow: true}\"\n                        (onChange)=\"searchParamChanged();\"\n                        >\n                    </ui-select>\n                </div>\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 1, label: '1 \u0434\u0435\u043D\u044C'},\n                            {value: 2, label: '3 \u0434\u043D\u044F'},\n                            {value: 3, label: '\u041D\u0435\u0434\u0435\u043B\u044F'},\n                            {value: 4, label: '2 \u043D\u0435\u0434\u0435\u043B\u0438'},\n                            {value: 5, label: '\u041C\u0435\u0441\u044F\u0446'},\n                            {value: 6, label: '3 \u043C\u0435\u0441\u044F\u0446\u0430'},\n                            {value: 7, label: '\u0412\u0441\u0435'}\n                        ]\"\n                        [value]=\"6\"\n                        [config]=\"{icon: 'icon-month', drawArrow: true}\"\n                        (onChange)=\"searchParamChanged();\"\n                    >\n                    </ui-select>\n                </div>\n            </div>\n        </div>\n        <div class=\"request-list-wrapper\">\n            <div class=\"scroll-wrapper\" (scroll)=\"scroll($event)\">\n                <digest-request\n                    *ngFor=\"let r of requests\"\n                    [request]=\"r\"\n                >\n                </digest-request>\n            </div>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__service_config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_config_service__["a" /* ConfigService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_4__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__service_hub_service__["a" /* HubService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_2__service_request_service__["a" /* RequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__service_request_service__["a" /* RequestService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_5__service_user_service__["a" /* UserService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__service_user_service__["a" /* UserService */]) === "function" && _d || Object])
], TabListRequestComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=tab-list-request.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/tab/tab-list-user.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_user_service__ = __webpack_require__("../../../../../src/app/service/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__entity_user__ = __webpack_require__("../../../../../src/app/entity/user.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TabListUserComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var TabListUserComponent = (function () {
    function TabListUserComponent(_configService, _hubService, _userService) {
        var _this = this;
        this._configService = _configService;
        this._hubService = _hubService;
        this._userService = _userService;
        this.isImport = false;
        this.main_menu = true;
        this.superiorOpts = [{
                value: 0,
                label: '-'
            }];
        setTimeout(function () { _this.tab.header = 'Пользователи'; });
    }
    TabListUserComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.tab.refreshRq.subscribe(function (sender) {
            _this.listUsers();
        });
        this.listUsers();
        this._userService.list("MANAGER", null, "").subscribe(function (managers) {
            for (var _i = 0, managers_1 = managers; _i < managers_1.length; _i++) {
                var m = managers_1[_i];
                _this.superiorOpts.push({
                    value: m.id,
                    label: m.name
                });
            }
        });
    };
    TabListUserComponent.prototype.listUsers = function () {
        var _this = this;
        this._userService.list(this.role, this.superiorId, this.searchQuery).subscribe(function (data) {
            _this.users = data;
        }, function (err) { return console.log(err); });
    };
    TabListUserComponent.prototype.addUser = function () {
        var tab_sys = this._hubService.getProperty('tab_sys');
        tab_sys.addTab('user', { user: new __WEBPACK_IMPORTED_MODULE_4__entity_user__["a" /* User */]() });
    };
    TabListUserComponent.prototype.searchParamChanged = function () {
        var _this = this;
        this._userService.list(this.role, this.superiorId, this.searchQuery).subscribe(function (users) {
            _this.users = users;
        });
    };
    TabListUserComponent.prototype.getImage = function (s) {
        if (s == 'local') {
            if (this.isImport)
                return "url(assets/main_offers.png)";
            else
                return "url(assets/main_offers_color.png)";
        }
        else {
            if (this.isImport)
                return "url(assets/main_offers_color.png)";
            else
                return "url(assets/main_offers.png)";
        }
    };
    return TabListUserComponent;
}());
TabListUserComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'tab-list-user',
        inputs: ['tab'],
        styles: ["\n        .underline{\n            margin: 0;\n            border: 2px solid;\n            margin-top: 16px;\n            color: #0b9700;\n        }\n\n        .search-form {\n            background: #fff;\n            z-index: 1;\n            width: 38%;\n            margin-left: 610px;\n            margin-top: 27px;\n        }\n\n        .tool-box {\n            height: 30px;\n            margin: 0 12px;\n        }\n\n        .round_menu{\n            width: 170;\n            height: 50px;\n            position: absolute;\n            left: 450px;\n            top: 15px;\n            text-align: center;\n            z-index: 10;\n            line-height: 50px;\n            display: flex;\n            justify-content: space-around;\n        }\n\n        .search-box {\n            position: relative;\n            margin: 12px 12px 8px 12px;\n        }\n\n        .user-list-wrapper {\n            padding-top: 25px;\n            max-width: 1200px;\n            margin: 0 auto;\n            height: calc(100vh - 23px);\n            width: 100%;\n        }\n\n        .scroll-wrapper {\n            height: calc(100% - 115px);\n            overflow-y: auto;\n        }\n\n        .inline-select {\n            display: inline-block;\n            height: 20px;\n            padding: 0 15px;\n            font-size: 14px;\n            color: #666;\n        }\n\n        .button {\n            height: 50px;\n            width: 50px;\n            border-radius: 40px;\n            cursor: pointer;\n            font-size: 11px;\n            line-height: 120px;\n            background-size: cover;\n            background-color: #bcbfc1;\n            color: #807982;\n            border: 2px solid #bcbfc1;\n        }\n\n        .button_active, .button:hover{\n            border-color: #1061c4;\n            background-color: #1061c4;\n        }\n\n        .plus:hover{\n            border-color: #0ea122;\n            background-color: #0ea122;\n        }\n\n    "],
        template: "\n        <div class=\"header-label-abs\">{{ tab.header }}</div>\n        <div class = \"round_menu\">\n            <div class=\"button plus\" [style.background-image]=\"'url(assets/plus.png)'\"  (click) =\"addUser()\">\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C</div>\n            <div (click)=\"this.main_menu = true\"   class=\"button\"  [class.button_active]=\"this.main_menu\" [style.background-image]=\"'url(assets/main_offers.png)'\">\u0413\u043B\u0430\u0432\u043D\u0430\u044F</div>\n            <div (click)=\"this.main_menu = false\"  class=\"button\"  [class.button_active]=\"!this.main_menu\" [style.background-image]=\"'url(assets/analitic.png)'\">\u0410\u043D\u0430\u043B\u0438\u0442\u0438\u043A\u0430</div>\n        </div>\n        <div class=\"search-form\" [class.table-mode]=\"tableMode\">\n            <div class=\"search-box\">\n                <input type=\"text\" class=\"\" placeholder=\"\" style=\"height: 28px; width: 100%;\n                background-color: rgb(247, 247, 247); border: 1px solid rgba(204, 204, 204, 0.47);\"\n                    [(ngModel)]=\"searchQuery\" (keyup)=\"searchParamChanged($event)\"\n                >\n                <span class=\"icon-search\" style=\"position: absolute; right: 12px; top: 7px;\"></span>\n            </div>\n            <div class=\"tool-box\">\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"superiorOpts\"\n                        [value]=\"0\"\n                        [config]=\"{icon: 'icon-person', drawArrow: true}\"\n                        (onChange)=\"superiorId = $event.selected.value; searchParamChanged()\"\n                    >\n                    </ui-select>\n                </div>\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: '', label: '\u0412\u0441\u0435'},\n                            {value: 'AGENT', label: '\u0410\u0433\u0435\u043D\u0442'},\n                            {value: 'MANAGER', label: '\u041C\u0435\u043D\u0435\u0434\u0436\u0435\u0440'},\n                            {value: 'TOP', label: '\u0422\u043E\u043F'}\n                        ]\"\n                        [value]=\"''\"\n                        [config]=\"{icon: 'icon-person', drawArrow: true}\"\n                        (onChange)=\"role = $event.selected.value; searchParamChanged()\"\n                    >\n                    </ui-select>\n                </div>\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 0, label: '\u0412\u0441\u0435'},\n                            {value: 1, label: '\u041A\u0440\u0430\u0441\u043D\u044B\u0439', icon: 'icon-circle tag-red'},\n                            {value: 2, label: '\u041E\u0440\u0430\u043D\u0436\u0435\u0432\u044B\u0439', icon: 'icon-circle tag-orange'},\n                            {value: 3, label: '\u0416\u0435\u043B\u0442\u044B\u0439', icon: 'icon-circle tag-yellow'},\n                            {value: 4, label: '\u0417\u0435\u043B\u0435\u043D\u044B\u0439', icon: 'icon-circle tag-green'},\n                            {value: 5, label: '\u0413\u043E\u043B\u0443\u0431\u043E\u0439', icon: 'icon-circle tag-blue'},\n                            {value: 6, label: '\u041B\u0438\u043B\u043E\u0432\u044B\u0439', icon: 'icon-circle tag-violet'},\n                            {value: 7, label: '\u0421\u0435\u0440\u044B\u0439', icon: 'icon-circle tag-gray'}\n                        ]\"\n                        [value]=\"0\"\n                        [config]=\"{icon: 'icon-tag', drawArrow: true}\"\n                    >\n                    </ui-select>\n                </div>\n            </div>\n        </div>\n        <hr class='underline'>\n         <div class=\"user-list-wrapper\">\n            <div class=\"scroll-wrapper\">\n\n                <digest-user *ngFor=\"let u of users\"\n                    [user]=\"u\"\n                >\n                </digest-user>\n            </div>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__service_config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__service_config_service__["a" /* ConfigService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__service_user_service__["a" /* UserService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__service_user_service__["a" /* UserService */]) === "function" && _c || Object])
], TabListUserComponent);

var _a, _b, _c;
//# sourceMappingURL=tab-list-user.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/tab/tab-main.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_session_service__ = __webpack_require__("../../../../../src/app/service/session.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TabMainComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var TabMainComponent = (function () {
    function TabMainComponent(_sessionService) {
        var _this = this;
        this._sessionService = _sessionService;
        setTimeout(function () { _this.tab.header = 'new tab'; });
        this.user = _sessionService.user;
    }
    TabMainComponent.prototype.turnTo = function (tabType, arg) {
        this.tab.reborn(tabType, arg);
    };
    TabMainComponent.prototype.logout = function () {
        this._sessionService.logout();
    };
    return TabMainComponent;
}());
TabMainComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'tab-main',
        inputs: ['tab'],
        styles: ["\n        .tile-board {\n            height: 100%;\n            position: relative;\n            overflow: hidden;\n            background-color: #062141;\n        }\n\n        .tile-group {\n            margin-left: 80px;\n            min-width: 80px;\n            max-width: 640px;\n            width: auto;\n            float: left;\n            display: block;\n            padding-top: 40px;\n            position: relative;\n        }\n\n        .tile-group .tile-group-title {\n            color: #ffffff;\n            font-size: 18px;\n            line-height: 20px;\n            position: absolute;\n            top: 10px;\n            left: 0;\n        }\n\n        .user-badge {\n            color: #eeeeee;\n        }\n    "],
        template: "\n        <div class=\"tile-board\" style=\"\">\n\n            <div class=\"user-badge\">\n                <span> {{ (user | async)?.login }} </span>  <span (click)=\"logout()\"> \u0432\u044B\u0439\u0442\u0438 </span>\n            </div>\n\n            <div class=\"tile-group\">\n                <span class=\"tile-group-title\">\u0413\u0440\u0443\u043F\u043F\u04301</span>\n                <div class=\"tile bg-darkBlue fg-white\" (click)=\"turnTo('list_offer', {})\">\n                    <div class=\"tile-content iconic\">\n                        <span class=\"icon icon-home\"></span>\n                    </div>\n                    <span class=\"tile-label\">\u041D\u0435\u0434\u0432\u0438\u0436\u0438\u043C\u043E\u0441\u0442\u044C</span>\n                </div>\n\n                <div class=\"tile bg-green fg-white\" (click)=\"turnTo('list_request', {})\">\n                    <div class=\"tile-content iconic\">\n                        <span class=\"icon icon-req-list\"></span>\n                    </div>\n                    <span class=\"tile-label\">\u0417\u0430\u044F\u0432\u043A\u0438</span>\n                </div>\n            </div>\n            <div class=\"tile-group\">\n                <span class=\"tile-group-title\">\u0413\u0440\u0443\u043F\u043F\u04302</span>\n                <div class=\"tile bg-amber fg-white\" (click)=\"turnTo('daily', {})\">\n                    <div class=\"tile-content iconic\">\n                        <span class=\"icon icon-month\"></span>\n                    </div>\n                    <span class=\"tile-label\">\u0415\u0436\u0435\u0434\u043D\u0435\u0432\u043D\u0438\u043A</span>\n                </div>\n\n                <div class=\"tile bg-ggreen fg-white\">\n                    <div class=\"tile-content iconic\">\n                        <span class=\"icon icon-deal\"></span>\n                    </div>\n                    <span class=\"tile-label\">\u0414\u043E\u0433\u043E\u0432\u043E\u0440\u044B</span>\n                </div>\n\n                <div class=\"tile bg-indigo fg-white\" (click)=\"turnTo('list_person', {})\">\n                    <div class=\"tile-content iconic\">\n                        <span class=\"icon icon-contact\"></span>\n                    </div>\n                    <span class=\"tile-label\">\u041A\u043E\u043D\u0442\u0430\u043A\u0442\u044B</span>\n                </div>\n\n                <div class=\"tile bg-teal fg-white\" (click)=\"turnTo('list_organisation', {})\">\n                    <div class=\"tile-content iconic\">\n                        <span class=\"icon icon-organisation\"></span>\n                    </div>\n                    <span class=\"tile-label\">\u041A\u043E\u043D\u0442\u0440\u0430\u0433\u0435\u043D\u0442\u044B</span>\n                </div>\n\n                <div class=\"tile bg-teal fg-white\">\n                    <div class=\"tile-content iconic\">\n                        <span class=\"icon icon-settings\"></span>\n                    </div>\n                    <span class=\"tile-label\">\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438</span>\n                </div>\n\n                <div class=\"tile bg-teal fg-white\" (click)=\"turnTo('list_users', {})\">\n                    <div class=\"tile-content iconic\">\n                        <span class=\"icon icon-user\"></span>\n                    </div>\n                    <span class=\"tile-label\">\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0438</span>\n                </div>\n\n                <div class=\"tile bg-puple fg-white\" (click)=\"turnTo('advertising', {})\">\n                    <div class=\"tile-content iconic\">\n                        <span class=\"icon icon-adver\"></span>\n                    </div>\n                    <span class=\"tile-label\">\u0420\u0435\u043A\u043B\u0430\u043C\u0430</span>\n                </div>\n\n                <div class=\"tile bg-maroon fg-white\" (click)=\"turnTo('list_activity', {})\">\n                    <div class=\"tile-content iconic\">\n                        <span class=\"icon icon-adver\"></span>\n                    </div>\n                    <span class=\"tile-label\">\u0410\u043A\u0442\u0438\u0432\u043D\u043E\u0441\u0442\u044C</span>\n                </div>\n\n            </div>\n        </div>\n    "
    })
    // TODO: запилить что-то типа authService и убрать туда всю фигню из логин скрина и отсюда
    ,
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__service_session_service__["a" /* SessionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_session_service__["a" /* SessionService */]) === "function" && _a || Object])
], TabMainComponent);

var _a;
//# sourceMappingURL=tab-main.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/tab/tab-offer.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_offer_service__ = __webpack_require__("../../../../../src/app/service/offer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_request_service__ = __webpack_require__("../../../../../src/app/service/request.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_task_service__ = __webpack_require__("../../../../../src/app/service/task.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_history_service__ = __webpack_require__("../../../../../src/app/service/history.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_photo_service__ = __webpack_require__("../../../../../src/app/service/photo.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__service_user_service__ = __webpack_require__("../../../../../src/app/service/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__service_analysis_service__ = __webpack_require__("../../../../../src/app/service/analysis.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__entity_offer__ = __webpack_require__("../../../../../src/app/entity/offer.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__service_person_service__ = __webpack_require__("../../../../../src/app/service/person.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__service_upload_service__ = __webpack_require__("../../../../../src/app/service/upload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__service_suggestion_service__ = __webpack_require__("../../../../../src/app/service/suggestion.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__service_session_service__ = __webpack_require__("../../../../../src/app/service/session.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TabOfferComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};















var TabOfferComponent = (function () {
    function TabOfferComponent(_hubService, _configService, _offerService, _requestService, _taskService, _analysisService, _historyService, _photoService, _userService, _personService, _uploadService, _suggestionService, _sessionService) {
        var _this = this;
        this._hubService = _hubService;
        this._configService = _configService;
        this._offerService = _offerService;
        this._requestService = _requestService;
        this._taskService = _taskService;
        this._analysisService = _analysisService;
        this._historyService = _historyService;
        this._photoService = _photoService;
        this._userService = _userService;
        this._personService = _personService;
        this._uploadService = _uploadService;
        this._suggestionService = _suggestionService;
        this._sessionService = _sessionService;
        this.sgList = [];
        this.selectMapMenu = 0;
        this.agentOpts = [];
        this.documents = [];
        this.personOpts = [];
        this.paneHidden = false;
        this.editEnabled = false;
        this.ch1_data = [];
        this.ch2_data = [];
        this.ch3_data = [];
        this.ch4_data = [];
        this.currentPhoto = 0;
        this.offerFloor = [];
        this.offerSquare = [];
        this.offerPrice = [];
        this.offerAddress = [];
        this.landSquare = [];
        this.offerTypeCodeOptions = [
            { value: 'sale', label: 'Продажа' },
            { value: 'rent', label: 'Аренда' }
        ];
        this.stateCodeOptions = [
            { value: 'raw', label: 'Не активно' },
            { value: 'active', label: 'Активно' },
            { value: 'work', label: 'Прайс' },
            { value: 'ok', label: 'Сделка' },
            { value: 'suspended', label: 'Приостановленно' },
            { value: 'archive', label: 'Архив' }
        ];
        this.sourceOptions = [
            { value: 'input', label: 'Входящий звонок' },
            { value: 'internet', label: 'Интернет' },
            { value: 'print', label: 'Печатное издание' },
            { value: 'spam', label: 'Рассылка' },
            { value: 'reccomend_cl', label: 'Рекомендация клиента' },
            { value: 'reccomend_pt', label: 'Рекомендация парнера' },
            { value: 'social', label: 'Социальные сети' },
            { value: 'excelent', label: 'Успешный опыт сотрудничества' },
            { value: 'cold', label: 'Холодная база' }
        ];
        this.stageCodeOptions = [
            { value: 'contact', label: 'Первичный контакт' },
            { value: 'pre_deal', label: 'Заключение договора' },
            { value: 'show', label: 'Показ' },
            { value: 'prep_deal', label: 'Подготовка договора' },
            { value: 'decision', label: 'Принятие решения' },
            { value: 'negs', label: 'Переговоры' },
            { value: 'deal', label: 'Сделка' }
        ];
        this.typeCodeOptions = [
            { value: 'other', label: 'Не указано' },
            { value: 'room', label: 'Комната' },
            { value: 'apartment', label: 'Квартира' },
            { value: 'house', label: 'Дом/Коттедж' },
            { value: 'land', label: 'Садовый земельный участок' },
            { value: 'land1', label: 'Огородный земельный участок' },
            { value: 'land2', label: 'Дачный земельный участок' },
            { value: 'gpurpose_place', label: 'Свободного назначения' },
            { value: 'market_place', label: 'Розничная торговля' },
            { value: 'office', label: 'Офисная' },
            { value: 'production_place', label: 'Индустриальная' },
            { value: 'building', label: 'Аппартаменты' },
            { value: 'cosial_place', label: 'Социальная' }
        ];
        this.apSchemaOptions = [
            { value: 0, label: 'Не указан' },
            { value: 1, label: 'Элиткласс' },
            { value: 2, label: 'Бизнес класс' },
            { value: 12, label: 'Эконом класс' },
            { value: 3, label: 'Улучшенная' },
            { value: 5, label: 'Брежневка' },
            { value: 6, label: 'Хрущевка' },
            { value: 4, label: 'Сталинка' },
            { value: 11, label: 'Старый фонд' },
            { value: 8, label: 'Малосемейка' },
            { value: 10, label: 'Общежитие' },
            { value: 7, label: 'Таунхаус' }
        ];
        this.roomSchemeOptions = [
            { value: 0, label: 'Не указано' },
            { value: 3, label: 'Раздельные' },
            { value: 5, label: 'Смежные' },
            { value: 4, label: 'Смежно-раздельные' },
            { value: 6, label: 'Студия' },
            { value: 1, label: 'Свободная' },
            { value: 2, label: 'Другое' }
        ];
        this.houseTypeOptions = [
            { value: 0, label: 'Не указан' },
            { value: 4, label: 'Кирпичный' },
            { value: 1, label: 'Панель' },
            { value: 5, label: 'Монолит' },
            { value: 6, label: 'Кирпично-монолитный' },
            { value: 7, label: 'Блочный' },
            { value: 2, label: 'Деревянный' },
            { value: 3, label: 'Шлакоблочный' }
        ];
        this.YesNoOptions = [
            { value: 'false', label: 'Нет' },
            { value: 'true', label: 'Да' }
        ];
        this.conditionOptions = [
            { value: "0", label: 'Не указано' },
            { value: "6", label: 'После строителей' },
            { value: "1", label: 'Социальный ремонт' },
            { value: "2", label: 'Сделан ремонт' },
            { value: "7", label: 'Евроремонт' },
            { value: "3", label: 'Дизайнерский ремонт' },
            { value: "4", label: 'Требуется ремонт' }
        ];
        this.bathroomOptions = [
            { value: "NO", label: 'Нет' },
            { value: "SPLITED", label: 'Раздельный' },
            { value: "COMBINED", label: 'Совмещенный' }
        ];
        this.landOption = [
            { value: 'NO', label: 'Не указано' },
            { value: 'IGS', label: 'Земли сельскохозяйственного назначения' },
            { value: 'GARDEN', label: 'Земли населённых пунктов' },
            { value: 'PROM_LAND', label: 'Земли промышленного назначения' },
            { value: 'FARM_COMN', label: 'Земли охраняемых территорий' },
            { value: 'GARDEN_COMN', label: 'Земли лесного фонда' },
            { value: 'WH_KAND', label: 'Земли водного фонда' },
            { value: 'SH_LAND', label: 'Земли запаса' }
        ];
        this.buildingOption = [
            { value: 'NO', label: 'Не выбрано' },
            //свободного назначечение
            { value: 'HOTEL', label: 'Отель' },
            { value: 'RESTAURANT', label: 'Ресторан' },
            { value: 'KAFE', label: 'Кафе' },
            { value: 'SPORT_BUILDING', label: 'Спортивное сооружение' },
            //розничная торговля
            { value: 'SHOP', label: 'Магазин' },
            { value: 'SHOPS_CENTER', label: 'Торговый центр' },
            { value: 'SHOP_ENTERTAINMENT', label: 'Торгово-развлекательный комплекс' },
            //Офисная
            { value: 'CABINET', label: 'Кабинет' },
            { value: 'OFFICE_SPACE', label: 'Офисное помещение' },
            { value: 'OFFICE_BUILDING', label: 'Офисное здание' },
            { value: 'BUSINESS_CENTER', label: 'Бизнес-центр' },
            //Индустриальная
            { value: 'MANUFACTURE_BUILDING', label: 'Производственное здание' },
            { value: 'WAREHOUSE_SPACE', label: 'Складское помещение' },
            { value: 'INDUSTRIAL_ENTERPRICE', label: 'Промышленное предприятие' },
            //Аппартаменты
            { value: 'APARTMENT_HOUSE', label: 'Многоквартирный дом' },
            //Социальное
            { value: 'MEDICAL_CENTER', label: 'Медицинский центр' },
            { value: 'POOL', label: 'Бассейн' },
            { value: 'GOLF_CLUB', label: 'Гольф-клуб' },
            { value: 'BOWLING_CENTER', label: 'Боулинг-центр' },
            { value: 'AIRPORT', label: 'Аэропорт' }
        ];
        this.addressStr = '';
        this.rate = [
            { persent: 10, text: "Предприятия и промышленность", isRated: false },
            { persent: 25, text: "Образование, школы, д/сады", isRated: true },
            { persent: 50, text: "Парки, кинотеатры и отдых", isRated: false },
            { persent: 55, text: "Здоровье, поликлиники, аптеки", isRated: false },
            { persent: 45, text: "Спорт и фитнес", isRated: false },
            { persent: 40, text: "Развлечения и ночная жизнь", isRated: false },
            { persent: 75, text: "Рестораны и шопинг", isRated: false },
            { persent: 90, text: "Красота", isRated: false },
            { persent: 65, text: "Культура", isRated: false },
        ];
        this.rate1 = [
            { persent: 10, text: "Удаленность от центра", isRated: false },
            { persent: 25, text: "Престижность района", isRated: true },
            { persent: 50, text: "Оформление придомовой территории", isRated: false },
            { persent: 55, text: "Наличие парковки", isRated: false },
            { persent: 45, text: "Отделка помещения общего пользования", isRated: false },
            { persent: 40, text: "Вид из окон", isRated: false },
            { persent: 75, text: "Наличие системы безопасности", isRated: false },
            { persent: 90, text: "Социальная однородность дома", isRated: false },
            { persent: 65, text: "Транспортная доступность", isRated: false },
        ];
        this.mediator = 'NO';
        this.mainRate = this.countMainRate();
        this.categoryOffer = "REZIDENTIAL";
        this.categoryOwner = "CLIENT";
        this.sameObject = false;
        this.pie_ChartData = [
            ['', ''],
            ['Нет объектов', 0]
        ];
        this.pie_ChartOptions = {
            width: 216,
            height: 216,
            pieHole: 0.6,
            legend: 'none',
            chartArea: { left: 8, top: 8, width: 200, height: 200 }
        };
        this.chartID = "Chart" + Math.floor(Math.random() * (9999 - 1000 + 1)) + 1000;
        setTimeout(function () {
            if (_this.offer.id) {
                _this.tab.header = 'Предложение ';
            }
            else {
                _this.tab.header = 'Новый Объект';
            }
        });
        this._userService.list(null, null, "").subscribe(function (agents) {
            for (var i = 0; i < agents.length; i++) {
                var a = agents[i];
                _this.agentOpts.push({
                    value: a.id,
                    label: a.name
                });
            }
        });
        this._personService.list(null, null, "").subscribe(function (persons) {
            for (var i = 0; i < persons.length; i++) {
                var p = persons[i];
                _this.personOpts.push({
                    value: p.id,
                    label: p.name
                });
            }
        });
    }
    TabOfferComponent.prototype.ngOnInit = function () {
        this.offer = this.tab.args.offer;
        this.offer.openDate = Math.round((Date.now() / 1000));
        var c = this._configService.getConfig();
        var loc = this._sessionService.getAccount().location;
        this.offerFloor = [
            { type: 'FLOOR', value: this.offer.floor },
            { type: 'FLOORS', value: this.offer.floorsCount },
            { type: 'LEVELS', value: this.offer.levelsCount }
        ];
        this.offerSquare = [
            { type: 'TOTAL', value: this.offer.squareTotal },
            { type: 'LIVING', value: this.offer.squareLiving },
            { type: 'KITCHEN', value: this.offer.squareKitchen }
        ];
        this.offerPrice = [
            { type: 'OWNER', value: this.offer.ownerPrice },
            { type: 'RUBLES', value: this.offer.comission },
            { type: 'PERSENT', value: this.offer.comissionPerc }
        ];
        this.offerAddress = [
            { type: 'KRAY', value: this.offer.fullAddress.region },
            { type: 'CITY', value: this.offer.fullAddress.city },
            { type: 'DISTRICT', value: this.offer.fullAddress.admArea },
            { type: 'STREET', value: this.offer.fullAddress.street },
            { type: 'HOUSE', value: this.offer.fullAddress.house },
            { type: 'HOUSING', value: this.offer.fullAddress.housing },
            { type: 'FLAT', value: this.offer.fullAddress.apartment }
        ];
        this.landSquare = [
            { type: this.offer.squareLandType, value: this.offer.squareLand }
        ];
        if (this.offer.locationLat) {
            this.lat = this.offer.locationLat;
            this.lon = this.offer.locationLon;
            this.zoom = 14;
        }
        else {
            if (c.map[loc]) {
                this.lat = c.map[loc].lat;
                this.lon = c.map[loc].lon;
                this.zoom = c.map[loc].zoom;
            }
            else {
                this.lat = c.map['default'].lat;
                this.lon = c.map['default'].lon;
                this.zoom = c.map['default'].zoom;
            }
        }
        if (this.offer.id == null && this.offer.sourceUrl == null) {
            this.offer = new __WEBPACK_IMPORTED_MODULE_10__entity_offer__["a" /* Offer */]();
            if (this.tab.args.person) {
                this.offer.personId = this.tab.args.person.id;
            }
            this.editEnabled = true;
        }
        var num = 0;
        for (var i = 0; i < this.typeCodeOptions.length; i++) {
            if (this.offer.typeCode == this.typeCodeOptions[i].value) {
                num = i;
            }
        }
        if (num > 1 && num < 4)
            this.categoryOffer = 'REZIDENTIAL';
        else if (num >= 4 && num < 6)
            this.categoryOffer = 'LAND';
        else
            this.categoryOffer = 'COMMERSIAL';
        this.calcSize();
    };
    TabOfferComponent.prototype.select = function (itm) {
        this.addressStr = itm;
        this.sgList = [];
    };
    TabOfferComponent.prototype.docClick = function () {
        this.sgList = [];
    };
    TabOfferComponent.prototype.addrChanged = function () {
        var _this = this;
        this.sgList = [];
        if (this.addressStr.length > 0) {
            // запросить варианты
            this._suggestionService.list(this.addressStr).subscribe(function (sgs) {
                sgs.forEach(function (e) {
                    _this.sgList.push(e);
                });
            });
        }
    };
    TabOfferComponent.prototype.photoChanges = function (event) {
        var file = event.srcElement.files;
        var postData = { field1: "field1", field2: "field2" }; // Put your form data variable. This is only example.
        /*this._uploadService.uploadPhoto(postData, file).then(result => {
            console.log(result);
        });*/
    };
    TabOfferComponent.prototype.onResize = function (e) {
        this.calcSize();
    };
    TabOfferComponent.prototype.calcSize = function () {
        if (this.paneHidden) {
            this.paneWidth = 0;
        }
        else {
            this.paneWidth = 370;
        }
        this.mapWidth = document.body.clientWidth - (16 * 2) - this.paneWidth;
        this.paneHeight = document.body.clientHeight - 31;
    };
    TabOfferComponent.prototype.toggleLeftPane = function () {
        this.paneHidden = !this.paneHidden;
        this.calcSize();
    };
    TabOfferComponent.prototype.toggleEdit = function () {
        this.editEnabled = !this.editEnabled;
    };
    TabOfferComponent.prototype.agentChanged = function (e) {
        var _this = this;
        this.offer.agentId = e.selected.value;
        if (this.offer.agentId != null) {
            this._userService.get(this.offer.agentId).subscribe(function (agent) {
                _this.offer.agent = agent;
            });
        }
    };
    TabOfferComponent.prototype.personChanged = function (e) {
        var _this = this;
        this.offer.personId = e.selected.value;
        if (this.offer.personId != null) {
            this._personService.get(this.offer.personId).subscribe(function (person) {
                _this.offer.person = person;
            });
        }
    };
    TabOfferComponent.prototype.save = function () {
        var _this = this;
        var tem = this.getIndex(this.offerSquare, "TOTAL");
        this.offer.squareTotal = tem > -1 ? parseInt(this.offerSquare[tem].value) : null;
        tem = this.getIndex(this.offerSquare, "KITCHEN");
        this.offer.squareKitchen = tem > -1 ? parseInt(this.offerSquare[tem].value) : null;
        tem = this.getIndex(this.offerSquare, "LIVING");
        this.offer.squareLiving = tem > -1 ? parseInt(this.offerSquare[tem].value) : null;
        tem = this.getIndex(this.offerAddress, "KRAY");
        this.offer.fullAddress.region = tem > -1 ? this.offerAddress[tem].value : null;
        tem = this.getIndex(this.offerAddress, "CITY");
        this.offer.fullAddress.city = tem > -1 ? this.offerAddress[tem].value : null;
        tem = this.getIndex(this.offerAddress, "DISTRICT");
        this.offer.fullAddress.admArea = tem > -1 ? this.offerAddress[tem].value : null;
        tem = this.getIndex(this.offerAddress, "STREET");
        this.offer.fullAddress.street = tem > -1 ? this.offerAddress[tem].value : null;
        tem = this.getIndex(this.offerAddress, "HOUSE");
        this.offer.fullAddress.house = tem > -1 ? this.offerAddress[tem].value : null;
        tem = this.getIndex(this.offerAddress, "HOUSING");
        this.offer.fullAddress.housing = tem > -1 ? this.offerAddress[tem].value : null;
        tem = this.getIndex(this.offerAddress, "FLAT");
        this.offer.fullAddress.apartment = tem > -1 ? this.offerAddress[tem].value : null;
        tem = this.getIndex(this.offerFloor, "FLOOR");
        this.offer.floor = tem > -1 ? parseInt(this.offerFloor[tem].value) : null;
        tem = this.getIndex(this.offerFloor, "FLOORS");
        this.offer.floorsCount = tem > -1 ? parseInt(this.offerFloor[tem].value) : null;
        tem = this.getIndex(this.offerFloor, "LEVELS");
        this.offer.levelsCount = tem > -1 ? parseInt(this.offerFloor[tem].value) : null;
        tem = this.getIndex(this.offerPrice, "OWNER");
        this.offer.ownerPrice = tem > -1 ? parseInt(this.offerPrice[tem].value) : null;
        tem = this.getIndex(this.offerPrice, "RUBLES");
        this.offer.comission = tem > -1 ? parseInt(this.offerPrice[tem].value) : null;
        tem = this.getIndex(this.offerPrice, "PERSENT");
        this.offer.comissionPerc = tem > -1 ? parseInt(this.offerPrice[tem].value) : null;
        this.offer.squareLand = this.landSquare[0] ? this.landSquare[0].value : null;
        this.offer.squareLandType = this.landSquare[0] ? this.ParseInt(this.landSquare[0].type) : null;
        this.offer.person = this.offer.person || null;
        this.offer.personId = this.offer.person.id || null;
        this._offerService.save(this.offer).subscribe(function (offer) {
            setTimeout(function () {
                _this.offer = offer;
            });
            _this.toggleEdit();
        });
    };
    TabOfferComponent.prototype.similarObjSelected = function () {
        this.sameObject = !this.sameObject;
        if (this.sameObject) {
            this.getSimilarOffers(0, 16);
        }
        this.mapQuery = null;
        this.selectMapMenu = 5;
    };
    TabOfferComponent.prototype.requestsSelected = function () {
        var _this = this;
        this.sameObject = !this.sameObject;
        this._requestService.listForOffer(this.offer).subscribe(function (data) {
            _this.requests = data;
            _this.setDonutData('requests');
        });
        this.selectMapMenu = 6;
        this.mapQuery = null;
    };
    TabOfferComponent.prototype.analysisSelected = function () {
        var a_data = this._analysisService.getObjAnalysis();
        this.ch1_data = a_data.ch1_data;
        this.ch1_data_v1 = a_data.ch1_data_v1;
        this.ch2_data = a_data.ch2_data;
        this.ch2_data_v1 = a_data.ch2_data_v1;
        this.ch3_data = a_data.ch3_data;
        this.ch3_data_v1 = a_data.ch3_data_v1;
        this.ch3_data_v2 = a_data.ch3_data_v2;
        this.ch4_data = [
            ['media', 'подано'],
            ['avito', 7],
            ['из рук в руки', 4],
            ['презент', 6],
            ['фарпост', 8],
            ['ВНХ', 6],
        ];
        this.ch4_data_v1 = 31;
        this.ch4_data_v2 = 5000;
    };
    TabOfferComponent.prototype.historySelected = function () {
        this.historyRecs = this._historyService.getObjHistory();
    };
    TabOfferComponent.prototype.getSimilarOffers = function (page, per_page) {
        var _this = this;
        this._offerService.getSimilar(this.offer, page, per_page).subscribe(function (data) {
            _this.similarOffers = data.list;
            _this.setDonutData('similar');
        }, function (err) { return console.log(err); });
    };
    TabOfferComponent.prototype.markerClick = function (o) {
        //r.selected = !r.selected;
        // scroll to object ???
    };
    TabOfferComponent.prototype.openPerson = function () {
        if (this.offer.person.id) {
            var tab_sys = this._hubService.getProperty('tab_sys');
            tab_sys.addTab('person', { person: this.offer.person });
        }
    };
    TabOfferComponent.prototype.openUser = function () {
        if (this.offer.agent.id) {
            var tab_sys = this._hubService.getProperty('tab_sys');
            tab_sys.addTab('user', { user: this.offer.agent });
        }
    };
    TabOfferComponent.prototype.openOrganisation = function () {
        if (this.offer.person.organisation.id) {
            var tab_sys = this._hubService.getProperty('tab_sys');
            tab_sys.addTab('organisation', { organisation: this.offer.person.organisation });
        }
    };
    TabOfferComponent.prototype.countMainRate = function () {
        var temp = 0;
        for (var i = 0; i < this.rate.length; i++) {
            temp += this.rate[i].persent;
        }
        return Math.round(temp / this.rate.length * 100) / 100;
    };
    TabOfferComponent.prototype.showMenu = function (event, up) {
        var parent;
        if (up)
            parent = event.currentTarget.parentElement;
        else
            parent = event.currentTarget.parentElement.parentElement;
        var height = parent.getElementsByTagName('input').length * 35;
        if (parent.offsetHeight == 30) {
            parent.style.setProperty('height', "" + (height + 60) + 'px');
            parent.style.setProperty('overflow', 'visible');
            event.currentTarget.style.setProperty('transform', 'rotate(180deg)');
        }
        else {
            parent.style.setProperty('height', "30px");
            parent.style.setProperty('overflow', "hidden");
            event.currentTarget.style.setProperty('transform', 'rotate(0deg)');
        }
    };
    TabOfferComponent.prototype.setDonutData = function (data) {
        this.pie_ChartData = [
            ['', ''],
            ['Нет объектов', 0]
        ];
        if (data == 'similar') {
            if (this.similarOffers.length == 1) {
                this.pie_ChartData.push(["–Ю–±—К–µ–Ї—В–Њ–≤:", 1]);
                this.max = this.min = this.average = this.similarOffers[0].ownerPrice * 1000;
            }
            else if (this.similarOffers.length > 1) {
                var arr = [];
                for (var i = 0; i < this.similarOffers.length; ++i)
                    if (this.similarOffers[i].ownerPrice)
                        arr.push(this.similarOffers[i].ownerPrice);
                arr.sort(this.compareNumeric);
                this.max = arr[arr.length - 1] * 1000;
                this.min = arr[0] * 1000;
                this.average = (this.max + this.min) / 2;
                arr[arr.length - 1] += 1;
                var lent = (arr[arr.length - 1] - arr[0]) / 4;
                for (var i = arr[0]; i < arr[arr.length - 1]; i += lent) {
                    this.pie_ChartData.push(this.getCount(i, i + lent));
                }
            }
        }
        else if (data == 'similar') {
            if (this.requests.length == 1) {
                this.pie_ChartData.push(["–Ч–∞—П–≤–Њ–Ї:", 1]);
                this.max = this.min = this.average = this.similarOffers[0].ownerPrice * 1000;
            }
            else if (this.similarOffers.length > 1) {
                var arr = [];
                for (var i = 0; i < this.similarOffers.length; ++i)
                    if (this.similarOffers[i].ownerPrice)
                        arr.push(this.similarOffers[i].ownerPrice);
                arr.sort(this.compareNumeric);
                this.max = arr[arr.length - 1] * 1000;
                this.min = arr[0] * 1000;
                this.average = (this.max + this.min) / 2;
                arr[arr.length - 1] += 1;
                var lent = (arr[arr.length - 1] - arr[0]) / 4;
                for (var i = arr[0]; i < arr[arr.length - 1]; i += lent) {
                    this.pie_ChartData.push(this.getCount(i, i + lent));
                }
            }
        }
    };
    TabOfferComponent.prototype.split_number = function (n) {
        n += "";
        n = new Array(4 - n.length % 3).join("U") + n;
        return n.replace(/([0-9U]{3})/g, "$1 ").replace(/U/g, "");
    };
    TabOfferComponent.prototype.compareNumeric = function (a, b) {
        if (a > b)
            return 1;
        if (a < b)
            return -1;
    };
    TabOfferComponent.prototype.getCount = function (min, max) {
        var count = 0;
        for (var i = 0; i < this.similarOffers.length; ++i) {
            if (this.similarOffers[i].ownerPrice >= min && this.similarOffers[i].ownerPrice < max)
                count++;
        }
        return ["от " + Math.round(min) + " т.руб. до " + Math.round(max) + " т.руб.", count];
    };
    TabOfferComponent.prototype.getTypeCodeArray = function () {
        var temp;
        switch (this.categoryOffer) {
            case "REZIDENTIAL": {
                temp = this.typeCodeOptions.slice(1, 4);
                temp.unshift(this.typeCodeOptions[0]);
                return temp;
            }
            case "COMMERSIAL": {
                temp = this.typeCodeOptions.slice(7, 13);
                temp.unshift(this.typeCodeOptions[0]);
                return temp;
            }
            case "LAND": {
                temp = this.typeCodeOptions.slice(4, 7);
                temp.unshift(this.typeCodeOptions[0]);
                return temp;
            }
        }
    };
    TabOfferComponent.prototype.getBuldingOptionsArray = function () {
        var temp;
        switch (this.offer.typeCode) {
            case "gpurpose_place": {
                temp = this.buildingOption.slice(1, 5);
                temp.unshift(this.buildingOption[0]);
                return temp;
            }
            case "market_place": {
                temp = this.buildingOption.slice(5, 8);
                temp.unshift(this.buildingOption[0]);
                return temp;
            }
            case "office": {
                temp = this.buildingOption.slice(8, 12);
                temp.unshift(this.buildingOption[0]);
                return temp;
            }
            case "production_place": {
                temp = this.buildingOption.slice(12, 15);
                temp.unshift(this.buildingOption[0]);
                return temp;
            }
            case "building": {
                temp = this.buildingOption.slice(15, 16);
                temp.unshift(this.buildingOption[0]);
                return temp;
            }
            case "cosial_place": {
                temp = this.buildingOption.slice(16, 21);
                temp.unshift(this.buildingOption[0]);
                return temp;
            }
            default:
                return [this.buildingOption[0]];
        }
    };
    TabOfferComponent.prototype.setMapQuery = function (qw, num) {
        this.mapQuery = qw;
        this.selectMapMenu = num;
    };
    TabOfferComponent.prototype.setMenu = function (num) {
        this.selectMapMenu = num;
        this.mapQuery = null;
    };
    TabOfferComponent.prototype.parseArray = function (values, obj, isAddress) {
        for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {
            var val = values_1[_i];
            var no = true;
            for (var _a = 0, obj_1 = obj; _a < obj_1.length; _a++) {
                var en = obj_1[_a];
                if (val.type == en.type) {
                    en.value = val.value;
                    no = false;
                }
            }
            if (no && val.value)
                obj.push(val);
        }
        for (var i = 0; i < obj.length; ++i) {
            if (obj[i].value === undefined || obj[i].value === null) {
                obj.splice(i, 1);
                i--;
            }
        }
        if (isAddress) {
            this.getAddressStr();
        }
    };
    TabOfferComponent.prototype.getAddressStr = function () {
        this.addressStr = this.offer.fullAddress.city !== undefined ? "" + this.offer.fullAddress.city : '';
        this.addressStr += this.offer.fullAddress.street !== undefined ? ", " + this.offer.fullAddress.street : '';
        this.addressStr += this.offer.fullAddress.house !== undefined ? ", " + this.offer.fullAddress.house : '';
    };
    TabOfferComponent.prototype.getIndex = function (array, str) {
        for (var i = 0; i < array.length; ++i) {
            if (array[i].type == str)
                return i;
        }
        return -1;
    };
    TabOfferComponent.prototype.ParseInt = function (val) {
        if (isNaN(parseInt(val, 10)))
            return null;
        else
            return parseInt(val, 10);
    };
    TabOfferComponent.prototype.getSourceName = function () {
        return this.offer.sourceUrl.match(/www\.(.{1,10})\..{1,5}/i)[1];
    };
    TabOfferComponent.prototype.simSearchKeydown = function (e) {
    };
    TabOfferComponent.prototype.simSearch = function () {
    };
    TabOfferComponent.prototype.inRate = function (sd, ad) {
    };
    TabOfferComponent.prototype.outRate = function (sd, ad) {
    };
    TabOfferComponent.prototype.estimate = function (sd, ad) {
    };
    return TabOfferComponent;
}());
TabOfferComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'tab-offer',
        inputs: ['tab'],
        styles: ["\n        .pane {\n            float: left;\n            width: 370px;\n            height: 100%;\n            //border-right: 1px solid #ccc;\n        }\n\n        .work-area {\n            float: left;\n            width: 100%;\n            height: 100%;\n        }\n\n        .tab-button {\n            width: 30px;\n            height: 30px;\n            text-align: center;\n            line-height: 30px;\n            font-size: 12px !important;\n            cursor: pointer;\n            color: #666;\n        }\n\n        .fixed-button {\n            position: fixed;\n            top: 0;\n            left: 0;\n        }\n\n        .offer-prop {\n            overflow-y: scroll;\n            height: calc(100% - 111px);\n        }\n\n        .view-group {\n            margin-bottom: 5px;\n            display: flex;\n            justify-content: space-between;\n            align-items: flex-start;\n            height: 30px;\n        }\n\n        .view-label {\n            white-space: nowrap;\n            color: rgb(80, 80, 80);\n            margin-top: 5px;\n            font-size: 10pt;\n            width: 115px;\n            display: inline-block;\n            flex: 0 0 115px;\n        }\n\n        .view-value {\n            width: 170px;\n            text-align: right;\n            color: #696969;\n            font-size: 10pt;\n            margin-top: 5px;\n            height: 19px;\n            margin-right: 17px;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n        }\n\n        .view-block .view-value {\n            overflow: hidden;\n            margin-right: 0;\n        }\n\n        .edit-value {\n            width: 100%;\n            text-align: right;\n            color: #696969;\n            font-size: 10pt;\n            height: 19px; /* \u043A\u043E\u0441\u0442\u044B\u043B\u044C */\n            border: none !important;\n        }\n\n        .text-value {\n            height: 3rem;\n            border: 1px solid #E5E5E5 !important;\n        }\n\n        .edit-block > .view-group, .view-block > .view-group {\n            height: 30px;\n            margin-left: 57px;\n        }\n\n        .tile-x {\n            margin-right: 10px;\n            width: 150px;\n            height: 150px;\n            color: #fff;\n            position: relative;\n        }\n\n        .tile {\n            margin: 0 10px 0 0;\n        }\n\n        .icon {\n            line-height: 64px;\n        }\n\n        .tile-content.iconic .icon {\n            width: 128px;\n            margin-left: -64px;\n        }\n\n        .chart-block {\n            overflow:hidden;\n            border: 1px solid #e5e5e5;\n        }\n\n        .chart-header {\n            width: 100%;\n            height: 30px;\n            border-bottom: 1px solid #e5e5e5;\n            line-height: 30px;\n            color: #fff;\n        }\n        .title_row{\n            width: calc(100% - 20px);\n            height: 30px;\n            line-height: 30px;\n            background-color: #f1f1f1;\n            margin-bottom: 15px;\n            padding-left: 20px;\n            color: #464646;\n            font-size: 11pt;\n            margin-top: 30px;\n        }\n\n        .head{\n            width: 100%;\n            height: 73px;\n            display: block;\n            background-color: #f7f7f7;\n        }\n\n        .view_icon{\n            width: 28px;\n            height: 25px;\n            background-size: contain;\n            float: left;\n            background-repeat: no-repeat;\n            background-position: center;\n            margin-right: 12px;\n            margin-top: 2px;\n            margin-left: 17px;\n        }\n\n        .edit-block hr, .view-block hr{\n                margin: 5px -10px 5px 55px;\n        }\n\n        .graph{\n            width: 359px;\n            float: left;\n            position: relative;\n        }\n        .graph > .price{\n            position: absolute;\n            z-index: 100;\n            color: dimgrey;\n            background: #f7f7f7;\n            width: 100%;\n            height: 53px;\n            padding-left: 10px;\n        }\n\n        .arrow{\n            background-image: url(assets/arrow.png);\n            width: 18px;\n            height: 10px;\n            background-size: cover;\n            margin: 5px 13px 0;\n            background-position: center;\n            flex: 0 0 18px;\n            position: absolute;\n            top: 5px;\n            right: -10px;\n        }\n\n        .show_value{\n            flex: 0 0 190px;\n            margin-right: 30px;\n            position: relative;\n            text-align: right;\n            height: 30px;\n            display: flex;\n            flex-direction: column;\n            font-size: 10pt;\n            color: dimgrey;\n            line-height: 30px;\n        }\n\n        .gm_container{\n            width: calc(100% - 370px);\n            height: 495px;\n            display:flex;\n        }\n\n        .map_menu{\n            width: 150px;\n            background-color: #f7f7f7;\n            //border-right: 1px solid silver;\n            border-top: 1px solid silver;\n        }\n        .map_menu >div {\n            height: 30px;\n            width: 80%;\n            text-align: left;\n            background-color: rgba(0, 140, 219, 1);\n            color: #ffffff;\n            margin: 3px auto;\n            line-height: 30px;\n            font-size: 10pt;\n            padding-left: 20px;\n        }\n\n        .map_menu >div:hover, .active_map_menu {\n            background-color: rgba(18, 54, 120, 1) !important;\n            color: white !important;\n        }\n\n        .offer_face{\n            height: 220px;\n            background-color: #f7f7f7;\n            padding-top: 5px;\n            position: relative;\n        }\n\n        .offer_face > .price{\n            display: flex;\n            margin: 0;\n            justify-content: center;\n            width: 100%;\n        }\n\n        .offer_face > .price > div{\n            font-size: 20pt;\n            text-align: center;\n            color: #3d9be9;\n            margin: 5px 0;\n        }\n        .offer_face > .price > div:after{\n            content: \" \";\n            background-image: url(assets/ruble1.png);\n            width: 28px;\n            height: 28px;\n            background-size: 27px;\n            float: right;\n            margin: 5px 0 0 2px\n        }\n\n        .offer_face > .rate{\n            height: 20px;\n            background-image: url(assets/star_active.png);\n            background-size: contain;\n            width: 100px;\n            margin-left: 20px;\n            margin-top: 6px;\n        }\n\n        .offer_face > div{\n            font-size: 11pt;\n            margin: 20px 0 0 20px;\n            text-align: left;\n            display: inline-block;\n            width: 300px;\n        }\n\n        .offer_face > .street{\n            font-size: 17pt;\n            margin-top: -2px;\n            color: black;\n        }\n\n        .offer_face > .district{\n            font-size: 10pt;\n            margin: -4px 0 22px 20px;\n            color: dimgrey;\n        }\n\n        .offer_face > .rooms{\n            font-size: 11pt;\n            margin: 0 0 0 20px;\n            text-align: left;\n        }\n        .offer_face > .rooms >div{\n            width: 18px;\n            height: 18px;\n            float: left;\n            background-size: cover;\n            margin-right: 3px;\n        }\n\n        .offer_face > .date{\n            right: 0;\n            width: 159px;\n            position: absolute;\n            text-align: right;\n            margin-right: 20px;\n            color: #cccaca;\n            font-size: 9pt;\n            bottom: 23px;\n        }\n\n        .header_col{\n            width: 100%;\n            height: 40px;\n            background-color: #f7f7f7;\n            padding-left: 20px;\n            text-transform: uppercase;\n            font-size: 10pt;\n            color: #5f5d5d;\n            line-height: 40px;\n            margin-bottom: 10px;\n        }\n\n        .star_container{\n            height: 340px;\n        }\n\n        .statistic{\n            position: relative;\n            height: calc(100% - 0px);\n            //border-right: 1px solid silver;\n            display: flex;\n            flex-wrap: wrap;\n            align-content: flex-start;\n            background-color: #f7f7f7;\n            width: calc(100% - 371px);\n            float: left;\n            padding-top: 29px;\n        }\n\n        .statistic > div{\n            margin-left: 20px;\n            width: 356px;\n        }\n\n        .statistic > div:first-of-type >span{\n            margin-top: 8px;\n            display: block;\n            font-size: 10pt;\n            color: #5b5b5b;\n        }\n\n        .statistic > hr{\n            height: 1px;\n            width: 90%;\n            margin: 0 auto 30px;\n            border: 0;\n            border-top: 1px solid silver;\n        }\n\n        .statistic .rate_line{\n            width: 100%;\n            height: 25px;\n            display: flex;\n        }\n\n        .statistic > div:not(:last-child) >div:first-child {\n            text-align: left;\n            color: #293c63;\n            width: 360px;\n        }\n\n        .statistic .rate_line>div:last-child{\n            line-height: 25px;\n            margin-left: 15px;\n            font-size: 9pt;\n            color: #5b5b5b;\n        }\n\n        .statistic > div:nth-child(3)>span{\n            margin-top: 15px;\n            display: block;\n            font-size: 10pt;\n            color: #5b5b5b;\n            text-align: left;\n        }\n\n        .statistic > div .rate_line >div:first-child {\n            background-image: url(assets/star_disable.png);\n            background-size: 15px 15px;\n            width: 74px;\n            background-position: left center;\n            background-repeat: repeat-x;\n        }\n        .statistic .rate_line>div:first-child>div{\n            background-image: url(assets/star_active.png);\n            height: 25px;\n            background-size: 15px 15px;\n            background-position: left center;\n            background-repeat: repeat-x;\n        }\n\n        /*.statistic >div:nth-child(2):hover .rate_line >div:first-child{\n            background-image: url(assets/star_rate_disabled.png);\n            background-size: 20px 20px;\n            width: 101px;\n            background-position: left center;\n            background-repeat: repeat-x;\n        }\n\n        .statistic >div:nth-child(2):hover .rate_line >div:first-child>div{\n            background-image: url();\n        }*/\n\n        .multiply{\n            position: relative;\n            display: block;\n            height: 30px;\n            //width: 280px;\n            margin-right: 5px;\n            margin-left: 58px;\n            overflow: hidden;\n        }\n\n        .suggestions {\n            min-width: 160px;\n            margin-top: 27px;\n            padding: 5px 0;\n            background-color: #f7f7f7;\n            border: 1px solid #e3e3e3;\n            width: 88%;\n            position: absolute;\n            z-index: 2;\n            font-size: 11pt;\n        }\n\n        .suggestions > ul {\n            margin: 0 0;\n            list-style: none;\n            padding: 3px 20px;\n        }\n\n        .suggestions > ul:hover {\n            background: #bbbbbb;\n            cursor: default;\n        }\n\n        a {\n            cursor: hand;\n        }\n\n        .a1{\n            //margin-right: 18px;\n            width: 143px;\n            display: inline-block;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            text-align: right;\n            font-size: 10pt;\n            margin-top: 5px;\n        }\n\n\n    "],
        template: "\n        <div class=\"tab-button fixed-button\" (click)=\"toggleLeftPane()\">\n            <span [ngClass]=\"{'icon-arrow-right': paneHidden, 'icon-arrow-left': !paneHidden}\"></span>\n        </div>\n\n        <div class=\"offer\" (window:resize)=\"onResize($event)\">\n\n            <!-- \u041F\u0420\u0410\u0412\u0410\u042F \u0421\u0422\u0412\u041E\u0420\u041A\u0410: \u041D\u0410\u0427\u0410\u041B\u041E -->\n\n            <div class=\"pane\" [hidden]=\"paneHidden\" [style.width.px]=\"paneWidth\">\n                <div class=\"header\">\n                    <div class=\"header-label\">{{ tab.header }}</div>\n                </div>\n                <div class=\"offer-prop\" style=\"overflow-x: hidden;\">\n                    <div class = \"offer_face\">\n                        <div class=\"price\"><div>{{offer.ownerPrice === undefined ? \" \" : split_number(offer.ownerPrice*1000)}}</div></div>\n                        <span style=\"\"></span>\n                        <div class=\"type\" style=\"text-transform: uppercase; color: #696969; height: 19px; margin-top: 0;\">\n                            <ui-view-value\n                                [options] = \"typeCodeOptions\"\n                                [value]=\"offer.typeCode\"\n                                [Style]=\"{'text-align': 'left', 'width': '300px'}\"\n                                    >\n                            </ui-view-value>\n                        </div>\n                        <div class=\"street\"> {{ (offer.fullAddress.street === undefined ? \" \" : offer.fullAddress.street) + (offer.fullAddress.house === undefined ? \" \" : (\", \"+ offer.fullAddress.house))}}</div>\n                        <div class=\"district\"> {{ (offer.fullAddress.city === undefined ? \" \" : offer.fullAddress.city) +(offer.district === undefined ? \" \" : (\", \"+ offer.district))}}</div>\n                        <div class=\"rooms\">\n                            <div [style.background-image]=\"'url(assets/offer_icon/rooms.png)'\"></div>\n                            {{ \"\u041A\u043E\u043C\u043D\u0430\u0442 \"+ (offer.roomsCount === undefined ? \" \" : offer.roomsCount)}}\n                        </div>\n                        <div class=\"rooms\">\n                            <div [style.background-image]=\"'url(assets/offer_icon/floor.png)'\"></div>\n                            {{ \"\u042D\u0442\u0430\u0436 \"+ (offer.floor === undefined ? \" \" : offer.floor)}}\n                        </div>\n                        <div class=\"rate\"></div>\n                        <div class=\"date\">{{offer.addDate | formatDate}}</div>\n                    </div>\n\n                    <div>\n                        <div class=\"pull-container\" style=\"margin: 20px 10px 0px;\">\n                            <div class=\"pull-right\" [hidden]=\"editEnabled\" (click)=\"toggleEdit()\" style=\"font-size: 10pt;\"><a href=\"#\" >\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C</a></div>\n                            <div class=\"pull-right\" [hidden]=\"!editEnabled\" (click)=\"save()\" style=\"font-size: 10pt;\"><a href=\"#\" >\u0413\u043E\u0442\u043E\u0432\u043E</a></div>\n                        </div>\n                        <!--<div class=\"pull-container\">\n\n                            <div class=\"font-sz-1 color-g2 pull-right\"> {{offer.lastSeenDate }} </div>\n                        </div>\n                        <div class=\"font-sz-2 color-g2 line-clamp line-clamp-2\" style=\"margin: 5px 5px 0 5px;\">{{ offer.sourceMediaText }}</div>\n                        -->\n                        <!-- \u0420\u0415\u0416\u0418\u041C \u0420\u0415\u0414\u0410\u041A\u0422\u0418\u0420\u041E\u0412\u0410\u041D\u0418\u042F: \u041D\u0410\u0427\u0410\u041B\u041E -->\n\n                        <div class=\"edit-block\" [hidden]=\"!editEnabled\" style=\"margin: 10px 0px 50px 0px;\">\n                            <div class=\"header_col\">\u041F\u043E\u0438\u0441\u043A \u043A\u043B\u0438\u0435\u043D\u0442\u0430</div>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/phone.png)'\"></div>\n                            <div class=\"view-group\" style='position: relative; display: block;'>\n                                <ui-input-line [placeholder] = \"'\u0422\u0435\u043B\u0435\u0444\u043E\u043D:'\" [value] = \"offer.person?.name\"\n                                    [width] = \"'225px'\" (onChange)= \"offer.person = $event\" [queryTipe]=\"'person'\">\n                                </ui-input-line>\n                            </div>\n\n                            <div class=\"header_col\">\u0421\u043E\u043F\u0440\u043E\u0432\u043E\u0434\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/user.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u041E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439:</span>\n                                <ui-slidingMenu class=\"view-value edit-value\"\n                                    [options] = \"agentOpts\"\n                                    [value]=\"offer.agent?.id\"\n                                    (onChange)=\"agentChanged($event)\"\n                                >\n                                </ui-slidingMenu>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/person_icon/contract.png)'\"></div>\n                            <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                                <ui-input-line [placeholder] = \"'\u0414\u043E\u0433\u043E\u0432\u043E\u0440 \u2116 \u043E\u0442'\" [value] = \"offer.contractStr\"\n                                        [width] = \"'225px'\" (onChange)= \"offer.contractStr = $event\">\n                                </ui-input-line>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/stage.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0421\u0442\u0430\u0434\u0438\u044F:</span>\n                                <ui-slidingMenu class=\"view-value edit-value\"\n                                    [options] = \"stateCodeOptions\"\n                                    [value]=\"offer.stateCode\"\n                                    (onChange)=\"offer.stateCode = $event.selected.value\"\n                                >\n                                </ui-slidingMenu>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/person_icon/source.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u0418\u0441\u0442\u043E\u0447\u043D\u0438\u043A:</span>\n                                <ui-slidingMenu class=\"view-value edit-value\" *ngIf=\"!offer.sourceUrl\"\n                                    [options] = \"sourceOptions\"\n                                    [value]=\"offer.sourceCode\"\n                                    (onChange)=\"offer.sourceCode = $event.selected.value\"\n                                >\n                                </ui-slidingMenu>\n                                <span class=\"color-g1\" *ngIf=\"offer.sourceUrl\">\n                                    <a href=\"\" target=\"_blank\" class=\"a1\">{{ offer.sourceUrl }}</a>\n                                </span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/offer.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u041F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u0435:</span>\n                                <ui-slidingMenu class=\"view-value edit-value\"\n                                    [options] = \"offerTypeCodeOptions\"\n                                    [value]=\"offer.offerTypeCode\"\n                                    (onChange)=\"offer.offerTypeCode = $event.selected.value\"\n                                >\n                                </ui-slidingMenu>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/property_type.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F:</span>\n                                <ui-slidingMenu class=\"view-value edit-value\"\n                                    [options] = \"[\n                                        {value: 'REZIDENTIAL', label: '\u0416\u0438\u043B\u0430\u044F \u043D\u0435\u0434\u0432\u0438\u0436\u0438\u043C\u043E\u0441\u0442\u044C'},\n                                        {value: 'COMMERSIAL', label: '\u041A\u043E\u043C\u043C\u0435\u0440\u0447\u0435\u0441\u043A\u0430\u044F \u043D\u0435\u0434\u0432\u0438\u0436\u0438\u043C\u043E\u0441\u0442\u044C'},\n                                        {value: 'LAND', label: '\u0417\u0435\u043C\u0435\u043B\u044C\u043D\u044B\u0439 \u0443\u0447\u0430\u0441\u0442\u043E\u043A'}\n                                    ]\"\n                                    [value]=\"categoryOffer\"\n                                    (onChange)=\"categoryOffer = $event.selected.value\"\n                                >\n                                </ui-slidingMenu>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/type.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0422\u0438\u043F \u043E\u0431\u044A\u0435\u043A\u0442\u0430:</span>\n                                <ui-slidingMenu class=\"view-value edit-value\"\n                                    [options] = \"getTypeCodeArray()\"\n                                    [value]=\"offer.typeCode\"\n                                    (onChange)=\"offer.typeCode = $event.selected.value\"\n                                >\n                                </ui-slidingMenu>\n                            </div>\n\n                            <!--<div class=\"view-group\">\n                                <span class=\"view-label\">\u041D\u043E\u043C\u0435\u0440</span>\n                                <input class=\"view-value edit-value vv-2\" [(ngModel)]=\"offer.houseNum\">/\n                                <input class=\"view-value edit-value vv-2\" [(ngModel)]=\"offer.apNum\">\n                            </div>-->\n\n\n                            <div class = \"header_col\">\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u043E\u0431\u044A\u0435\u043A\u0442\u0430:</div>\n                    <div *ngIf=\"offer.typeCode == 'apartment' || offer.typeCode == 'room' || offer.typeCode == 'apartment_small' || offer.typeCode == 'apartment_small'\">\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/address.png)'\"></div>\n                            <div class=\"view-group multiply\" style='height: 30px;'>\n                                <ui-input-line [placeholder] = \"'\u0410\u0434\u0440\u0435\u0441 \u043E\u0431\u044A\u0435\u043A\u0442\u0430:'\" [value] = \"addressStr\"\n                                    [width] = \"'225px'\" (onChange)= \"parseArray($event, offerAddress, true)\" [queryTipe]=\"'address'\" (clicked)=\"showMenu($event,true)\">\n                                </ui-input-line>\n                                <div class='arrow' (click)=\"showMenu($event, true)\" *ngIf=\"offerAddress[0] && offerAddress[0].value !== undefined\"></div>\n                                <ui-multiselect class=\"view-value edit-value\" style=\"\"\n                                    [options] = \"[\n                                        {value: 'KRAY', label: '\u0420\u0435\u0433\u0438\u043E\u043D'},\n                                        {value: 'CITY', label: '\u041D\u0430\u0441. \u043F\u0443\u043D\u043A\u0442'},\n                                        {value: 'DISTRICT', label: '\u0410\u0434\u043C. \u0440\u0430\u0439\u043E\u043D'},\n                                        {value: 'STREET', label: '\u0423\u043B\u0438\u0446\u0430'},\n                                        {value: 'HOUSE', label: '\u0414\u043E\u043C'},\n                                        {value: 'HOUSING', label: '\u041A\u043E\u0440\u043F\u0443\u0441'},\n                                        {value: 'FLAT', label: '\u041A\u0432\u0430\u0440\u0442\u0438\u0440\u0430'}\n                                    ]\"\n                                    [masks] = \"['','','','','','','']\"\n                                    [values]=\"offerAddress\"\n                                    [width]=\"'36%'\"\n                                    (onChange)=\"parseArray($event, offerAddress, true)\">\n                                </ui-multiselect>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/state.png)'\"></div>\n                            <div class=\"view-group\" >\n                                <span class=\"view-label\">\u0421\u0442\u0430\u0442\u0443\u0441 \u043E\u0431\u044A\u0435\u043A\u0442\u0430:</span>\n                                <ui-slidingMenu class=\"view-value edit-value\"\n                                    [options] = \"[\n                                        {value: 'true', label: '\u041D\u043E\u0432\u043E\u0441\u0442\u0440\u043E\u0439\u043A\u0430'},\n                                        {value: 'false', label: '\u0412\u0442\u043E\u0440\u0438\u0447\u043A\u0430'}\n                                    ]\"\n                                    [value]=\"offer.newBuilding\"\n                                    (onChange)=\"offer.newBuilding = ($event.selected.value == 'true')\"\n                                >\n                                </ui-slidingMenu>\n                            </div>\n                            <hr>\n                            <div *ngIf=\"offer.newBuilding\" class='view_icon' [style.background-image]=\"'url(assets/offer_icon/stage.png)'\"></div>\n                            <div *ngIf=\"offer.newBuilding\" class=\"view-group\" >\n                                <span class=\"view-label\">\u0421\u0442\u0430\u0434\u0438\u044F \u043E\u0431\u044A\u0435\u043A\u0442\u0430:</span>\n                                <ui-slidingMenu class=\"view-value edit-value\"\n                                    [options] = \"[\n                                        {value: 'PROJECT', label: '\u041F\u0440\u043E\u0435\u043A\u0442'},\n                                        {value: 'BUILDING', label: '\u0421\u0442\u0440\u043E\u044F\u0449\u0438\u0439\u0441\u044F'},\n                                        {value: 'READY', label: '\u0421\u0434\u0430\u043D'}\n                                    ]\"\n                                    [value]=\"offer.objectStage\"\n                                    (onChange)=\"offer.objectStage = $event.selected.value\"\n                                >\n                                </ui-slidingMenu>\n                            </div>\n                            <hr *ngIf=\"offer.newBuilding\">\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/year.png)'\"></div>\n                            <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                                <ui-input-line [placeholder] = \"'\u0413\u043E\u0434 \u043F\u043E\u0441\u0442\u0440\u043E\u0439\u043A\u0438:'\" [value] = \"offer.buildYear\"\n                                        [width] = \"'225px'\" (onChange)= \"offer.buildYear = $event\">\n                                </ui-input-line>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/property_type.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0422\u0438\u043F \u0434\u043E\u043C\u0430:</span>\n                                <ui-slidingMenu class=\"view-value edit-value\"\n                                    [options] = \"apSchemaOptions\"\n                                    [value]=\"offer.apSchemeId\"\n                                    (onChange)=\"offer.apSchemeId = $event.selected.value\"\n                                >\n                                </ui-slidingMenu>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/material.png)'\"></div>\n                            <div class=\"view-group\" >\n                                <span class=\"view-label\">\u041C\u0430\u0442\u0435\u0440\u0438\u0430\u043B:</span>\n                                <ui-slidingMenu class=\"view-value edit-value\"\n                                    [options] = \"houseTypeOptions\"\n                                    [value]=\"offer.houseTypeId\"\n                                    (onChange)=\"offer.houseTypeId = $event.selected.value\"\n                                >\n                                </ui-slidingMenu>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/rooms.png)'\"></div>\n                            <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                                <ui-input-line [placeholder] = \"'\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043A\u043E\u043C\u043D\u0430\u0442:'\" [value] = \"offer.roomsCount\"\n                                    [width] = \"'225px'\" (onChange)= \"offer.roomsCount = ParseInt($event)\">\n                                </ui-input-line>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/room_type.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0422\u0438\u043F \u043A\u043E\u043C\u043D\u0430\u0442:</span>\n                                <ui-slidingMenu class=\"view-value edit-value\"\n                                    [options] = \"roomSchemeOptions\"\n                                    [value]=\"offer.roomSchemeId\"\n                                    (onChange)=\"offer.roomSchemeId = $event.selected.value\"\n                                >\n                                </ui-slidingMenu>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/floor.png)'\"></div>\n                            <div class=\"view-group multiply\">\n                                <span class=\"view-label pull-left\">\u042D\u0442\u0430\u0436\u0438:</span>\n                                <div class=\"show_value\">{{\" \"}}</div>\n                                <div class='arrow' (click)=\"showMenu($event, true)\"></div>\n                                <ui-multiselect class=\"view-value edit-value\" style=\"\"\n                                    [options] = \"[\n                                        {value: 'FLOOR', label: '\u042D\u0442\u0430\u0436'},\n                                        {value: 'FLOORS', label: '\u042D\u0442\u0430\u0436\u043D\u043E\u0441\u0442\u044C'},\n                                        {value: 'LEVELS', label: '\u0423\u0440\u043E\u0432\u043D\u0435\u0439'}\n                                    ]\"\n                                    [masks] = \"['','','']\"\n                                    [values]=\"offerFloor\"\n                                    [width]=\"'43%'\"\n                                    (onChange)=\"parseArray($event, offerFloor)\">\n                                </ui-multiselect>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/square.png)'\"></div>\n                            <div class=\"view-group multiply\">\n                                <span class=\"view-label pull-left\">\u041F\u043B\u043E\u0449\u0430\u0434\u044C:</span>\n                                <div class=\"show_value\">{{\" \"}}</div>\n                                <div class='arrow' (click)=\"showMenu($event, true)\"></div>\n                                <ui-multiselect class=\"view-value edit-value\" style=\"\"\n                                    [options] = \"[\n                                        {value: 'TOTAL', label: '\u041E\u0431\u0449\u0430\u044F'},\n                                        {value: 'LIVING', label: '\u0416\u0438\u043B\u0430\u044F'},\n                                        {value: 'KITCHEN', label: '\u041A\u0443\u0445\u043D\u044F'}\n                                    ]\"\n                                    [masks] = \"['','','','']\"\n                                    [values]=\"offerSquare\"\n                                    [width]=\"'43%'\"\n                                    (onChange)=\"parseArray($event, this.offerSquare)\">\n                                </ui-multiselect>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/balcony.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u041B\u043E\u0434\u0436\u0438\u044F:</span>\n                                <ui-slidingMenu class=\"view-value edit-value\"\n                                    [options] = \"YesNoOptions\"\n                                    [value]=\"offer.loggia\"\n                                    (onChange)=\"offer.loggia = ($event.selected.value == 'true')\"\n                                >\n                                </ui-slidingMenu>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/balcony.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0411\u0430\u043B\u043A\u043E\u043D:</span>\n                                <ui-slidingMenu class=\"view-value edit-value\"\n                                    [options] = \"YesNoOptions\"\n                                    [value]=\"offer.balcony\"\n                                    (onChange)=\"offer.balcony =  ($event.selected.value == 'true')\"\n                                >\n                                </ui-slidingMenu>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/toilet.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0421\u0430\u043D\u0443\u0437\u0435\u043B:</span>\n                                <ui-slidingMenu class=\"view-value edit-value\"\n                                    [options] = \"bathroomOptions\"\n                                    [value]=\"offer.bathroom\"\n                                    (onChange)=\"offer.bathroom = $event.selected.value\"\n                                >\n                                </ui-slidingMenu>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/condition.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435:</span>\n                                <ui-slidingMenu class=\"view-value edit-value\"\n                                    [options] = \"conditionOptions\"\n                                    [value]=\"offer.condition\"\n                                    (onChange)=\"offer.condition = $event.selected.value\"\n                                >\n                                </ui-slidingMenu>\n                            </div>\n                            <hr>\n                        </div>\n                <div *ngIf=\"offer.typeCode == 'house' || offer.typeCode == 'townhouse' || offer.typeCode == 'cottage' || offer.typeCode == 'dacha' \">\n                                <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/distance.png)'\"></div>\n                                <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                                    <ui-input-line [placeholder] = \"'\u0423\u0434\u0430\u043B\u0435\u043D\u043D\u043E\u0441\u0442\u044C:'\" [value] = \"offer.distance\"\n                                        [width] = \"'225px'\" (onChange)= \"offer.distance = $event\">\n                                    </ui-input-line>\n                                </div>\n                                <hr>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/name.png)'\"></div>\n                                <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                                    <ui-input-line [placeholder] = \"'\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435 \u043F\u043E\u0441\u0435\u043B\u0435\u043D\u0438\u044F:'\" [value] = \"offer.settlement\"\n                                        [width] = \"'225px'\" (onChange)= \"offer.settlement = $event\">\n                                    </ui-input-line>\n                                </div>\n                                <hr>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/address.png)'\"></div>\n                                <div class=\"view-group multiply\" style='height: 30px;'>\n                                    <ui-input-line [placeholder] = \"'\u0410\u0434\u0440\u0435\u0441 \u043E\u0431\u044A\u0435\u043A\u0442\u0430:'\" [value] = \"addressStr\"\n                                        [width] = \"'225px'\" (onChange)= \"parseArray($event, offerAddress, true)\" [queryTipe]=\"'address'\" (clicked)=\"showMenu($event,true)\">\n                                    </ui-input-line>\n                                    <div class='arrow' (click)=\"showMenu($event, true)\" *ngIf=\"offerAddress[0] && offerAddress[0].value !== undefined\"></div>\n                                    <ui-multiselect class=\"view-value edit-value\" style=\"\"\n                                        [options] = \"[\n                                            {value: 'KRAY', label: '\u0420\u0435\u0433\u0438\u043E\u043D'},\n                                            {value: 'CITY', label: '\u041D\u0430\u0441. \u043F\u0443\u043D\u043A\u0442'},\n                                            {value: 'DISTRICT', label: '\u0410\u0434\u043C. \u0440\u0430\u0439\u043E\u043D'},\n                                            {value: 'STREET', label: '\u0423\u043B\u0438\u0446\u0430'},\n                                            {value: 'HOUSE', label: '\u0414\u043E\u043C'},\n                                            {value: 'HOUSING', label: '\u041A\u043E\u0440\u043F\u0443\u0441'},\n                                            {value: 'FLAT', label: '\u041A\u0432\u0430\u0440\u0442\u0438\u0440\u0430'}\n                                        ]\"\n                                        [masks] = \"['','','','','','','']\"\n                                        [values]=\"offerAddress\"\n                                        [width]=\"'36%'\"\n                                        (onChange)=\"parseArray($event, offerAddress, true)\">\n                                    </ui-multiselect>\n                                </div>\n                                <hr>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/secure.png)'\"></div>\n                                <div class=\"view-group\">\n                                    <span class=\"view-label\">\u041E\u0445\u0440\u0430\u043D\u0430:</span>\n                                    <ui-slidingMenu class=\"view-value edit-value\"\n                                        [options] = \"YesNoOptions\"\n                                        [value]=\"offer.guard\"\n                                        (onChange)=\"$event.selected.value\"\n                                    >\n                                    </ui-slidingMenu>\n                                </div>\n                                <hr>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/year.png)'\"></div>\n                                <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                                    <ui-input-line [placeholder] = \"'\u0413\u043E\u0434 \u043F\u043E\u0441\u0442\u0440\u043E\u0439\u043A\u0438:'\" [value] = \"offer.buildYear\"\n                                            [width] = \"'225px'\" (onChange)= \"offer.buildYear = $event\">\n                                    </ui-input-line>\n                                </div>\n                                <hr>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/floor.png)'\"></div>\n                                <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                                    <ui-input-line [placeholder] = \"'\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u044D\u0442\u0430\u0436\u0435\u0439:'\" [value] = \"offer.floorsCount\"\n                                            [width] = \"'225px'\" (onChange)= \"parseArray([{type: 'FLOORS', value: $event}], offerFloor)\">\n                                    </ui-input-line>\n                                </div>\n                                <hr>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/rooms.png)'\"></div>\n                                <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                                    <ui-input-line [placeholder] = \"'\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043A\u043E\u043C\u043D\u0430\u0442:'\" [value] = \"offer.roomsCount\"\n                                        [width] = \"'225px'\" (onChange)= \"offer.roomsCount = $event\">\n                                    </ui-input-line>\n                                </div>\n                                <hr>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/room_type.png)'\"></div>\n                                <div class=\"view-group\">\n                                    <span class=\"view-label\">\u0422\u0438\u043F \u043A\u043E\u043C\u043D\u0430\u0442:</span>\n                                    <ui-slidingMenu class=\"view-value edit-value\"\n                                        [options] = \"roomSchemeOptions\"\n                                        [value]=\"offer.roomSchemeId\"\n                                        (onChange)=\"offer.roomSchemeId = $event.selected.value\"\n                                    >\n                                    </ui-slidingMenu>\n                                </div>\n                                <hr>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/square.png)'\"></div>\n                                <div class=\"view-group multiply\">\n                                    <span class=\"view-label pull-left\">\u041F\u043B\u043E\u0449\u0430\u0434\u044C \u0434\u043E\u043C\u0430:</span>\n                                    <div class=\"show_value\">{{\" \"}}</div>\n                                    <div class='arrow' (click)=\"showMenu($event, true)\"></div>\n                                    <ui-multiselect class=\"view-value edit-value\" style=\"\"\n                                        [options] = \"[\n                                            {value: 'TOTAL', label: '\u041E\u0431\u0449\u0430\u044F'},\n                                            {value: 'LIVING', label: '\u0416\u0438\u043B\u0430\u044F'},\n                                            {value: 'KITCHEN', label: '\u041A\u0443\u0445\u043D\u044F'}\n                                        ]\"\n                                        [masks] = \"['','','','']\"\n                                        [values]=\"offerSquare\"\n                                        [width]=\"'43%'\"\n                                        (onChange)=\"parseArray($event, this.offerSquare)\">\n                                    </ui-multiselect>\n                                </div>\n                                <hr>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/condition.png)'\"></div>\n                                <div class=\"view-group\">\n                                    <span class=\"view-label\">\u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435:</span>\n                                    <ui-slidingMenu class=\"view-value edit-value\"\n                                        [options] = \"conditionOptions\"\n                                        [value]=\"offer.condition\"\n                                        (onChange)=\"offer.condition = $event.selected.value\"\n                                    >\n                                    </ui-slidingMenu>\n                                </div>\n                                <hr>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/material.png)'\"></div>\n                                <div class=\"view-group\" >\n                                    <span class=\"view-label\">\u041C\u0430\u0442\u0435\u0440\u0438\u0430\u043B:</span>\n                                    <ui-slidingMenu class=\"view-value edit-value\"\n                                        [options] = \"houseTypeOptions\"\n                                        [value]=\"offer.houseTypeId\"\n                                        (onChange)=\"offer.houseTypeId = $event.selected.value\"\n                                    >\n                                    </ui-slidingMenu>\n                                </div>\n                                <hr>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/balcony.png)'\"></div>\n                                <div class=\"view-group\">\n                                    <span class=\"view-label\">\u041B\u043E\u0434\u0436\u0438\u044F:</span>\n                                    <ui-slidingMenu class=\"view-value edit-value\"\n                                        [options] = \"YesNoOptions\"\n                                        [value]=\"offer.loggia\"\n                                        (onChange)=\"offer.loggia = ($event.selected.value == 'true')\"\n                                    >\n                                    </ui-slidingMenu>\n                                </div>\n                                <hr>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/balcony.png)'\"></div>\n                                <div class=\"view-group\">\n                                    <span class=\"view-label\">\u0411\u0430\u043B\u043A\u043E\u043D:</span>\n                                    <ui-slidingMenu class=\"view-value edit-value\"\n                                        [options] = \"YesNoOptions\"\n                                        [value]=\"offer.balcony\"\n                                        (onChange)=\"offer.balcony = ($event.selected.value == 'true')\"\n                                    >\n                                    </ui-slidingMenu>\n                                </div>\n                                <hr>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/toilet.png)'\"></div>\n                                <div class=\"view-group\">\n                                    <span class=\"view-label\">\u0421\u0430\u043D\u0443\u0437\u0435\u043B:</span>\n                                    <ui-slidingMenu class=\"view-value edit-value\"\n                                        [options] = \"bathroomOptions\"\n                                        [value]=\"offer.bathroom\"\n                                        (onChange)=\"offer.bathroom = $event.selected.value\"\n                                    >\n                                    </ui-slidingMenu>\n                                </div>\n                                <hr>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/water.png)'\"></div>\n                                <div class=\"view-group\">\n                                    <span class=\"view-label\">\u0412\u043E\u0434\u043E\u0441\u043D\u0430\u0431\u0436\u0435\u043D\u0438\u0435:</span>\n                                    <ui-slidingMenu class=\"view-value edit-value\"\n                                        [options] = \"YesNoOptions\"\n                                        [value]=\"offer.waterSupply\"\n                                        (onChange)=\"offer.waterSupply = ($event.selected.value == 'true')\"\n                                    >\n                                    </ui-slidingMenu>\n                                </div>\n                                <hr>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/gas.png)'\"></div>\n                                <div class=\"view-group\">\n                                        <span class=\"view-label\">\u0413\u0430\u0437\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u044F:</span>\n                                    <ui-slidingMenu class=\"view-value edit-value\"\n                                        [options] = \"YesNoOptions\"\n                                        [value]=\"offer.gasification\"\n                                        (onChange)=\"offer.gasification = ($event.selected.value == 'true')\"\n                                    >\n                                    </ui-slidingMenu>\n                                </div>\n                                <hr>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/electrification.png)'\"></div>\n                                <div class=\"view-group\">\n                                    <span class=\"view-label\">\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u0441\u043D\u0430\u0431\u0436\u0435\u043D\u0438\u0435:</span>\n                                    <ui-slidingMenu class=\"view-value edit-value\"\n                                        [options] = \"YesNoOptions\"\n                                        [value]=\"offer.electrification\"\n                                        (onChange)=\"offer.electrification = ($event.selected.value == 'true')\"\n                                    >\n                                    </ui-slidingMenu>\n                                </div>\n                                <hr>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/sewerage.png)'\"></div>\n                                <div class=\"view-group\">\n                                    <span class=\"view-label\">\u041A\u0430\u043D\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044F:</span>\n                                    <ui-slidingMenu class=\"view-value edit-value\"\n                                        [options] = \"YesNoOptions\"\n                                        [value]=\"offer.sewerage\"\n                                        (onChange)=\"offer.sewerage = ($event.selected.value == 'true')\"\n                                    >\n                                    </ui-slidingMenu>\n                                </div>\n                                <hr>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/heating.png)'\"></div>\n                                <div class=\"view-group\">\n                                    <span class=\"view-label\">\u041E\u0442\u043E\u043F\u043B\u0435\u043D\u0438\u0435:</span>\n                                    <ui-slidingMenu class=\"view-value edit-value\"\n                                        [options] = \"YesNoOptions\"\n                                        [value]=\"offer.centralHeating\"\n                                        (onChange)=\"offer.centralHeating = ($event.selected.value == 'true')\"\n                                    >\n                                    </ui-slidingMenu>\n                                </div>\n                                <hr>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/square.png)'\"></div>\n                                <div class=\"view-group multiply\">\n                                    <span class=\"view-label pull-left\">\u041F\u043B\u043E\u0449\u0430\u0434\u044C \u0443\u0447\u0430\u0441\u0442\u043A\u0430:</span>\n                                    <div class=\"show_value\">{{offer.squareLand}}</div>\n                                    <div class='arrow' (click)=\"showMenu($event, true)\"></div>\n                                    <ui-multiselect class=\"view-value edit-value\" style=\"\"\n                                        [options] = \"[\n                                            {value: '0', label: '\u0421\u043E\u0442\u043A\u0438'},\n                                            {value: '1', label: '\u0413\u0435\u043A\u0442\u0430\u0440\u044B'}\n                                        ]\"\n                                        [masks] = \"['','']\"\n                                        [values]=\"landSquare\"\n                                        [width]=\"'43%'\"\n                                        (onChange)=\"parseArray($event, landSquare)\">\n                                    </ui-multiselect>\n                                </div>\n                                <hr>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/land.png)'\"></div>\n                                <div class=\"view-group\">\n                                    <span class=\"view-label\">\u041D\u0430\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0437\u0435\u043C\u0435\u043B\u044C:</span>\n                                    <ui-slidingMenu class=\"view-value edit-value\"\n                                        [options] = \"landOption\"\n                                        [value]=\"offer.landPurpose\"\n                                        (onChange)=\"offer.landPurpose = $event.selected.value\"\n                                    >\n                                    </ui-slidingMenu>\n                                </div>\n                                <hr>\n                        </div>\n                        <div *ngIf=\"offer.typeCode == 'land' || offer.typeCode == 'land1' || offer.typeCode == 'land2'\">\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/distance.png)'\"></div>\n                                    <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                                        <ui-input-line [placeholder] = \"'\u0423\u0434\u0430\u043B\u0435\u043D\u043D\u043E\u0441\u0442\u044C:'\" [value] = \"offer.distance\"\n                                            [width] = \"'225px'\" (onChange)= \"offer.distance = $event\">\n                                        </ui-input-line>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/name.png)'\"></div>\n                                    <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                                        <ui-input-line [placeholder] = \"'\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435 \u043F\u043E\u0441\u0435\u043B\u0435\u043D\u0438\u044F:'\" [value] = \"offer.settlement\"\n                                            [width] = \"'225px'\" (onChange)= \"offer.settlement = $event\">\n                                        </ui-input-line>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/address.png)'\"></div>\n                                    <div class=\"view-group multiply\" style='height: 30px;'>\n                                        <ui-input-line [placeholder] = \"'\u0410\u0434\u0440\u0435\u0441 \u0443\u0447\u0430\u0441\u0442\u043A\u0430:'\" [value] = \"addressStr\"\n                                            [width] = \"'225px'\" (onChange)= \"parseArray($event, offerAddress, true)\" [queryTipe]=\"'address'\" (clicked)=\"showMenu($event,true)\">\n                                        </ui-input-line>\n                                        <div class='arrow' (click)=\"showMenu($event, true)\" *ngIf=\"offerAddress[0] && offerAddress[0].value !== undefined\"></div>\n                                        <ui-multiselect class=\"view-value edit-value\" style=\"\"\n                                            [options] = \"[\n                                                {value: 'KRAY', label: '\u0420\u0435\u0433\u0438\u043E\u043D'},\n                                                {value: 'CITY', label: '\u041D\u0430\u0441. \u043F\u0443\u043D\u043A\u0442'},\n                                                {value: 'DISTRICT', label: '\u0410\u0434\u043C. \u0440\u0430\u0439\u043E\u043D'},\n                                                {value: 'STREET', label: '\u0423\u043B\u0438\u0446\u0430'},\n                                                {value: 'HOUSE', label: '\u0414\u043E\u043C'},\n                                                {value: 'HOUSING', label: '\u041A\u043E\u0440\u043F\u0443\u0441'},\n                                                {value: 'FLAT', label: '\u041A\u0432\u0430\u0440\u0442\u0438\u0440\u0430'}\n                                            ]\"\n                                            [masks] = \"['','','','','','','']\"\n                                            [values]=\"offerAddress\"\n                                            [width]=\"'36%'\"\n                                            (onChange)=\"parseArray($event, offerAddress, true)\">\n                                        </ui-multiselect>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/secure.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label\">\u041E\u0445\u0440\u0430\u043D\u0430:</span>\n                                        <ui-slidingMenu class=\"view-value edit-value\"\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.guard\"\n                                            (onChange)=\"offer.guard = $event.selected.value\"\n                                        >\n                                        </ui-slidingMenu>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/land.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label\">\u041D\u0430\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0437\u0435\u043C\u0435\u043B\u044C:</span>\n                                        <ui-slidingMenu class=\"view-value edit-value\"\n                                            [options] = \"landOption\"\n                                            [value]=\"offer.landPurpose\"\n                                            (onChange)=\"offer.landPurpose = $event.selected.value\"\n                                        >\n                                        </ui-slidingMenu>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/square.png)'\"></div>\n                                    <div class=\"view-group multiply\">\n                                        <span class=\"view-label pull-left\">\u041F\u043B\u043E\u0449\u0430\u0434\u044C \u0443\u0447\u0430\u0441\u0442\u043A\u0430:</span>\n                                        <div class=\"show_value\">{{offer.squareLand}}</div>\n                                        <div class='arrow' (click)=\"showMenu($event, true)\"></div>\n                                        <ui-multiselect class=\"view-value edit-value\" style=\"\"\n                                            [options] = \"[\n                                                {value: '0', label: '\u0421\u043E\u0442\u043A\u0438'},\n                                                {value: '1', label: '\u0413\u0435\u043A\u0442\u0430\u0440\u044B'}\n                                            ]\"\n                                            [masks] = \"['','']\"\n                                            [values]=\"landSquare\"\n                                            [width]=\"'43%'\"\n                                            (onChange)=\"parseArray($event, landSquare)\">\n                                        </ui-multiselect>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/water.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label\">\u0412\u043E\u0434\u043E\u0441\u043D\u0430\u0431\u0436\u0435\u043D\u0438\u0435:</span>\n                                        <ui-slidingMenu class=\"view-value edit-value\"\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.waterSupply\"\n                                            (onChange)=\"offer.waterSupply = ($event.selected.value == 'true')\"\n                                        >\n                                        </ui-slidingMenu>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/gas.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label\">\u0413\u0430\u0437\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u044F:</span>\n                                        <ui-slidingMenu class=\"view-value edit-value\"\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.gasification\"\n                                            (onChange)=\"offer.gasification = ($event.selected.value == 'true')\"\n                                        >\n                                        </ui-slidingMenu>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/electrification.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label\">\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u0441\u043D\u0430\u0431\u0436\u0435\u043D\u0438\u0435:</span>\n                                        <ui-slidingMenu class=\"view-value edit-value\"\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.electrification\"\n                                            (onChange)=\"offer.electrification = ($event.selected.value == 'true')\"\n                                        >\n                                        </ui-slidingMenu>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/sewerage.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label\">\u041A\u0430\u043D\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044F:</span>\n                                        <ui-slidingMenu class=\"view-value edit-value\"\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.sewerage\"\n                                            (onChange)=\"offer.sewerage =($event.selected.value == 'true')\"\n                                        >\n                                    </ui-slidingMenu>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/heating.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label\">\u041E\u0442\u043E\u043F\u043B\u0435\u043D\u0438\u0435:</span>\n                                        <ui-slidingMenu class=\"view-value edit-value\"\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.centralHeating\"\n                                            (onChange)=\"offer.centralHeating = ($event.selected.value == 'true')\"\n                                        >\n                                        </ui-slidingMenu>\n                                    </div>\n                                    <hr>\n                        </div>\n\n                        <div *ngIf=\"offer.typeCode == 'market_place' || offer.typeCode == 'production_place' || offer.typeCode == 'warehouse_place'\n                                || offer.typeCode == 'service_place'|| offer.typeCode == 'gpurpose_place' || offer.typeCode == 'building'\n                                || offer.typeCode == 'other' || offer.typeCode == 'office' || offer.typeCode == 'cosial_place'\"\n                        >\n                                        <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/distance.png)'\"></div>\n                                        <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                                            <ui-input-line [placeholder] = \"'\u0423\u0434\u0430\u043B\u0435\u043D\u043D\u043E\u0441\u0442\u044C:'\" [value] = \"offer.distance\"\n                                                [width] = \"'225px'\" (onChange)= \"offer.distance = $event\">\n                                            </ui-input-line>\n                                        </div>\n                                        <hr>\n                                        <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/floor.png)'\"></div>\n                                        <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                                            <ui-input-line [placeholder] = \"'\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435:'\" [value] = \"offer.objectName\"\n                                                [width] = \"'225px'\" (onChange)= \"offer.objectName = $event\">\n                                            </ui-input-line>\n                                        </div>\n                                        <hr>\n                                        <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/address.png)'\"></div>\n                                        <div class=\"view-group multiply\" style='height: 30px;'>\n                                            <ui-input-line [placeholder] = \"'\u0410\u0434\u0440\u0435\u0441 \u043E\u0431\u044A\u0435\u043A\u0442\u0430:'\" [value] = \"addressStr\"\n                                                [width] = \"'225px'\" (onChange)= \"parseArray($event, offerAddress, true)\" [queryTipe]=\"'address'\" (clicked)=\"showMenu($event,true)\">\n                                            </ui-input-line>\n                                            <div class='arrow' (click)=\"showMenu($event, true)\" *ngIf=\"offerAddress[0] && offerAddress[0].value !== undefined\"></div>\n                                            <ui-multiselect class=\"view-value edit-value\" style=\"\"\n                                                [options] = \"[\n                                                    {value: 'KRAY', label: '\u0420\u0435\u0433\u0438\u043E\u043D'},\n                                                    {value: 'CITY', label: '\u041D\u0430\u0441. \u043F\u0443\u043D\u043A\u0442'},\n                                                    {value: 'DISTRICT', label: '\u0410\u0434\u043C. \u0440\u0430\u0439\u043E\u043D'},\n                                                    {value: 'STREET', label: '\u0423\u043B\u0438\u0446\u0430'},\n                                                    {value: 'HOUSE', label: '\u0414\u043E\u043C'},\n                                                    {value: 'HOUSING', label: '\u041A\u043E\u0440\u043F\u0443\u0441'},\n                                                    {value: 'FLAT', label: '\u041A\u0432\u0430\u0440\u0442\u0438\u0440\u0430'}\n                                                ]\"\n                                                [masks] = \"['','','','','','','']\"\n                                                [values]=\"offerAddress\"\n                                                [width]=\"'36%'\"\n                                                (onChange)=\"parseArray($event, offerAddress, true)\">\n                                            </ui-multiselect>\n                                        </div>\n                                        <hr>\n                                        <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/state.png)'\"></div>\n                                        <div class=\"view-group\" >\n                                            <span class=\"view-label\">\u0421\u0442\u0430\u0442\u0443\u0441 \u043E\u0431\u044A\u0435\u043A\u0442\u0430:</span>\n                                            <ui-slidingMenu class=\"view-value edit-value\"\n                                                [options] = \"[\n                                                    {value: 'true', label: '\u041D\u043E\u0432\u043E\u0441\u0442\u0440\u043E\u0439\u043A\u0430'},\n                                                    {value: 'false', label: '\u0412\u0442\u043E\u0440\u0438\u0447\u043A\u0430'}\n                                                ]\"\n                                                [value]=\"offer.newBuilding\"\n                                                (onChange)=\"offer.newBuilding = ($event.selected.value == 'true')\"\n                                            >\n                                            </ui-slidingMenu>\n                                        </div>\n                                        <hr>\n                                        <div *ngIf=\"offer.newBuilding\" class='view_icon' [style.background-image]=\"'url(assets/offer_icon/stage.png)'\"></div>\n                                        <div *ngIf=\"offer.newBuilding\" class=\"view-group\" >\n                                            <span class=\"view-label\">\u0421\u0442\u0430\u0434\u0438\u044F \u043E\u0431\u044A\u0435\u043A\u0442\u0430:</span>\n                                            <ui-slidingMenu class=\"view-value edit-value\"\n                                                [options] = \"[\n                                                    {value: 'PROJECT', label: '\u041F\u0440\u043E\u0435\u043A\u0442'},\n                                                    {value: 'BUILDING', label: '\u0421\u0442\u0440\u043E\u044F\u0449\u0438\u0439\u0441\u044F'},\n                                                    {value: 'READY', label: '\u0421\u0434\u0430\u043D'}\n                                                ]\"\n                                                [value]=\"offer.objectStage\"\n                                                (onChange)=\"offer.objectStage = $event.selected.value\"\n                                            >\n                                            </ui-slidingMenu>\n                                        </div>\n                                        <hr *ngIf=\"offer.newBuilding\">\n                                        <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/year.png)'\"></div>\n                                        <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                                            <ui-input-line [placeholder] = \"'\u0413\u043E\u0434 \u043F\u043E\u0441\u0442\u0440\u043E\u0439\u043A\u0438:'\" [value] = \"offer.buildYear\"\n                                                    [width] = \"'225px'\" (onChange)= \"offer.buildYear = $event\">\n                                            </ui-input-line>\n                                        </div>\n                                        <hr>\n                                        <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/property_type.png)'\"></div>\n                                        <div class=\"view-group\">\n                                            <span class=\"view-label\">\u0422\u0438\u043F \u0437\u0434\u0430\u043D\u0438\u044F:</span>\n                                            <ui-slidingMenu class=\"view-value edit-value\"\n                                                [options] = \"getBuldingOptionsArray()\"\n                                                [value]=\"offer.buildingType\"\n                                                (onChange)=\"offer.buildingType = $event.selected.value\"\n                                            >\n                                            </ui-slidingMenu>\n                                        </div>\n                                        <hr>\n                                        <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/layout.png)'\"></div>\n                                        <div class=\"view-group\">\n                                            <span class=\"view-label\">\u041A\u043B\u0430\u0441\u0441 \u0437\u0434\u0430\u043D\u0438\u044F:</span>\n                                            <ui-slidingMenu class=\"view-value edit-value\"\n                                                [options] = \"[\n                                                    {value: '1', label: '\u0410'},\n                                                    {value: '2W', label: '\u0410+'},\n                                                    {value: 'T3', label: '\u0411'},\n                                                    {value: '4', label: '\u0411+'},\n                                                    {value: '5', label: '\u0421'},\n                                                    {value: '6', label: '\u0421+'}\n                                                ]\"\n                                                [value]=\"offer.buildingClass\"\n                                                (onChange)=\"offer.buildingClass = $event.selected.value\"\n                                            >\n                                            </ui-slidingMenu>\n                                        </div>\n                                        <hr>\n                                        <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/material.png)'\"></div>\n                                        <div class=\"view-group\" >\n                                            <span class=\"view-label\">\u041C\u0430\u0442\u0435\u0440\u0438\u0430\u043B:</span>\n                                            <ui-slidingMenu class=\"view-value edit-value\"\n                                                [options] = \"houseTypeOptions\"\n                                                [value]=\"offer.houseTypeId\"\n                                                (onChange)=\"offer.houseTypeId = $event.selected.value\"\n                                            >\n                                            </ui-slidingMenu>\n                                        </div>\n                                        <hr>\n                                        <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/floor.png)'\"></div>\n                                        <div class=\"view-group multiply\">\n                                            <span class=\"view-label pull-left\">\u042D\u0442\u0430\u0436\u0438:</span>\n                                            <div class=\"show_value\">{{\" \"}}</div>\n                                            <div class='arrow' (click)=\"showMenu($event, true)\"></div>\n                                            <ui-multiselect class=\"view-value edit-value\" style=\"\"\n                                                [options] = \"[\n                                                    {value: 'FLOOR', label: '\u042D\u0442\u0430\u0436'},\n                                                    {value: 'FLOORS', label: '\u042D\u0442\u0430\u0436\u043D\u043E\u0441\u0442\u044C'},\n                                                    {value: 'LEVELS', label: '\u0423\u0440\u043E\u0432\u043D\u0435\u0439'}\n                                                ]\"\n                                                [masks] = \"['','','']\"\n                                                [values]=\"offerFloor\"\n                                                [width]=\"'43%'\"\n                                                (onChange)=\"parseArray($event, offerFloor)\">\n                                            </ui-multiselect>\n                                        </div>\n                                        <hr>\n                                        <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/water.png)'\"></div>\n                                        <div class=\"view-group\">\n                                            <span class=\"view-label\">\u0412\u043E\u0434\u043E\u0441\u043D\u0430\u0431\u0436\u0435\u043D\u0438\u0435:</span>\n                                            <ui-slidingMenu class=\"view-value edit-value\"\n                                                [options] = \"YesNoOptions\"\n                                                [value]=\"offer.waterSupply\"\n                                                (onChange)=\"offer.waterSupply = ($event.selected.value == 'true')\"\n                                            >\n                                            </ui-slidingMenu>\n                                        </div>\n                                        <hr>\n                                        <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/gas.png)'\"></div>\n                                        <div class=\"view-group\">\n                                            <span class=\"view-label\">\u0413\u0430\u0437\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u044F:</span>\n                                            <ui-slidingMenu class=\"view-value edit-value\"\n                                                [options] = \"YesNoOptions\"\n                                                [value]=\"offer.gasification\"\n                                                (onChange)=\"offer.gasification = ($event.selected.value == 'true')\"\n                                            >\n                                            </ui-slidingMenu>\n                                        </div>\n                                        <hr>\n                                        <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/electrification.png)'\"></div>\n                                        <div class=\"view-group\">\n                                            <span class=\"view-label\">\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u0441\u043D\u0430\u0431\u0436\u0435\u043D\u0438\u0435:</span>\n                                            <ui-slidingMenu class=\"view-value edit-value\"\n                                                [options] = \"YesNoOptions\"\n                                                [value]=\"offer.electrification\"\n                                                (onChange)=\"offer.electrification = ($event.selected.value == 'true')\"\n                                            >\n                                            </ui-slidingMenu>\n                                        </div>\n                                        <hr>\n                                        <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/sewerage.png)'\"></div>\n                                        <div class=\"view-group\">\n                                            <span class=\"view-label\">\u041A\u0430\u043D\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044F:</span>\n                                            <ui-slidingMenu class=\"view-value edit-value\"\n                                                [options] = \"YesNoOptions\"\n                                                [value]=\"offer.sewerage\"\n                                                (onChange)=\"offer.sewerage = ($event.selected.value == 'true')\"\n                                            >\n                                            </ui-slidingMenu>\n                                        </div>\n                                        <hr>\n                                        <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/heating.png)'\"></div>\n                                        <div class=\"view-group\">\n                                            <span class=\"view-label\">\u041E\u0442\u043E\u043F\u043B\u0435\u043D\u0438\u0435:</span>\n                                            <ui-slidingMenu class=\"view-value edit-value\"\n                                                [options] = \"YesNoOptions\"\n                                                [value]=\"offer.centralHeating\"\n                                                (onChange)=\"offer.centralHeating = ($event.selected.value == 'true')\"\n                                            >\n                                            </ui-slidingMenu>\n                                        </div>\n                                        <hr>\n                                        <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/square.png)'\"></div>\n                                        <div class=\"view-group multiply\">\n                                            <span class=\"view-label pull-left\">\u041F\u043B\u043E\u0449\u0430\u0434\u044C \u043F\u043E\u043C\u0435\u0449\u0435\u043D\u0438\u044F:</span>\n                                            <div class=\"show_value\">{{\" \"}}</div>\n                                            <div class='arrow' (click)=\"showMenu($event)\"></div>\n                                            <ui-multiselect class=\"view-value edit-value\" style=\"\"\n                                                [options] = \"[\n                                                    {value: 'TOTAL', label: '\u041E\u0431\u0449\u0430\u044F'},\n                                                    {value: 'LIVING', label: '\u0416\u0438\u043B\u0430\u044F'},\n                                                    {value: 'KITCHEN', label: '\u041A\u0443\u0445\u043D\u044F'}\n                                                ]\"\n                                                [masks] = \"['','','','']\"\n                                                [values]=\"offerSquare\"\n                                                [width]=\"'43%'\"\n                                                (onChange)=\"parseArray($event, offerSquare)\">\n                                            </ui-multiselect>\n                                        </div>\n                                        <hr>\n                                        <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/height.png)'\"></div>\n                                        <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                                            <ui-input-line [placeholder] = \"'\u0412\u044B\u0441\u043E\u0442\u0430 \u043F\u043E\u0442\u043E\u043B\u043A\u043E\u0432:'\" [value] = \"offer.ceilingHeight\"\n                                                [width] = \"'225px'\" (onChange)= \"offer.ceilingHeight = $event\">\n                                            </ui-input-line>\n                                        </div>\n                                        <hr>\n                                        <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/condition.png)'\"></div>\n                                        <div class=\"view-group\">\n                                            <span class=\"view-label\">\u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435 \u043F\u043E\u043C\u0435\u0449\u0435\u043D\u0438\u044F:</span>\n                                            <ui-slidingMenu class=\"view-value edit-value\"\n                                                [options] = \"conditionOptions\"\n                                                [value]=\"offer.condition\"\n                                                (onChange)=\"offer.condition = $event.selected.value\"\n                                            >\n                                            </ui-slidingMenu>\n                                        </div>\n                                        <hr>\n                                        <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/secure.png)'\"></div>\n                                        <div class=\"view-group\">\n                                            <span class=\"view-label\">\u041E\u0445\u0440\u0430\u043D\u0430:</span>\n                                            <ui-slidingMenu class=\"view-value edit-value\"\n                                                [options] = \"YesNoOptions\"\n                                                [value]=\"offer.guard\"\n                                                (onChange)=\"offer.guard = ($event.selected.value == 'true')\"\n                                            >\n                                            </ui-slidingMenu>\n                                        </div>\n                                        <hr>\n                                        <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/lift.png)'\"></div>\n                                        <div class=\"view-group\">\n                                            <span class=\"view-label\">\u041B\u0438\u0444\u0442:</span>\n                                            <ui-slidingMenu class=\"view-value edit-value\"\n                                                [options] = \"YesNoOptions\"\n                                                [value]=\"offer.lift\"\n                                                (onChange)=\"offer.lift = ($event.selected.value == 'true')\"\n                                            >\n                                            </ui-slidingMenu>\n                                        </div>\n                                        <hr>\n                                        <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/parking.png)'\"></div>\n                                        <div class=\"view-group\">\n                                            <span class=\"view-label\">\u041F\u0430\u0440\u043A\u043E\u0432\u043A\u0430:</span>\n                                            <ui-slidingMenu class=\"view-value edit-value\"\n                                                [options] = \"YesNoOptions\"\n                                                [value]=\"offer.parking\"\n                                                (onChange)=\"offer.parking = ($event.selected.value == 'true')\"\n                                            >\n                                            </ui-slidingMenu>\n                                        </div>\n                                        <hr>\n                                </div>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/cost.png)'\"></div>\n                            <div class=\"view-group\" style='position: relative; display: block; height: 30px; width: 290px;\n                                    margin-left: 50px; overflow: hidden;'>\n                                <span class=\"view-label\" style = 'float: left;'>\u0426\u0435\u043D\u0430</span>\n                                <div class=\"show_value\">{{' '+(+(offer.ownerPrice || 0) + (offer.agencyPrice || 0))+ ' \u0442.\u0440\u0443\u0431.'}}</div>\n                                <div class='arrow' (click)=\"showMenu($event, true)\"></div>\n                                <ui-multiselect class=\"view-value edit-value\" style=\"\"\n                                    [options] = \"[\n                                        {value: 'OWNER', label: '\u0421\u043E\u0431\u0441\u0442\u0432\u0435\u043D\u043D\u0438\u043A\u0430'},\n                                        {value: 'RUBLES', label: '\u041A\u043E\u043C\u043C\u0438\u0441\u0438\u044F (\u0440\u0443\u0431)'},\n                                        {value: 'PERSENT', label: '\u041A\u043E\u043C\u043C\u0438\u0441\u0438\u044F (%)'}\n                                    ]\"\n                                    [masks] = \"['','',''    ]\"\n                                    [values]=\"offerPrice\"\n                                    [width]=\"'39%'\"\n                                    (onChange)=\"parseArray($event, offerPrice)\">\n                                </ui-multiselect>\n                            </div>\n\n                            <div class=\"header_col\">\u0422\u044D\u0433\u0438</div>\n                            <div style=\"margin: 0 0 20px 20px;\">\n                                <ui-tag-block\n                                    [value] = \"offer.tag\"\n                                    (valueChange) = \"offer.tag = $event.value\"\n                                ></ui-tag-block>\n                            </div>\n\n                            <div class=\"header_col\">\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435</div>\n                            <div class=\"view-group\" style=\"flex-wrap: wrap; height: 90px; margin: 0 20px;\">\n                                <textarea class=\"text-value\"\n                                placeholder=\"\" [(ngModel)]=\"offer.description\"\n                                style=\"text-align: left; width: 100%; height: 100%; font-size: 10pt; color: dimgrey;\"></textarea>\n                            </div>\n                        </div>\n\n                        <!-- \u0420\u0415\u0416\u0418\u041C \u0420\u0415\u0414\u0410\u041A\u0422\u0418\u0420\u041E\u0412\u0410\u041D\u0418\u042F: ???? -->\n                        <!-- \u0420\u0415\u0416\u0418\u041C \u041E\u0422\u041E\u0411\u0420\u0410\u0416\u0415\u041D\u0418\u042F: \u041D\u0410\u0427\u0410\u041B\u041E -->\n\n                        <div class=\"view-block\" [hidden]=\"editEnabled\" style=\"margin: 10px 20px 50px 0px;\">\n                            <div class=\"header_col\">\u041A\u043E\u043D\u0442\u0430\u043A\u0442\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F:</div>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/person_icon/category.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u0422\u0438\u043F:</span>\n                                <ui-view-value\n                                    [options] = \"[\n                                        {value: 'NOT', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'},\n                                        {value: 'client', label: '\u041A\u043B\u0438\u0435\u043D\u0442'},\n                                        {value: 'realtor', label: '\u041A\u043E\u043D\u043A\u0443\u0440\u0435\u043D\u0442'},\n                                        {value: 'company', label: '\u041D\u0430\u0448\u0430 \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u044F'},\n                                        {value: 'partner', label: '\u041F\u0430\u0440\u0442\u043D\u0435\u0440'},\n                                        {value: 'owner', label: '\u0421\u043E\u0431\u0441\u0442\u0432\u0435\u043D\u043D\u0438\u043A'}\n                                    ]\"\n                                    [value]=\"offer.person?.typeCode\"\n                                >\n                                </ui-view-value>\n                            </div>\n                            <hr>\n                            <div *ngIf='offer.person'>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/user.png)'\"></div>\n                                <div class=\"view-group\">\n                                    <span class=\"view-label\">\u0424\u0418\u041E:</span>\n                                    <span class=\"view-value\" [class.link] = \"offer.person?.id\" (click)=\"openPerson()\">{{offer.person?.name  || '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u043E'}}</span>\n                                </div>\n                            </div>\n                            <div *ngIf='offer.person?.organisation'>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/user.png)'\"></div>\n                                <div class=\"view-group\">\n                                    <span class=\"view-label\">\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435:</span>\n                                    <span class=\"view-value\">  {{ offer.person.organisation?.name }} </span>\n                                </div>\n                                <hr>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/user.png)'\"></div>\n                                <div class=\"view-group\">\n                                    <span class=\"view-label\">\u041A\u043E\u043D\u0442\u0430\u043A\u0442\u043D\u043E\u0435 \u043B\u0438\u0446\u043E:</span>\n                                    <span class=\"view-value\">{{ offer.person.organisation?.name }}</span>\n                                </div>\n                                <hr>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/user.png)'\"></div>\n                                <div class=\"view-group\">\n                                    <span class=\"view-label\">\u0414\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C:</span>\n                                    <span class=\"view-value\">{{ offer.person.organisation?.name }}</span>\n                                </div>\n                            </div>\n                            <hr  *ngIf='offer.person || offer.person?.organisation'>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/phone.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0422\u0435\u043B\u0435\u0444\u043E\u043D:</span>\n                                <span class=\"view-value\">{{offer.person?.phoneBlock?.main || offer.person?.phoneBlock?.cellphone || offer.person?.phoneBlock?.office}}</span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/email.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">E-mail:</span>\n                                <span class=\"view-value\">{{offer.person?.emailBlock?.main || offer.person?.emailBlock?.work }}</span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/website.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">Web-\u0441\u0430\u0439\u0442:</span>\n                                <span class=\"view-value\">\n                                    <span *ngIf=\"!offer.person?.webSite\" class=\"view-value\">\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D</span>\n                                    <a *ngIf=\"offer.person?.webSite\" [href]=\"'http://'+offer.person.webSite\" target=\"_blank\">{{offer.person?.webSite}}</a>\n                                </span>\n                            </div>\n                            <hr *ngIf=\"offer.person?.organisation\">\n                            <div  *ngIf=\"offer.person?.organisation\" class='view_icon' [style.background-image]=\"'url(assets/user_icon/office.png)'\"></div>\n                            <div  *ngIf=\"offer.person?.organisation\" class=\"view-group\" >\n                                <span class=\"view-label\">\u041E\u0440\u0433\u0430\u043D\u0438\u0437\u0430\u0446\u0438\u044F:</span>\n                                <span class=\"view-value\" [class.link] = \"offer.person?.organisation?.id\" (click)=\"openOrganisation()\">\n                                    {{offer.person?.organisation?.type}}{{ offer.person?.organisation?.name ? (' \"' +offer.person?.organisation?.name+ '\"') : '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u0430'}}\n                                </span>\n                            </div>\n\n                            <div class=\"header_col\">\u0421\u043E\u043F\u0440\u043E\u0432\u043E\u0434\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/user.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u041E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439:</span>\n                                <span class=\"view-value\" [class.link] = \" offer.agent?.id\" (click)=\"openUser()\">{{ offer.agent?.name || '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'}}</span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/contract.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0414\u043E\u0433\u043E\u0432\u043E\u0440:</span>\n                                <span class=\"view-value\"> {{offer.contractStr}} </span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/stage.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0421\u0442\u0430\u0434\u0438\u044F:</span>\n                                <ui-view-value\n                                    [options] = \"stateCodeOptions\"\n                                    [value]=\"offer.stateCode\"\n                                >\n                                </ui-view-value>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/person_icon/source.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u0418\u0441\u0442\u043E\u0447\u043D\u0438\u043A:</span>\n                                <span class=\"color-g1\" *ngIf=\"offer.sourceUrl\">\n                                    <a href=\"{{offer.sourceUrl}}\" target=\"_blank\" class=\"a1\">\n                                        {{getSourceName()}}\n                                    </a>\n                                </span>\n                                <ui-view-value *ngIf=\"!offer.sourceUrl\"\n                                    [options] = \"sourceOptions\"\n                                    [value]=\"offer.sourceCode\"\n                                >\n                                </ui-view-value>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/offer.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u041F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u0435:</span>\n                                <ui-view-value\n                                    [options] = \"offerTypeCodeOptions\"\n                                    [value]=\"offer.offerTypeCode\"\n                                >\n                                </ui-view-value>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/property_type.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F:</span>\n                                <ui-view-value\n                                    [options] = \"[\n                                        {value: 'REZIDENTIAL', label: '\u0416\u0438\u043B\u0430\u044F \u043D\u0435\u0434\u0432\u0438\u0436\u0438\u043C\u043E\u0441\u0442\u044C'},\n                                        {value: 'COMMERSIAL', label: '\u041A\u043E\u043C\u043C\u0435\u0440\u0447\u0435\u0441\u043A\u0430\u044F \u043D\u0435\u0434\u0432\u0438\u0436\u0438\u043C\u043E\u0441\u0442\u044C'},\n                                        {value: 'LAND', label: '\u0417\u0435\u043C\u0435\u043B\u044C\u043D\u044B\u0439 \u0443\u0447\u0430\u0441\u0442\u043E\u043A'}\n                                    ]\"\n                                    [value]=\"categoryOffer\"\n                                >\n                                </ui-view-value>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/type.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u0422\u0438\u043F \u043E\u0431\u044A\u0435\u043A\u0442\u0430:</span>\n                                <ui-view-value\n                                    [options] = \"typeCodeOptions\"\n                                    [value]=\"offer.typeCode\"\n                                >\n                                </ui-view-value>\n                            </div>\n\n                            <div class = \"header_col\">\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u043E\u0431\u044A\u0435\u043A\u0442\u0430:</div>\n                            <div *ngIf=\"offer.typeCode == 'apartment' || offer.typeCode == 'room' || offer.typeCode == 'apartment_small' || offer.typeCode == 'apartment_small'\">\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/address.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <ui-view-line\n                                            [placeholder]= \"'\u0410\u0434\u0440\u0435\u0441 \u043E\u0431\u044A\u0435\u043A\u0442\u0430:'\" [value]=\"addressStr\"\n                                        >\n                                        </ui-view-line>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/state.png)'\"></div>\n                                    <div class=\"view-group\" >\n                                        <span class=\"view-label\">\u0421\u0442\u0430\u0442\u0443\u0441 \u043E\u0431\u044A\u0435\u043A\u0442\u0430:</span>\n                                        <ui-view-value\n                                            [options] = \"[\n                                                {value: 'true', label: '\u041D\u043E\u0432\u043E\u0441\u0442\u0440\u043E\u0439\u043A\u0430'},\n                                                {value: 'false', label: '\u0412\u0442\u043E\u0440\u0438\u0447\u043A\u0430'}\n                                            ]\"\n                                            [value]=\"offer.newBuilding\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div *ngIf=\"offer.newBuilding\" class='view_icon' [style.background-image]=\"'url(assets/offer_icon/stage.png)'\"></div>\n                                    <div *ngIf=\"offer.newBuilding\" class=\"view-group\" >\n                                        <span class=\"view-label\">\u0421\u0442\u0430\u0434\u0438\u044F \u043E\u0431\u044A\u0435\u043A\u0442\u0430:</span>\n                                        <ui-view-value\n                                            [options] = \"[\n                                                {value: 'PROJECT', label: '\u041F\u0440\u043E\u0435\u043A\u0442'},\n                                                {value: 'BUILDING', label: '\u0421\u0442\u0440\u043E\u044F\u0449\u0438\u0439\u0441\u044F'},\n                                                {value: 'READY', label: '\u0421\u0434\u0430\u043D'}\n                                            ]\"\n                                            [value]=\"offer.objectStage\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr *ngIf=\"offer.newBuilding\">\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/year.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0413\u043E\u0434 \u043F\u043E\u0441\u0442\u0440\u043E\u0439\u043A\u0438:</span>\n                                        <span class=\"view-value\"> {{ offer.buildYear }} </span>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/property_type.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0422\u0438\u043F \u0434\u043E\u043C\u0430:</span>\n                                        <ui-view-value\n                                            [options] = \"apSchemaOptions\"\n                                            [value]=\"offer.apSchemeId\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/material.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041C\u0430\u0442\u0435\u0440\u0438\u0430\u043B \u0441\u0442\u0435\u043D:</span>\n                                        <ui-view-value\n                                            [options] = \"houseTypeOptions\"\n                                            [value]=\"offer.houseTypeId\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/rooms.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043A\u043E\u043C\u043D\u0430\u0442:</span>\n                                        <span class=\"view-value\" style=\"font-size: 15px;\"> {{ offer.roomsCount }} </span>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/room_type.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0422\u0438\u043F \u043A\u043E\u043C\u043D\u0430\u0442:</span>\n                                        <ui-view-value\n                                            [options] = \"roomSchemeOptions\"\n                                            [value]=\"offer.roomSchemeId\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/floor.png)'\"></div>\n                                    <div class=\"view-group\">\n                                    <span class=\"view-label pull-left\" style=\"width: 113px\">\u042D\u0442\u0430\u0436/\u042D\u0442\u0430\u0436\u043D\u043E\u0441\u0442\u044C:</span>\n                                        <ui-multi-view\n                                            [values] = \"[\n                                                {type:'\u042D\u0442\u0430\u0436' , value: offer.floor},\n                                                {type:'\u042D\u0442\u0430\u0436\u043D\u043E\u0441\u0442\u044C' , value: offer.floorsCount},\n                                                {type:'\u0423\u0440\u043E\u0432\u0435\u043D\u044C' , value: offer.levelsCount}\n                                            ]\"\n                                        >\n                                        </ui-multi-view>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/square.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041F\u043B\u043E\u0449\u0430\u0434\u044C:</span>\n                                        <ui-multi-view\n                                            [values] = \"[\n                                                {type:'\u041E\u0431\u0449\u0430\u044F' , value: offer.squareTotal},\n                                                {type:'\u0416\u0438\u043B\u0430\u044F' , value: offer.squareLiving},\n                                                {type:'\u041A\u0443\u0445\u043D\u044F' , value: offer.squareKitchen}\n                                            ]\"\n                                        >\n                                        </ui-multi-view>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/balcony.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041B\u043E\u0434\u0436\u0438\u044F:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.loggia\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/balcony.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0411\u0430\u043B\u043A\u043E\u043D:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.balcony\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/toilet.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0421\u0430\u043D\u0443\u0437\u0435\u043B:</span>\n                                        <ui-view-value\n                                            [options] = \"bathroomOptions\"\n                                            [value]=\"offer.bathroom\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/condition.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435:</span>\n                                        <ui-view-value\n                                            [options] = \"conditionOptions\"\n                                            [value]=\"offer.condition\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                </div>\n                                <div *ngIf=\"offer.typeCode == 'house' || offer.typeCode == 'townhouse' || offer.typeCode == 'cottage' || offer.typeCode == 'dacha' \">\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/distance.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0423\u0434\u0430\u043B\u0435\u043D\u043D\u043E\u0441\u0442\u044C:</span>\n                                        <span class=\"view-value\"> {{ offer.distance }} </span>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/name.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435 \u043F\u043E\u0441\u0435\u043B\u0435\u043D\u0438\u044F:</span>\n                                        <span class=\"view-value\"> {{ offer.settlement }} </span>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/address.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <ui-view-line\n                                            [placeholder]= \"'\u0410\u0434\u0440\u0435\u0441 \u043E\u0431\u044A\u0435\u043A\u0442\u0430:'\" [value]=\"addressStr\"\n                                        >\n                                        </ui-view-line>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/secure.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041E\u0445\u0440\u0430\u043D\u0430:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.guard\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/year.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0413\u043E\u0434 \u043F\u043E\u0441\u0442\u0440\u043E\u0439\u043A\u0438:</span>\n                                        <span class=\"view-value\"> {{ offer.buildYear }} </span>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/floor.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u042D\u0442\u0430\u0436/\u042D\u0442\u0430\u0436\u043D\u043E\u0441\u0442\u044C:</span>\n                                        <ui-multi-view\n                                            [values] = \"[\n                                                {type:'\u042D\u0442\u0430\u0436' , value: offer.floor},\n                                                {type:'\u042D\u0442\u0430\u0436\u043D\u043E\u0441\u0442\u044C' , value: offer.floorsCount},\n                                                {type:'\u0423\u0440\u043E\u0432\u0435\u043D\u044C' , value: offer.levelsCount}\n                                            ]\"\n                                        >\n                                        </ui-multi-view>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/rooms.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043A\u043E\u043C\u043D\u0430\u0442:</span>\n                                        <span class=\"view-value\"  style=\"font-size: 15px;\"> {{ offer.roomsCount }} </span>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/room_type.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0422\u0438\u043F \u043A\u043E\u043C\u043D\u0430\u0442:</span>\n                                        <ui-view-value\n                                            [options] = \"roomSchemeOptions\"\n                                            [value]=\"offer.roomSchemeId\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/square.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041F\u043B\u043E\u0449\u0430\u0434\u044C \u0434\u043E\u043C\u0430:</span>\n                                        <ui-multi-view\n                                            [values] = \"[\n                                                {type:'\u041E\u0431\u0449\u0430\u044F' , value: offer.squareTotal},\n                                                {type:'\u0416\u0438\u043B\u0430\u044F' , value: offer.squareLiving},\n                                                {type:'\u041A\u0443\u0445\u043D\u044F' , value: offer.squareKitchen}\n                                            ]\"\n                                        >\n                                        </ui-multi-view>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/condition.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435:</span>\n                                        <ui-view-value\n                                            [options] = \"conditionOptions\"\n                                            [value]=\"offer.condition\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/material.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041C\u0430\u0442\u0435\u0440\u0438\u0430\u043B:</span>\n                                        <ui-view-value\n                                            [options] = \"houseTypeOptions\"\n                                            [value]=\"offer.houseTypeId\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/balcony.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041B\u043E\u0434\u0436\u0438\u044F:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.loggia\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/balcony.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0411\u0430\u043B\u043A\u043E\u043D:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.balcony\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/toilet.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0421\u0430\u043D\u0443\u0437\u0435\u043B:</span>\n                                        <ui-view-value\n                                            [options] = \"bathroomOptions\"\n                                            [value]=\"offer.bathroom\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/water.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0412\u043E\u0434\u043E\u0441\u043D\u0430\u0431\u0436\u0435\u043D\u0438\u0435:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.waterSupply\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/gas.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0413\u0430\u0437\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u044F:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.gasification\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/electrification.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u0441\u043D\u0430\u0431\u0436\u0435\u043D\u0438\u0435:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.electrification\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/sewerage.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041A\u0430\u043D\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044F:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.sewerage\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/heating.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041E\u0442\u043E\u043F\u043B\u0435\u043D\u0438\u0435:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.centralHeating\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/square.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041F\u043B\u043E\u0449\u0430\u0434\u044C \u0443\u0447\u0430\u0441\u0442\u043A\u0430:</span>\n                                        <span class=\"view-value\"> {{ offer.squareLand + \" \" + (offer.squareLandType == 0 ? \"c\u043E\u0442\" : \"\u0433\u0430\") }} </span>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/land.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041D\u0430\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0437\u0435\u043C\u0435\u043B\u044C:</span>\n                                        <ui-view-value\n                                            [options] = \"landOption\"\n                                            [value]=\"offer.landPurpose\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                </div>\n                                <div *ngIf=\"offer.typeCode == 'land' || offer.typeCode == 'land1' || offer.typeCode == 'land2'\">\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/distance.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0423\u0434\u0430\u043B\u0435\u043D\u043D\u043E\u0441\u0442\u044C:</span>\n                                        <span class=\"view-value\"> {{ offer.distance }} </span>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/name.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435 \u043F\u043E\u0441\u0435\u043B\u0435\u043D\u0438\u044F:</span>\n                                        <span class=\"view-value\"> {{ offer.settlement }} </span>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/address.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <ui-view-line\n                                            [placeholder]= \"'\u0410\u0434\u0440\u0435\u0441 \u0443\u0447\u0430\u0441\u0442\u043A\u0430:'\" [value]=\"addressStr\"\n                                        >\n                                        </ui-view-line>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/secure.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041E\u0445\u0440\u0430\u043D\u0430:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.guard\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/land.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label\">\u041D\u0430\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435:</span>\n                                        <ui-view-value\n                                            [options] = \"landOption\"\n                                            [value]=\"offer.landPurpose\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/square.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041F\u043B\u043E\u0449\u0430\u0434\u044C \u0443\u0447\u0430\u0441\u0442\u043A\u0430:</span>\n                                        <span class=\"view-value\"> {{ offer.squareLand + \" \" + (offer.squareLandType == 0 ? \"c\u043E\u0442\" : \"\u0433\u0430\") }} </span>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/water.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0412\u043E\u0434\u043E\u0441\u043D\u0430\u0431\u0436\u0435\u043D\u0438\u0435:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.waterSupply\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/gas.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0413\u0430\u0437\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u044F:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.gasification\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/electrification.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u0441\u043D\u0430\u0431\u0436\u0435\u043D\u0438\u0435:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.electrification\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/sewerage.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041A\u0430\u043D\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044F:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.sewerage\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/heating.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041E\u0442\u043E\u043F\u043B\u0435\u043D\u0438\u0435:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.centralHeating\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                </div>\n                                <div *ngIf=\"offer.typeCode == 'market_place' || offer.typeCode == 'production_place' || offer.typeCode == 'warehouse_place'\n                                        || offer.typeCode == 'service_place'|| offer.typeCode == 'gpurpose_place' || offer.typeCode == 'building'\n                                        || offer.typeCode == 'other' || offer.typeCode == 'office' || offer.typeCode == 'cosial_place'\"\n                                >\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/distance.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0423\u0434\u0430\u043B\u0435\u043D\u043D\u043E\u0441\u0442\u044C:</span>\n                                        <span class=\"view-value\"> {{ offer.distance }} </span>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/agent_icon/live_place.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435:</span>\n                                        <span class=\"view-value\"> {{ offer.objectName }} </span>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/address.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <ui-view-line\n                                            [placeholder]= \"'\u0410\u0434\u0440\u0435\u0441 \u043E\u0431\u044A\u0435\u043A\u0442\u0430:'\" [value]=\"addressStr\"\n                                        >\n                                        </ui-view-line>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/state.png)'\"></div>\n                                    <div class=\"view-group\" >\n                                        <span class=\"view-label\">\u0421\u0442\u0430\u0442\u0443\u0441 \u043E\u0431\u044A\u0435\u043A\u0442\u0430:</span>\n                                        <ui-view-value\n                                            [options] = \"[\n                                                {value: 'true', label: '\u041D\u043E\u0432\u043E\u0441\u0442\u0440\u043E\u0439\u043A\u0430'},\n                                                {value: 'false', label: '\u0412\u0442\u043E\u0440\u0438\u0447\u043A\u0430'}\n                                            ]\"\n                                            [value]=\"offer.newBuilding\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div *ngIf=\"offer.newBuilding\" class='view_icon' [style.background-image]=\"'url(assets/offer_icon/stage.png)'\"></div>\n                                    <div *ngIf=\"offer.newBuilding\" class=\"view-group\" >\n                                        <span class=\"view-label\">\u0421\u0442\u0430\u0434\u0438\u044F \u043E\u0431\u044A\u0435\u043A\u0442\u0430:</span>\n                                        <ui-view-value\n                                            [options] = \"[\n                                                {value: 'PROJECT', label: '\u041F\u0440\u043E\u0435\u043A\u0442'},\n                                                {value: 'BUILDING', label: '\u0421\u0442\u0440\u043E\u044F\u0449\u0438\u0439\u0441\u044F'},\n                                                {value: 'READY', label: '\u0421\u0434\u0430\u043D'}\n                                            ]\"\n                                            [value]=\"offer.objectStage\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr *ngIf=\"offer.newBuilding\">\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/year.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0413\u043E\u0434 \u043F\u043E\u0441\u0442\u0440\u043E\u0439\u043A\u0438:</span>\n                                        <span class=\"view-value\"> {{ offer.buildYear }} </span>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/property_type.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0422\u0438\u043F \u0437\u0434\u0430\u043D\u0438\u044F:</span>\n                                        <ui-view-value\n                                            [options] = \"getBuldingOptionsArray()\"\n                                            [value]=\"offer.buildingType\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/material.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041A\u043B\u0430\u0441\u0441 \u0437\u0434\u0430\u043D\u0438\u044F:</span>\n                                        <ui-view-value\n                                        [options] = \"[\n                                            {value: '1', label: '\u0410'},\n                                            {value: '2W', label: '\u0410+'},\n                                            {value: 'T3', label: '\u0411'},\n                                            {value: '4', label: '\u0411+'},\n                                            {value: '5', label: '\u0421'},\n                                            {value: '6', label: '\u0421+'}\n                                        ]\"\n                                        [value]=\"'2W'\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/material.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041C\u0430\u0442\u0435\u0440\u0438\u0430\u043B \u0437\u0434\u0430\u043D\u0438\u044F:</span>\n                                        <ui-view-value\n                                            [options] = \"houseTypeOptions\"\n                                            [value]=\"offer.houseTypeId\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/floor.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u042D\u0442\u0430\u0436/\u042D\u0442\u0430\u0436\u043D\u043E\u0441\u0442\u044C:</span>\n                                        <ui-multi-view\n                                            [values] = \"[\n                                                {type:'\u042D\u0442\u0430\u0436' , value: offer.floor},\n                                                {type:'\u042D\u0442\u0430\u0436\u043D\u043E\u0441\u0442\u044C' , value: offer.floorsCount},\n                                                {type:'\u0423\u0440\u043E\u0432\u0435\u043D\u044C' , value: offer.levelsCount}\n                                            ]\"\n                                        >\n                                        </ui-multi-view>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/water.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0412\u043E\u0434\u043E\u0441\u043D\u0430\u0431\u0436\u0435\u043D\u0438\u0435:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.waterSupply\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/gas.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0413\u0430\u0437\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u044F:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.gasification\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/electrification.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u0441\u043D\u0430\u0431\u0436\u0435\u043D\u0438\u0435:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.electrification\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/sewerage.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041A\u0430\u043D\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044F:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.sewerage\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/heating.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041E\u0442\u043E\u043F\u043B\u0435\u043D\u0438\u0435:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.centralHeating\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/square.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041F\u043B\u043E\u0449\u0430\u0434\u044C \u043F\u043E\u043C\u0435\u0449\u0435\u043D\u0438\u044F:</span>\n                                        <span class=\"view-value\"> {{ offer.squareTotal }} </span>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/height.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0412\u044B\u0441\u043E\u0442\u0430 \u043F\u043E\u0442\u043E\u043B\u043A\u043E\u0432:</span>\n                                        <span class=\"view-value\"> {{ offer.ceilingHeight }} </span>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/condition.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435:</span>\n                                        <ui-view-value\n                                            [options] = \"conditionOptions\"\n                                            [value]=\"offer.condition\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/secure.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041E\u0445\u0440\u0430\u043D\u0430:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.guard\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/lift.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041B\u0438\u0444\u0442:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.lift\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                    <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/parking.png)'\"></div>\n                                    <div class=\"view-group\">\n                                        <span class=\"view-label pull-left\">\u041F\u0430\u0440\u043A\u043E\u0432\u043A\u0430:</span>\n                                        <ui-view-value\n                                            [options] = \"YesNoOptions\"\n                                            [value]=\"offer.parking\"\n                                        >\n                                        </ui-view-value>\n                                    </div>\n                                    <hr>\n                                </div>\n\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/cost.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\" style=\"flex: 0 0 50px;\">\u0426\u0435\u043D\u0430:</span>\n                                <ui-multi-view\n                                    [values] = \"[\n                                        {type:'\u0412\u043B\u0430\u0434\u0435\u043B\u044C\u0446\u0430' , value: offer.ownerPrice},\n                                        {type:'\u041A\u043E\u043C\u043C\u0438\u0441\u0438\u044F(\u0440\u0443\u0431)' , value: offer.comission},\n                                        {type:'\u041A\u043E\u043C\u043C\u0438\u0441\u0438\u044F(%)' , value: offer.comissionPerc}\n                                    ]\"\n                                >\n                                </ui-multi-view>\n                            </div>\n\n                            <div class=\"header_col\">\u0422\u044D\u0433\u0438</div>\n                            <div style=\"margin: 0 0 20px 20px;\">\n                                <ui-tag-block\n                                    [value] = \"offer.tag\"\n                                    (valueChange) = \"offer.tag = $event.value\"\n                                ></ui-tag-block>\n                            </div>\n\n                            <div class = \"header_col\">\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435</div>\n                            <div style=\"margin-left: 20px;\">\n                                <span class=\"view-value\" style=\"height: initial; white-space: normal;\"> {{ offer.description }} </span>\n                            </div>\n                        </div>\n\n                        <!-- \u0420\u0415\u0416\u0418\u041C \u041E\u0422\u041E\u0411\u0420\u0410\u0416\u0415\u041D\u0418\u042F: \u041A\u041E\u041D\u0415\u0426 -->\n                    </div>\n                </div>\n            </div>\n\n            <!-- \u041F\u0420\u0410\u0412\u0410\u042F \u0421\u0422\u0412\u041E\u0420\u041A\u0410: \u041A\u041E\u041D\u0415\u0426 -->\n            <!-- \u0420\u0410\u0411\u041E\u0427\u0410\u042F \u041E\u0411\u041B\u0410\u0421\u0422\u042C: \u041D\u0410\u0427\u0410\u041B\u041E -->\n\n            <div class=\"work-area\" [style.width.px]=\"mapWidth\">\n                <ui-tabs\n                    [headerMode]=\"!paneHidden\"\n                    [iconUrls]=\"['assets/main_offers.png', 'assets/analitic.png', 'assets/history.png']\"\n                >\n                    <ui-tab\n                        [title]=\"'\u0413\u043B\u0430\u0432\u043D\u0430\u044F'\"\n                    >\n                        <div class = \"gm_container\">\n                            <div *ngIf=\"selectMapMenu == 1\" style=\"width: 100%;border-top: 1px solid silver; position: relative; overflow: hidden;\">\n                                <div style=\"width: 100%; position: absolute; z-index: 1; height: 100%; filter: blur(20px);\"\n                                        [style.background-image]=\"'url(' + offer.photoUrl[currentPhoto]+ ')'\" *ngIf=\"!editEnabled\">\n                                </div>\n                                <div [style.background-image]=\"'url(' + offer.photoUrl[currentPhoto]+ ')'\"\n                                    style=\" width: calc(100% - 78px);height: 100%;background-repeat: no-repeat;background-size: contain; float: left;\n                                            z-index: 10;position: relative; background-position: center;\" *ngIf=\"!editEnabled\"\n                                > </div>\n                                <div style=\"width: calc(100% - 78px); height: 100%; float: left;\" *ngIf=\"editEnabled\">\n                                    <ui-upload-file [activeColor]=\"'orangered'\" [baseColor]=\"'lightgray'\" [type]=\"'image'\"></ui-upload-file>\n                                </div>\n                                <hr style=\"margin: 0; width: 3px; height: 500px; float: left; z-index: 10; display: block;\n                                    position: relative; background-color: #f7f7f7;\"\n                                >\n                                <ui-carousel\n                                    [photos] = \"offer.photoUrl\"\n                                    (getIndex) = \"currentPhoto = $event\"\n                                    style=\"z-index: 10;position: relative; display: block; float: right;\"\n                                >\n                                </ui-carousel>\n\n                            </div>\n                            <google-map [latitude]=\"lat\" [longitude]=\"lon\" [zoom]=\"zoom\" *ngIf=\"!sameObject && selectMapMenu != 1\"\n                                style=\"width:100%;height: 105%;border-top: 1px solid silver;\" [place]=\"mapQuery\"\n                            >\n                                <google-map-marker\n                                    *ngIf=\"offer.locationLat\"\n                                    (markerClick)=\"markerClick(offer)\"\n                                    [latitude]=\"offer.locationLat\"\n                                    [longitude]=\"offer.locationLon\"\n                                    [info_str]=\"\"\n                                >\n                                </google-map-marker>\n                            </google-map>\n                            <google-map [latitude]=\"lat\" [longitude]=\"lon\" [zoom]=\"zoom\" [objects]=\"similarOffers\" *ngIf=\"sameObject && selectMapMenu != 1\"\n                                style=\"width: 100%;border-top: 1px solid silver;\"\n                            >\n                                <google-map-marker\n                                    *ngIf=\"offer.locationLat\"\n                                    (markerClick)=\"markerClick(offer)\"\n                                    [latitude]=\"offer.locationLat\"\n                                    [longitude]=\"offer.locationLon\"\n                                    [info_str]=\"\"\n                                >\n                                </google-map-marker>\n                            </google-map>\n                            <div class=\"map_menu\">\n                                <div [class.active_map_menu]=\"selectMapMenu == 1\" (click)=\"setMenu(1)\" style=\"margin-top: 1px;\">\u0424\u043E\u0442\u043E</div>\n                                <div [class.active_map_menu]=\"selectMapMenu == 2\" (click)=\"setMenu(2)\">\u041A\u0430\u0440\u0442\u0430</div>\n                                <div [class.active_map_menu]=\"selectMapMenu == 3\" (click)=\"setMenu(3)\">\u041F\u043E\u043D\u043E\u0440\u0430\u043C\u0430</div>\n                                <div [class.active_map_menu]=\"selectMapMenu == 4\" (click)=\"setMenu(4)\">\u041C\u0430\u0440\u0448\u0440\u0443\u0442\u044B</div>\n                                <div [class.active_map_menu]=\"selectMapMenu == 5\" (click)=\"similarObjSelected()\">\u041F\u043E\u0445\u043E\u0436\u0438\u0435</div>\n                                <div [class.active_map_menu]=\"selectMapMenu == 6\" (click)=\"requestsSelected()\">\u0417\u0430\u044F\u0432\u043A\u0438</div>\n                                <div [class.active_map_menu]=\"selectMapMenu == 7\" (click)=\"setMenu(7)\">\u0420\u0435\u043A\u043B\u0430\u043C\u0430</div>\n                                <div [class.active_map_menu]=\"selectMapMenu == 8\" (click)=\"setMenu(8)\">\u0414\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u044B</div>\n                                <div [class.active_map_menu]=\"selectMapMenu == 9\" (click)=\"setMapQuery('\u041E\u0431\u0440\u0430\u0437\u043E\u0432\u0430\u043D\u0438\u0435', 9)\">\u041E\u0431\u0440\u0430\u0437\u043E\u0432\u0430\u043D\u0438\u0435</div>\n                                <div [class.active_map_menu]=\"selectMapMenu == 10\" (click)=\"setMapQuery('\u043C\u0430\u0433\u0430\u0437\u0438\u043D\u044B', 10)\">\u041F\u0440\u043E\u0434\u0443\u043A\u0442\u044B</div>\n                                <div [class.active_map_menu]=\"selectMapMenu == 11\" (click)=\"setMapQuery('\u0441\u043F\u043E\u0440\u0442\u0437\u0430\u043B', 11)\">\u0421\u043F\u043E\u0440\u0442 \u043A\u043B\u0443\u0431\u044B</div>\n                                <div [class.active_map_menu]=\"selectMapMenu == 12\" (click)=\"setMapQuery('\u0431\u043E\u043B\u044C\u043D\u0438\u0446\u0430', 12)\">\u0417\u0434\u043E\u0440\u043E\u0432\u044C\u0435</div>\n                                <div [class.active_map_menu]=\"selectMapMenu == 13\" (click)=\"setMapQuery('\u043C\u0443\u0437\u0435\u0439', 13)\">\u041A\u0443\u043B\u044C\u0442\u0443\u0440\u0430</div>\n                                <div [class.active_map_menu]=\"selectMapMenu == 14\" (click)=\"setMapQuery('\u043A\u0438\u043D\u043E\u0442\u0435\u0430\u0442\u0440', 14)\">\u0414\u043E\u0441\u0443\u0433</div>\n                                <div [class.active_map_menu]=\"selectMapMenu == 15\" (click)=\"setMapQuery('\u043A\u0430\u0444\u0435', 15)\">\u041E\u0431\u0449\u0435\u043F\u0438\u0442</div>\n                            </div>\n                            <div style=\"position: absolute;z-index: 1;border-left: 1px solid rgb(204, 204, 204);right: 1px;\n                                    height: 500px; overflow: hidden;\"\n                                [style.right]=\"_hubService.shared_var['nb_width']\"\n                                *ngIf=\"sameObject && selectMapMenu == 5\"\n                            >\n                                <div style=\"width: 369px; background-color: #fff;\">\n                                    <div class=\"head\">\n                                        <input type=\"text\" style=\"width: 319px; margin-left: 10px; border: none; margin-top: 10px;\"\n                                            (keydown)=\"simSearchKeydown($event)\"\n                                        >\n                                        <span class=\"icon-search\" style=\"margin-left: 10px; cursor: pointer;\"\n                                            (click)=\"simSearch()\"\n                                        ></span>\n                                    </div>\n                                    <div class=\"\" style=\"width: 100%; overflow-y: scroll; height: 425px;\">\n                                        <div *ngFor=\"let offer of similarOffers\">\n                                            <digest-offer\n                                                [offer]=\"offer\"\n                                                [compact]=\"true\"\n                                            >\n                                            </digest-offer>\n                                            <hr style=\"margin: 0;\">\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div style=\"position: absolute;z-index: 1;border-left: 1px solid rgb(204, 204, 204);right: 1px;\n                                    height: 500px; overflow: hidden;\"\n                                [style.right]=\"_hubService.shared_var['nb_width']\"\n                                *ngIf=\"!sameObject && selectMapMenu == 6\"\n                            >\n                                <div class=\"head\">\n                                    <input type=\"text\" style=\"width: 319px; margin-left: 10px; border: none; margin-top: 10px;\"\n                                    >\n                                    <span class=\"icon-search\" style=\"margin-left: 10px; cursor: pointer;\"\n                                        (click)=\"simSearch()\"\n                                    ></span>\n                                </div>\n                                <div class=\"\" style=\"width: 369px; background-color: #fff; overflow-y: scroll; height: 500px\">\n                                    <digest-request *ngFor=\"let request of requests\"\n                                        [request]=\"request\"\n                                        [compact]=\"true\"\n                                        [color]=\"'#0e60c5'\"\n                                    >\n                                    </digest-request>\n                                </div>\n                            </div>\n\n                            <div style=\"position: absolute;z-index: 1;border-left: 1px solid rgb(204, 204, 204);right: 1px;\n                                    height: 500px; width: 370px; overflow: hidden;\"\n                                *ngIf=\"selectMapMenu == 8\"\n                            >\n                                <div style=\"width: 100%;height: 70px;\" *ngIf=\"editEnabled\">\n                                    <ui-upload-file [activeColor]=\"'orangered'\"\n                                                    [baseColor]=\"'lightgray'\"\n                                                    [type]=\"'document'\"\n                                                    (fileChange)=\"documents.push($event)\"\n                                    ></ui-upload-file>\n                                </div>\n                                <div style=\"display: flex;flex-wrap: wrap;justify-content: space-around;\">\n                                    <ui-document *ngFor='let doc of documents' [doc]=\"doc\"></ui-document>\n                                </div>\n                            </div>\n                            <div style=\"position: absolute;z-index: 1;right: 1px;\n                                    height: 833px; width: 370px; overflow: scroll;\"\n                                *ngIf=\"selectMapMenu == 7\"\n                            >\n                                <div class=\"head\">\n                                    <input type=\"text\" style=\"width: 319px; margin-left: 10px; border: none; margin-top: 10px;\"\n                                        (keydown)=\"console.log($event)\"\n                                    >\n                                    <span class=\"icon-search\" style=\"margin-left: 10px; cursor: pointer;\"\n                                        (click)=\"simSearch()\"\n                                    ></span>\n                                </div>\n                                <ui-advertising>    </ui-advertising>\n                            </div>\n\n                        </div>\n\n                        <div class=\"star_container\">\n                            <div class='statistic'>\n                                <div on-mouseenter='inRate($event)' on-mouseleave='outRate($event)'>\n                                    <div>\u041E\u0411\u0429\u0418\u0419 \u0420\u0415\u0419\u0422\u0418\u041D\u0413:</div>\n                                    <div style=\"font-size: 8pt; color: #5b5b5b; margin: 6px 0;\">\u0420\u0430\u0437\u0431\u0438\u0432\u043A\u0430 \u043F\u043E \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F\u043C</div>\n                                    <div class=\"rate_line\" *ngFor=\"let rat of rate; let i = index\">\n                                        <div on-mousemove ='inRate($event, i)' on-mouseout='outRate($event, i)' on-click='estimate($event,i)'><div [ngStyle]=\"{'width': rat.persent+'%'}\"></div></div>\n                                        <div>{{rat.text}}</div>\n                                    </div>\n                                </div>\n                                <div on-mouseenter='inRate($event)' on-mouseleave='outRate($event)' style=\"margin-right: 125px; margin-left: auto;\">\n                                    <div style=\"margin: 0px 0 0 12px; height: 7px;\">{{' '}}</div>\n                                    <div style=\"font-size: 8pt; color: #5b5b5b; margin: 7px 0 5px 13px;\">\u0420\u0430\u0441\u0441\u043A\u0430\u0436\u0438\u0442\u0435, \u0447\u0442\u043E \u0432\u044B \u0434\u0443\u043C\u0430\u0435\u0442\u0435 \u043E\u0431 \u044D\u0442\u043E\u043C \u0440\u0430\u0439\u043E\u043D\u0435, \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044F \u043E\u0446\u0435\u043D\u043A\u0438 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u0439.</div>\n                                    <div class=\"rate_line\" *ngFor=\"let rat of rate1; let i = index\">\n                                        <div style=\"order: 2; margin-right: 0;margin-left: auto;\"\n                                            on-mousemove ='inRate($event, i)' on-mouseout='outRate($event, i)' on-click='estimate($event,i)'>\n                                            <div [ngStyle]=\"{'width': rat.persent+'%'}\"></div>\n                                        </div>\n                                        <div style=\"order: 1;\">{{rat.text}}</div>\n                                    </div>\n                                </div>\n                            </div>\n                             <div class=\"graph\" *ngIf=\"sameObject\">\n                                <div class ='price'>\n                                    <div *ngIf = \"max\"  style=\"margin-top: 4px;\">\u041C\u0410\u041A\u0421 : {{split_number(max)}}</div>\n                                    <div *ngIf = \"min\" >\u041C\u0418\u041D  : {{split_number(min)}}</div>\n                                </div>\n                                <div *ngIf = \"average\" class ='price'\n                                        style=\"top: 172px; left: 146px; width: 110px;t ext-align: center; background-color: transparent;\"\n                                >\n                                    \u0421\u0440\u0435\u0434\u043D\u044F\u044F:<br>{{split_number(average)}}\n                                </div>\n                                <div id={{chartID}}\n                                    [data]=\"pie_ChartData\"\n                                    [chartOptions] = \"pie_ChartOptions\"\n                                    chartType=\"PieChart\" GoogleChart\n                                    style=\"margin: 96px 0 0px 86px;\"\n                                    >\n                                </div>\n                            </div>\n                        </div>\n                    </ui-tab>\n\n                    <!--<ui-tab\n                        [title]=\"'\u0417\u0430\u044F\u0432\u043A\u0438'\"\n                        (tabSelect)=\"requestsSelected()\"\n                    >\n                        <div class=\"\" style=\"max-width: 910px; overflow-y: scroll;\" [style.height]=\"paneHeight\">\n                            <digest-request *ngFor=\"let request of requests\"\n                                [request]=\"request\"\n                            >\n                            </digest-request>\n                        </div>\n                    </ui-tab>-->\n                    <ui-tab [title]=\"'\u0410\u043D\u0430\u043B\u0438\u0442\u0438\u043A\u0430'\"\n                        (tabSelect)=\"analysisSelected()\"\n                    >\n                        <div class=\"\" style=\"max-width: 910px; overflow-y: scroll;\" [style.height]=\"paneHeight\">\n                            <div style=\"padding: 15px;\">\n                                <div class=\"tile bg-gred fg-white\">\n                                    <div class=\"tile-content iconic\">\n                                        <span class=\"icon\">{{ ch1_data_v1 }}</span>\n                                    </div>\n                                    <span class=\"tile-label\">\u0412\u0441\u0435\u0433\u043E \u0437\u0430\u0434\u0430\u0447</span>\n                                </div>\n                                <div class=\"chart-block\">\n                                    <div class=\"chart-header bg-gred\">\n                                        <span style=\"margin-left: 25px;\">\u0410\u043A\u0442\u0438\u0432\u043D\u043E\u0441\u0442\u044C</span>\n                                    </div>\n                                    <div>\n                                        <ui-pie-chart\n                                            [title]=\"''\"\n                                            [data]=\"ch1_data\"\n                                        >\n                                        </ui-pie-chart>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div style=\"padding: 15px;\">\n                                <div style=\"float: left; display: flex; flex-direction: column;\">\n                                    <div class=\"tile bg-gorange fg-white\" style=\"margin-bottom: 5px;\">\n                                        <div class=\"tile-content iconic\">\n                                            <span class=\"icon\" style=\"font-size: 48px;\">{{ ch4_data_v1 }}</span>\n                                        </div>\n                                        <span class=\"tile-label\">\u0412\u0441\u0435\u0433\u043E \u043E\u0431\u044A\u044F\u0432\u043B\u0435\u043D\u0438\u0439</span>\n                                    </div>\n                                    <div class=\"tile bg-gorange fg-white\" >\n                                        <div class=\"tile-content iconic\">\n                                            <span class=\"icon\" style=\"font-size: 48px;\">{{ ch4_data_v2 }}</span>\n                                        </div>\n                                        <span class=\"tile-label\">\u041F\u043E\u0442\u0440\u0430\u0447\u0435\u043D\u043E \u0440\u0443\u0431.</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"chart-block\">\n                                    <div class=\"chart-header bg-gorange\">\n                                        <span style=\"margin-left: 25px;\">\u0420\u0435\u043A\u043B\u0430\u043C\u0430</span>\n                                    </div>\n                                    <div>\n                                        <ui-bar-chart\n                                            [title]=\"''\"\n                                            [data]=\"ch4_data\"\n                                        >\n                                        </ui-bar-chart>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div style=\"padding: 15px;\">\n                                <div class=\"tile bg-gblue fg-white\">\n                                    <div class=\"tile-content iconic\">\n                                        <span class=\"icon\">{{ ch2_data_v1 }}</span>\n                                    </div>\n                                    <span class=\"tile-label\">\u0412\u0441\u0435\u0433\u043E \u0437\u0430\u044F\u0432\u043E\u043A</span>\n                                </div>\n                                <div class=\"chart-block\">\n                                    <div class=\"chart-header bg-gblue\">\n                                        <span style=\"margin-left: 25px;\">\u0417\u0430\u044F\u0432\u043A\u0438</span>\n                                    </div>\n                                    <div>\n                                        <ui-line-chart\n                                            [title]=\"''\"\n                                            [data]=\"ch2_data\"\n                                        >\n                                        </ui-line-chart>\n                                    </div>\n                                </div>\n                            </div>\n\n\n                            <div style=\"padding: 15px;\">\n                                <div style=\"float: left; display: flex; flex-direction: column;\">\n                                    <div class=\"tile bg-ggreen fg-white\" style=\"margin-bottom: 5px;\">\n                                        <div class=\"tile-content iconic\">\n                                            <span class=\"icon\">{{ ch3_data_v1 }}</span>\n                                        </div>\n                                        <span class=\"tile-label\">\u0423\u0441\u043F\u0435\u0448\u043D\u043E</span>\n                                    </div>\n                                    <div class=\"tile bg-ggreen fg-white\">\n                                        <div class=\"tile-content iconic\">\n                                            <span class=\"icon\">{{ ch3_data_v2 }}</span>\n                                        </div>\n                                        <span class=\"tile-label\">\u041D\u0435 \u0443\u0441\u043F\u0435\u0448\u043D\u043E</span>\n                                    </div>\n                                </div>\n                                <div class=\"chart-block\">\n                                    <div class=\"chart-header bg-ggreen\">\n                                        <span style=\"margin-left: 25px;\">\u041F\u043E\u043A\u0430\u0437\u044B</span>\n                                    </div>\n                                    <div>\n                                        <ui-line-chart\n                                            [title]=\"''\"\n                                            [data]=\"ch3_data\"\n                                        >\n                                        </ui-line-chart>\n                                    </div>\n                                </div>\n                            </div>\n\n                        </div>\n                    </ui-tab>\n\n                    <ui-tab\n                        [title]=\"'\u0418\u0441\u0442\u043E\u0440\u0438\u044F'\"\n                        (tabSelect)=\"historySelected()\"\n                    >\n                        <div class=\"\" style=\"max-width: 910px; overflow-y: scroll;\" [style.height]=\"paneHeight\">\n                            <digest-history *ngFor=\"let record of historyRecs\"\n                                [historyRecord]=\"record\"\n                            >\n                            </digest-history>\n                        </div>\n                    </ui-tab>\n\n                </ui-tabs>\n            </div>\n\n        <!-- \u0420\u0410\u0411\u041E\u0427\u0410\u042F \u041E\u0411\u041B\u0410\u0421\u0422\u042C: \u041A\u041E\u041D\u0415\u0426 -->\n\n        </div>\n    ",
        providers: [__WEBPACK_IMPORTED_MODULE_3__service_offer_service__["b" /* OfferService */]]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__service_config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__service_config_service__["a" /* ConfigService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__service_offer_service__["b" /* OfferService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__service_offer_service__["b" /* OfferService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_4__service_request_service__["a" /* RequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__service_request_service__["a" /* RequestService */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_5__service_task_service__["a" /* TaskService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__service_task_service__["a" /* TaskService */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_9__service_analysis_service__["a" /* AnalysisService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_9__service_analysis_service__["a" /* AnalysisService */]) === "function" && _f || Object, typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_6__service_history_service__["a" /* HistoryService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__service_history_service__["a" /* HistoryService */]) === "function" && _g || Object, typeof (_h = typeof __WEBPACK_IMPORTED_MODULE_7__service_photo_service__["a" /* PhotoService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_7__service_photo_service__["a" /* PhotoService */]) === "function" && _h || Object, typeof (_j = typeof __WEBPACK_IMPORTED_MODULE_8__service_user_service__["a" /* UserService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_8__service_user_service__["a" /* UserService */]) === "function" && _j || Object, typeof (_k = typeof __WEBPACK_IMPORTED_MODULE_11__service_person_service__["a" /* PersonService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_11__service_person_service__["a" /* PersonService */]) === "function" && _k || Object, typeof (_l = typeof __WEBPACK_IMPORTED_MODULE_12__service_upload_service__["a" /* UploadService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_12__service_upload_service__["a" /* UploadService */]) === "function" && _l || Object, typeof (_m = typeof __WEBPACK_IMPORTED_MODULE_13__service_suggestion_service__["a" /* SuggestionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_13__service_suggestion_service__["a" /* SuggestionService */]) === "function" && _m || Object, typeof (_o = typeof __WEBPACK_IMPORTED_MODULE_14__service_session_service__["a" /* SessionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_14__service_session_service__["a" /* SessionService */]) === "function" && _o || Object])
], TabOfferComponent);

var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;
//# sourceMappingURL=tab-offer.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/tab/tab-organisation.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_analysis_service__ = __webpack_require__("../../../../../src/app/service/analysis.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__entity_offer__ = __webpack_require__("../../../../../src/app/entity/offer.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__entity_user__ = __webpack_require__("../../../../../src/app/entity/user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__entity_person__ = __webpack_require__("../../../../../src/app/entity/person.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_user_service__ = __webpack_require__("../../../../../src/app/service/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__service_organisation_service__ = __webpack_require__("../../../../../src/app/service/organisation.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__service_task_service__ = __webpack_require__("../../../../../src/app/service/task.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__service_history_service__ = __webpack_require__("../../../../../src/app/service/history.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__service_offer_service__ = __webpack_require__("../../../../../src/app/service/offer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__service_person_service__ = __webpack_require__("../../../../../src/app/service/person.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__service_session_service__ = __webpack_require__("../../../../../src/app/service/session.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TabOrganisationComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};














var TabOrganisationComponent = (function () {
    function TabOrganisationComponent(_hubService, _configService, _userService, _offerService, _taskService, _analysisService, _historyService, _personService, _organisationService, _sessionService) {
        var _this = this;
        this._hubService = _hubService;
        this._configService = _configService;
        this._userService = _userService;
        this._offerService = _offerService;
        this._taskService = _taskService;
        this._analysisService = _analysisService;
        this._historyService = _historyService;
        this._personService = _personService;
        this._organisationService = _organisationService;
        this._sessionService = _sessionService;
        this.getDateUser = __WEBPACK_IMPORTED_MODULE_3__entity_user__["a" /* User */].getData;
        this.agentOpts = [];
        this.newRequest = false;
        this.editEnabled = false;
        this.paneHidden = false;
        this.orgNameArray = [];
        this.orgRequisit = [];
        this.orgEmail = [];
        this.orgPhone = [];
        this.orgAddress = [];
        this.lat = 48.480007;
        this.lon = 135.054954;
        this.zoom = 16;
        this.ch1_data = [];
        this.ch2_data = [];
        this.ch3_data = [];
        this.ch4_data = [];
        this.addressStr = '';
        setTimeout(function () {
            _this.tab.header = 'Контрагент';
        });
        _userService.list(null, null, "").subscribe(function (agents) {
            for (var i = 0; i < agents.length; i++) {
                var a = agents[i];
                _this.agentOpts.push({
                    value: a.id,
                    label: a.name
                });
            }
        });
    }
    TabOrganisationComponent.prototype.ngOnInit = function () {
        this.organisation = this.tab.args.organisation;
        if (!this.organisation.id || this.organisation.id == null) {
            this.toggleEdit();
        }
        this.updateArrays();
        var c = this._configService.getConfig();
        var loc = this._sessionService.getAccount().location;
        if (c.map[loc]) {
            this.lat = c.map[loc].lat;
            this.lon = c.map[loc].lon;
            this.zoom = c.map[loc].zoom;
        }
        else {
            this.lat = c.map['default'].lat;
            this.lon = c.map['default'].lon;
            this.zoom = c.map['default'].zoom;
        }
        this.calcSize();
    };
    TabOrganisationComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        setTimeout(function () {
            if (_this.organisation.id) {
                _this.tab.header = 'Контрагент';
            }
            else {
                _this.tab.header = 'Новый контрагент';
            }
        });
    };
    TabOrganisationComponent.prototype.onResize = function (e) {
        this.calcSize();
    };
    TabOrganisationComponent.prototype.calcSize = function () {
        if (this.paneHidden) {
            this.paneWidth = 0;
        }
        else {
            this.paneWidth = 370;
        }
        this.mapWidth = document.body.clientWidth - (31) - this.paneWidth;
        this.paneHeight = document.body.clientHeight - 31;
    };
    TabOrganisationComponent.prototype.toggleLeftPane = function () {
        this.paneHidden = !this.paneHidden;
        this.calcSize();
    };
    TabOrganisationComponent.prototype.toggleEdit = function () {
        this.editEnabled = !this.editEnabled;
    };
    TabOrganisationComponent.prototype.save = function () {
        var _this = this;
        this.organisation.name = this.orgNameArray[0].value;
        this.organisation.type = this.orgNameArray[0].type;
        var tem = this.getIndex(this.orgPhone, "MOBILE");
        this.organisation.phoneBlock.cellphone = tem > -1 ? this.orgPhone[tem].value : null;
        tem = this.getIndex(this.orgPhone, "HOME");
        this.organisation.phoneBlock.home = tem > -1 ? this.orgPhone[tem].value : null;
        tem = this.getIndex(this.orgPhone, "WORK");
        this.organisation.phoneBlock.office = tem > -1 ? this.orgPhone[tem].value : null;
        tem = this.getIndex(this.orgPhone, "MAIN");
        this.organisation.phoneBlock.main = tem > -1 ? this.orgPhone[tem].value : null;
        tem = this.getIndex(this.orgPhone, "SAME");
        this.organisation.phoneBlock.other = tem > -1 ? this.orgPhone[tem].value : null;
        tem = this.getIndex(this.orgPhone, "FAX");
        this.organisation.phoneBlock.fax = tem > -1 ? this.orgPhone[tem].value : null;
        tem = this.getIndex(this.orgAddress, "KRAY");
        this.organisation.fullAddress.region = tem > -1 ? this.orgAddress[tem].value : undefined;
        tem = this.getIndex(this.orgAddress, "CITY");
        this.organisation.fullAddress.city = tem > -1 ? this.orgAddress[tem].value : undefined;
        tem = this.getIndex(this.orgAddress, "DISTRICT");
        this.organisation.fullAddress.admArea = tem > -1 ? this.orgAddress[tem].value : undefined;
        tem = this.getIndex(this.orgAddress, "STREET");
        this.organisation.fullAddress.street = tem > -1 ? this.orgAddress[tem].value : undefined;
        tem = this.getIndex(this.orgAddress, "HOUSE");
        this.organisation.fullAddress.house = tem > -1 ? this.orgAddress[tem].value : undefined;
        tem = this.getIndex(this.orgAddress, "HOUSING");
        this.organisation.fullAddress.housing = tem > -1 ? this.orgAddress[tem].value : undefined;
        tem = this.getIndex(this.orgAddress, "FLAT");
        this.organisation.fullAddress.apartment = tem > -1 ? this.orgAddress[tem].value : undefined;
        tem = this.getIndex(this.orgEmail, "MAIN");
        this.organisation.emailBlock.main = tem > -1 ? this.orgEmail[tem].value : null;
        tem = this.getIndex(this.orgEmail, "WORK");
        this.organisation.emailBlock.work = tem > -1 ? this.orgEmail[tem].value : null;
        tem = this.getIndex(this.orgRequisit, "INN");
        this.organisation.requisites.inn = tem > -1 ? this.orgRequisit[tem].value : null;
        tem = this.getIndex(this.orgRequisit, "KPP");
        this.organisation.requisites.kpp = tem > -1 ? this.orgRequisit[tem].value : null;
        tem = this.getIndex(this.orgRequisit, "KS");
        this.organisation.requisites.cor = tem > -1 ? this.orgRequisit[tem].value : null;
        tem = this.getIndex(this.orgRequisit, "BIK");
        this.organisation.requisites.bic = tem > -1 ? this.orgRequisit[tem].value : null;
        tem = this.getIndex(this.orgRequisit, "OTHER");
        this.organisation.requisites.other = tem > -1 ? this.orgRequisit[tem].value : null;
        this._organisationService.save(this.organisation).subscribe(function (org) {
            setTimeout(function () {
                _this.organisation.copyFields(org);
            });
            _this.toggleEdit();
        });
        setTimeout(function () {
            _this.updateArrays();
        }, 1000);
    };
    TabOrganisationComponent.prototype.offersSelected = function () {
        //this.getOffers(1, 16);
    };
    TabOrganisationComponent.prototype.personsSelected = function () {
        this.getPersons(0, 32);
    };
    TabOrganisationComponent.prototype.analysisSelected = function () {
        var a_data = this._analysisService.getObjAnalysis();
        this.ch1_data = a_data.ch1_data;
        this.ch1_data_v1 = a_data.ch1_data_v1;
        this.ch2_data = a_data.ch2_data;
        this.ch2_data_v1 = a_data.ch2_data_v1;
        this.ch3_data = a_data.ch3_data;
        this.ch3_data_v1 = a_data.ch3_data_v1;
        this.ch3_data_v2 = a_data.ch3_data_v2;
        this.ch4_data = [
            ['media', 'подано'],
            ['avito', 7],
            ['из рук в руки', 4],
            ['презент', 6],
            ['фарпост', 8],
            ['ВНХ', 6],
        ];
        this.ch4_data_v1 = 31;
        this.ch4_data_v2 = 5000;
    };
    TabOrganisationComponent.prototype.historySelected = function () {
        this.historyRecs = this._historyService.getObjHistory();
    };
    TabOrganisationComponent.prototype.getPersons = function (page, perPage) {
        var _this = this;
        if (this.organisation.id) {
            this._personService.list(null, this.organisation.id, "").subscribe(function (persons) {
                _this.persons = persons;
            });
        }
    };
    TabOrganisationComponent.prototype.getOffers = function (page, per_page) {
        //this._offerService.getSimilarOffer(page, per_page);
    };
    TabOrganisationComponent.prototype.offerSearch = function () {
        //this.getOffers(Math.floor(Math.random() * 4), 16);
    };
    TabOrganisationComponent.prototype.offerSearchKeydown = function (e) {
        if (e.keyCode == 13) {
            this.offerSearch();
        }
    };
    TabOrganisationComponent.prototype.markerClick = function (r) {
        //r.selected = !r.selected;
        // scroll to object ???
    };
    TabOrganisationComponent.prototype.addContact = function () {
        var tab_sys = this._hubService.getProperty('tab_sys');
        var p = new __WEBPACK_IMPORTED_MODULE_4__entity_person__["a" /* Person */]();
        p.organisationId = this.organisation.id;
        tab_sys.addTab('person', { person: p });
    };
    TabOrganisationComponent.prototype.getOfferDigest = function (r) {
        return __WEBPACK_IMPORTED_MODULE_2__entity_offer__["a" /* Offer */].getDigest(r);
    };
    TabOrganisationComponent.prototype.agentChanged = function (e) {
        var _this = this;
        if (e.selected.value != null) {
            this._userService.get(e.selected.value).subscribe(function (agent) {
                _this.organisation.agent = agent;
            });
        }
    };
    TabOrganisationComponent.prototype.showMenu = function (event) {
        var parent = event.currentTarget.parentElement;
        var height = parent.getElementsByTagName('input').length * 35;
        if (parent.offsetHeight == 30) {
            parent.style.setProperty('height', "" + (height + 60) + 'px');
            parent.style.setProperty('overflow', "visible");
            event.currentTarget.style.setProperty('transform', 'rotate(180deg)');
        }
        else {
            parent.style.setProperty('height', "30px");
            parent.style.setProperty('overflow', "hidden");
            event.currentTarget.style.setProperty('transform', 'rotate(0deg)');
        }
    };
    TabOrganisationComponent.prototype.parseArray = function (values, obj, isAddress) {
        for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {
            var val = values_1[_i];
            var no = true;
            for (var _a = 0, obj_1 = obj; _a < obj_1.length; _a++) {
                var en = obj_1[_a];
                if (val.type == en.type) {
                    en.value = val.value;
                    no = false;
                }
            }
            if (no && val.value)
                obj.push(val);
        }
        for (var i = 0; i < obj.length; ++i) {
            if (obj[i].value === undefined || obj[i].value === null) {
                obj.splice(i, 1);
                i--;
            }
        }
        if (isAddress) {
            this.getAddressStr();
        }
    };
    TabOrganisationComponent.prototype.getIndex = function (array, str) {
        for (var i = 0; i < array.length; ++i) {
            if (array[i].type == str)
                return i;
        }
        return -1;
    };
    TabOrganisationComponent.prototype.getTypeName = function (type) {
        switch (type) {
            case "OOO": return "ООО";
            case "ZAO": return "ЗАО";
            case "AO": return "АО";
            case "PAO": return "ПАО";
            case "IP": return "ИП";
            case "OAO": return "ОАО";
            default: return "";
        }
    };
    TabOrganisationComponent.prototype.getName = function (event) {
        this.parseArray(event, this.orgNameArray);
        this.organisation.name = this.orgNameArray[0].value;
        this.organisation.type = this.orgNameArray[0].type;
    };
    TabOrganisationComponent.prototype.getAddressStr = function () {
        this.addressStr = this.organisation.fullAddress.city !== undefined ? "" + this.organisation.fullAddress.city : '';
        this.addressStr += this.organisation.fullAddress.street !== undefined ? ", " + this.organisation.fullAddress.street : '';
        this.addressStr += this.organisation.fullAddress.house !== undefined ? ", " + this.organisation.fullAddress.house : '';
    };
    TabOrganisationComponent.prototype.updateArrays = function () {
        this.orgNameArray = [{ type: this.organisation.type, value: this.organisation.name }];
        this.orgRequisit = [
            { type: "INN", value: this.organisation.requisites.inn },
            { type: "KPP", value: this.organisation.requisites.kpp },
            { type: "KS", value: this.organisation.requisites.cor },
            { type: "BIK", value: this.organisation.requisites.bic },
            { type: "OTHER", value: this.organisation.requisites.other }
        ];
        this.orgAddress = [
            { type: 'KRAY', value: this.organisation.fullAddress.region },
            { type: 'CITY', value: this.organisation.fullAddress.city },
            { type: 'DISTRICT', value: this.organisation.fullAddress.admArea },
            { type: 'STREET', value: this.organisation.fullAddress.street },
            { type: 'HOUSE', value: this.organisation.fullAddress.house },
            { type: 'HOUSING', value: this.organisation.fullAddress.housing },
            { type: 'FLAT', value: this.organisation.fullAddress.apartment }
        ];
        this.getAddressStr();
        this.orgPhone = [
            { type: 'MOBILE', value: this.organisation.phoneBlock.cellphone },
            { type: 'HOME', value: this.organisation.phoneBlock.home },
            { type: 'WORK', value: this.organisation.phoneBlock.office },
            { type: 'MAIN', value: this.organisation.phoneBlock.main },
            { type: 'SAME', value: this.organisation.phoneBlock.other },
            { type: 'FAX', value: this.organisation.phoneBlock.fax }
        ];
        this.orgEmail = [
            { type: 'WORK', value: this.organisation.emailBlock.work },
            { type: 'MAIN', value: this.organisation.emailBlock.main }
        ];
        this.getAddressStr();
    };
    TabOrganisationComponent.prototype.openUser = function () {
        if (this.organisation.agent.id) {
            var tab_sys = this._hubService.getProperty('tab_sys');
            tab_sys.addTab('user', { user: this.organisation.agent });
        }
    };
    TabOrganisationComponent.prototype.openPerson = function (person) {
        if (person.id) {
            var tab_sys = this._hubService.getProperty('tab_sys');
            tab_sys.addTab('person', { person: person });
        }
    };
    return TabOrganisationComponent;
}());
TabOrganisationComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'tab-organisation',
        inputs: ['tab'],
        styles: ["\n        .header_col{\n            width: calc(100% - 10px);\n            height: 40px;\n            background-color: #f7f7f7;\n            padding-left: 20px;\n            text-transform: uppercase;\n            font-size: 10pt;\n            color: #5f5d5d;\n            line-height: 40px;\n            margin-bottom: 10px;\n        }\n        .search-form {\n            position: absolute;\n            width: 50%;\n            margin-left: 25%;\n            margin-top: 10px;\n            background: #fff;\n            z-index: 1;\n            border: 1px solid #eee;\n        }\n\n        .search-form > input {\n            height: 28px;\n            width: 100%;\n        }\n\n        .with-button {\n            overflow: hidden;\n        }\n\n        .with-button > input {\n            float: left;\n            width: calc(100% - 120px);\n        }\n\n        .search-button {\n            float: right;\n            width: 120px;\n            height: 24px;\n            background-color: #3366cc;\n            color: #fff;\n            text-align: center;\n            cursor: pointer;\n        }\n\n        .search-form.table-mode {\n            border: 1px solid #fff;\n        }\n\n        .tool-box {\n            height: 30px;\n            margin: 0 12px;\n        }\n\n        .search-box {\n            position: relative;\n            margin: 12px;\n            margin-bottom: 8px;\n        }\n\n        .pane {\n            float: left;\n            width: 370px;\n            height: 100%;\n        }\n\n        .work-area {\n            float: left;\n            width: 100%;\n            height: 100%;\n        }\n\n        .tab-button {\n            width: 30px;\n            height: 30px;\n            text-align: center;\n            line-height: 30px;\n            font-size: 12px !important;\n            cursor: pointer;\n            color: #666;\n        }\n\n        .fixed-button {\n            position: fixed;\n            top: 0;\n            left: 0;\n        }\n\n        .request-prop {\n            overflow-y: scroll;\n        }\n\n        .view-group {\n            margin-bottom: 5px;\n            display: flex;\n            justify-content: space-between;\n            align-items: flex-start;\n            height: 30px;\n        }\n\n        .view-label {\n            white-space: nowrap;\n            color: rgb(80, 80, 80);\n            margin-top: 5px;\n            font-size: 10pt;\n            margin-right: 5px;\n        }\n\n        .view-value {\n            width: 100%;\n            text-align: right;\n            color: #696969;\n            font-size: 10pt;\n            margin-top: 5px;\n            height: 19px; /* \u043A\u043E\u0441\u0442\u044B\u043B\u044C */\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            overflow: hidden;\n        }\n\n        .edit-value {\n            width: 100%;\n            text-align: right;\n            color: #696969;\n            font-size: 10pt;\n            height: 19px; /* \u043A\u043E\u0441\u0442\u044B\u043B\u044C */\n            border: none !important;\n            overflow: visible;\n        }\n\n        .text-value {\n            height: 3rem;\n            border: 1px solid #E5E5E5 !important;\n        }\n\n        .edit-block > .view-group, .view-block > .view-group {\n            height: 30px;\n            margin-left: 57px;\n        }\n\n        .show_value{\n            flex: 0 0 190px;\n            margin-right: 30px;\n            position: relative;\n            text-align: right;\n            height: 30px;\n            display: flex;\n            flex-direction: column;\n            width: 143px;\n            display: inline-block;\n            overflow: hidden;\n            text-overflow: ellipsis;\n        }\n\n        .edit-block >hr, .view-block >hr{\n                margin: 5px -10px 5px 55px;\n        }\n\n        .show_value > span:first-child{\n            height: 10px;\n            font-size: 8pt;\n        }\n        .show_value > span:last-child{\n            font-size: 10pt;\n            color: #959595;\n        }\n\n        .arrow{\n            background-image: url(assets/arrow.png);\n            width: 18px;\n            height: 10px;\n            background-size: cover;\n            margin: 0 10px;\n            background-position: center;\n            flex: 0 0 18px;\n            position: absolute;\n            top: 5px;\n            right: -10px;\n        }\n\n        .tile-x {\n            margin-right: 10px;\n            width: 150px;\n            height: 150px;\n            color: #fff;\n            position: relative;\n        }\n\n\n        .tile {\n            margin: 0;\n            margin-right: 10px;\n        }\n\n        .icon {\n            line-height: 64px;\n        }\n\n        .tile-content.iconic .icon {\n            width: 128px;\n            margin-left: -64px;\n        }\n\n        .chart-block {\n            overflow:hidden;\n            border: 1px solid #e5e5e5;\n        }\n\n        .chart-header {\n            width: 100%;\n            height: 30px;\n            border-bottom: 1px solid #e5e5e5;\n            line-height: 30px;\n            color: #fff;\n        }\n\n        .array-container > span {\n            display: block;\n            margin-bottom: 5px;\n        }\n\n        .array-container > input {\n            margin-bottom: 5px;\n        }\n\n        .button {\n            text-align: center;\n            padding: 5px 15px;\n            background-color: #3366cc;\n            color: #fff;\n            cursor: pointer;\n            margin-top: 25px;\n        }\n\n        .view_icon{\n            width: 28px;\n            height: 25px;\n            background-size: contain;\n            float: left;\n            background-repeat: no-repeat;\n            background-position: center;\n            margin-right: 12px;\n            margin-top: 2px;\n            margin-left: 17px;\n        }\n\n        .person_face{\n            height: 220px;\n            background-color: #f7f7f7;\n        }\n\n        .person_face > .rate{\n            height: 20px;\n            background-image: url(assets/star_rate.png);\n            background-size: contain;\n            width: 100px;\n            margin-left: 20px;\n            margin-top: 10px;\n        }\n\n        .person_face > img{\n            width: 120px;\n            height: 90px;\n            margin: 20px 0 10 20px;\n        }\n\n        .person_face  .name{\n            margin: 0 0 0 20px;\n            border: 0 !important;\n            font-size: 16pt;\n            text-align: left;\n            background-color: transparent;\n            color: #595a5a;\n            height: 23px;\n            line-height: 23px;\n        }\n\n        .multiselect{\n            width: 280px;\n            position: relative;\n            display: block;\n            margin-right: 15px;\n            overflow: hidden;\n        }\n\n        .multiply{\n            position: relative;\n            display: block;\n            height: 30px;\n            width: 280px;\n            margin-right: 15px;\n            margin-left: 0;\n            overflow: hidden;\n        }\n    "],
        template: "\n        <div class=\"tab-button fixed-button\" (click)=\"toggleLeftPane()\">\n            <span [ngClass]=\"{'icon-arrow-right': paneHidden, 'icon-arrow-left': !paneHidden}\"></span>\n        </div>\n\n        <div class=\"organisation\" (window:resize)=\"onResize($event)\">\n\n        <!-- \u041B\u0415\u0412\u0410\u042F \u0421\u0422\u0412\u041E\u0420\u041A\u0410: \u041D\u0410\u0427\u0410\u041B\u041E -->\n\n            <div class=\"pane\" [hidden]=\"paneHidden\" [style.width.px]=\"paneWidth\">\n                <div class=\"header\" [style.border-bottom-color]=\"'#8F5128'\">\n                    <div class=\"header-label\">{{ tab.header }}</div>\n                </div>\n                <div style=\"overflow: scroll; overflow-x: hidden; height: calc(100% - 111px);\n                        border-right: 1px solid #cccccc;\">\n                        <div class = \"person_face\">\n                    <img src=\"\">\n                    <div class=\"view-group\" *ngIf=\"!editEnabled\" style=\"flex-wrap: wrap;margin-top: -1px;\">\n                        <div class=\"view-value name\" style=\"text-transform: uppercase;\"> {{ organisation.name }}</div>\n                        <div class=\"view-value name\" style=\"font-size: 14pt; margin-top: 3px;\"> {{ organisation.name}}</div>\n                    </div>\n                    <div class=\"view-group\" *ngIf=\"editEnabled\">\n                        <input type=\"text\" class=\"view-value edit-value name\" [(ngModel)]=\"organisation.name\">\n                        <div class=\"pensil\" style=\"position: relative; margin-right: 35px;\"></div>\n                    </div>\n                    <div class=\"rate\"></div>\n                </div>\n                <!--<div class=\"pull-container\">\n                    <div class=\"font-sz-2 pull-left\">\u0418\u0441\u0442\u043E\u0447\u043D\u0438\u043A: ???<span class=\"color-g1\"><a href=\"\" target=\"_blank\"></a></span></div>\n                    <div class=\"font-sz-1 color-g2 pull-right\"> {{ organisation.add_date | formatDate }} </div>\n                </div>\n                <hr>-->\n                <div class=\"pull-container\" style=\"margin: 20px 10px 0px;\">\n                    <div class=\"pull-right\" [hidden]=\"editEnabled\" (click)=\"toggleEdit()\"><a href=\"#\" >\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C</a></div>\n                    <div class=\"pull-right\" [hidden]=\"!editEnabled\" (click)=\"save()\"><a href=\"#\" >\u0413\u043E\u0442\u043E\u0432\u043E</a></div>\n                </div>\n                <div class=\"organisation-prop\" [style.height]=\"paneHeight\">\n\n                        <!-- \u0420\u0415\u0416\u0418\u041C \u0420\u0415\u0414\u0410\u041A\u0422\u0418\u0420\u041E\u0412\u0410\u041D\u0418\u042F: \u041D\u0410\u0427\u0410\u041B\u041E -->\n\n                    <div class=\"edit-block\" [hidden]=\"!editEnabled\" style=\"margin: 10px 10px 10px 0px\">\n                        <div class=\"header_col\">\u041E\u0431\u0449\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/person_icon/category.png)'\"></div>\n                        <div class=\"view-group\">\n                            <span class=\"view-label pull-left\">\u0422\u0438\u043F:</span>\n                            <ui-slidingMenu class=\"view-value edit-value\"\n                                [options] = \"[\n                                    {value: 'NOT', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'},\n                                    {value: 'client', label: '\u041A\u043B\u0438\u0435\u043D\u0442'},\n                                    {value: 'realtor', label: '\u041A\u043E\u043D\u043A\u0443\u0440\u0435\u043D\u0442'},\n                                    {value: 'company', label: '\u041D\u0430\u0448\u0430 \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u044F'},\n                                    {value: 'partner', label: '\u041F\u0430\u0440\u0442\u043D\u0435\u0440'},\n                                    {value: 'builder', label: '\u0417\u0430\u0441\u0442\u0440\u043E\u0439\u0449\u0438\u043A'}\n                                ]\"\n                                [value]=\"organisation.typeCode\"\n                                (onChange)=\"organisation.typeCode = $event.selected.value\">\n                            >\n                            </ui-slidingMenu>\n                        </div>\n                        <hr>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/office.png)'\"></div>\n                        <div class=\"view-group multiselect\" style='height: 30px;'>\n                            <span class=\"view-label pull-left\">\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435:</span>\n                            <div class=\"show_value\">\n                                {{\" \"}}\n                            </div><div class='arrow' (click)=\"showMenu($event)\"></div>\n                            <ui-multiselect class=\"view-value edit-value\" style=\"\"\n                                [options] = \"[\n                                    {value: 'OOO', label: '\u041E\u041E\u041E'},\n                                    {value: 'ZAO', label: '\u0417\u0410\u041E'},\n                                    {value: 'AO', label: '\u0410\u041E'},\n                                    {value: 'PAO', label: '\u041F\u0410\u041E'},\n                                    {value: 'IP', label: '\u0418\u041F'},\n                                    {value: 'OAO', label: '\u041E\u0410\u041E'}]\"\n                                [masks] = \"['', '', '', '', '']\"\n                                [values]=\"orgNameArray\"\n                                [width]=\"'36%'\"\n                                (onChange)=\"getName($event)\">\n                            </ui-multiselect>\n                        </div>\n                        <hr>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/address.png)'\"></div>\n                        <div class=\"view-group multiselect\" style='height: 30px;'>\n                            <ui-input-line [placeholder] = \"'\u0410\u0434\u0440\u0435\u0441:'\" [value] = \"addressStr\"\n                                [width] = \"'225px'\" (onChange)= \"parseArray($event, orgAddress, true)\" [queryTipe]=\"'address'\" (clicked)=\"showMenu($event)\">\n                            </ui-input-line>\n                            <div class='arrow' (click)=\"showMenu($event)\" *ngIf=\"orgAddress[0] && orgAddress[0].value !== undefined\"></div>\n                            <ui-multiselect class=\"view-value edit-value\" style=\"\"\n                                [options] = \"[\n                                    {value: 'KRAY', label: '\u0420\u0435\u0433\u0438\u043E\u043D'},\n                                    {value: 'CITY', label: '\u041D\u0430\u0441. \u043F\u0443\u043D\u043A\u0442'},\n                                    {value: 'DISTRICT', label: '\u0420\u0430\u0439\u043E\u043D'},\n                                    {value: 'STREET', label: '\u0423\u043B\u0438\u0446\u0430'},\n                                    {value: 'HOUSE', label: '\u0414\u043E\u043C'},\n                                    {value: 'HOUSING', label: '\u041A\u043E\u0440\u043F\u0443\u0441'},\n                                    {value: 'FLAT', label: '\u041E\u0444\u0438\u0441'}\n                                ]\"\n                                [masks] = \"['','','','','','','']\"\n                                [values]=\"orgAddress\"\n                                [width]=\"'36%'\"\n                                (onChange)=\"parseArray($event, orgAddress, true)\">\n                            </ui-multiselect>\n                        </div>\n                        <hr>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/phone.png)'\"></div>\n                        <div class=\"view-group multiply\">\n                            <span class=\"view-label pull-left\">\u0422\u0435\u043B\u0435\u0444\u043E\u043D\u044B:</span>\n                            <div class=\"show_value\">{{\" \"}}</div>\n                            <div class='arrow' (click)=\"showMenu($event)\"></div>\n                            <ui-multiselect class=\"view-value edit-value\" style=\"\"\n                                [options] = \"[\n                                    {value: 'MOBILE', label: '\u041C\u043E\u0431\u0438\u043B\u044C\u043D\u044B\u0439'},\n                                    {value: 'HOME', label: '\u0414\u043E\u043C\u0430\u0448\u043D\u0438\u0439'},\n                                    {value: 'WORK', label: '\u0420\u0430\u0431\u043E\u0447\u0438\u0439'},\n                                    {value: 'MAIN', label: '\u041E\u0441\u043D\u043E\u0432\u043D\u043E\u0439'},\n                                    {value: 'SAME', label: '\u0414\u0440\u0443\u0433\u043E\u0439'}\n                                ]\"\n                                [masks] = \"['+_ (___) ___-__-__',\n                                            '+_ (____) __-__-__',\n                                            '+_ (___) ___-__-__',\n                                            '+_ (____) ___-___',\n                                            '+_ (____) __-__-__']\"\n                                [values]=\"orgPhone\"\n                                [width]=\"'43%'\"\n                                (onChange)=\"parseArray($event, orgPhone)\">\n                            </ui-multiselect>\n                        </div>\n                        <hr>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/email.png)'\"></div>\n                        <div class=\"view-group multiply\">\n                            <span class=\"view-label pull-left\">E-mail:</span>\n                            <div class=\"show_value\">{{\" \"}}</div>\n                            <div class='arrow' (click)=\"showMenu($event)\"></div>\n                            <ui-multiselect class=\"view-value edit-value\" style=\"\"\n                                [options] = \"[\n                                    {value: 'WORK', label: '\u0420\u0430\u0431\u043E\u0447\u0438\u0439'},\n                                    {value: 'MAIN', label: '\u041B\u0438\u0447\u043D\u044B\u0439'}\n                                    ]\"\n                                [masks] = \"['', '']\"\n                                [values]=\"orgEmail\"\n                                [width]=\"'36%'\"\n                                (onChange)=\"parseArray($event, orgEmail)\">\n                            </ui-multiselect>\n                        </div>\n                        <hr>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/website.png)'\"></div>\n                        <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                            <ui-input-line [placeholder] = \"'WEB-\u0441\u0430\u0439\u0442:'\" [value] = \"organisation.webSite\"\n                                [width] = \"'225px'\" (onChange)= \"organisation.webSite = $event\">\n                            </ui-input-line>\n                        </div>\n                        <hr>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/person_icon/requisites.png)'\"></div>\n                        <div class=\"view-group multiselect\" style='height: 30px;'>\n                            <span class=\"view-label pull-left\">\u0420\u0435\u043A\u0432\u0438\u0437\u0438\u0442\u044B:</span>\n                            <div class=\"show_value\">{{\" \"}}</div><div class='arrow' (click)=\"showMenu($event)\"></div>\n                            <ui-multiselect class=\"view-value edit-value\" style=\"\"\n                                [options] = \"[\n                                    {value: 'INN', label: '\u0418\u041D\u041D'},\n                                    {value: 'KPP', label: '\u041A\u041F\u041F'},\n                                    {value: 'KS', label: '\u041A\u043E\u0440.\u0441\u0447\u0435\u0442'},\n                                    {value: 'BIK', label: '\u0411\u0418\u041A'},\n                                    {value: 'OTHER', label: '\u0414\u0440\u0443\u0433\u043E\u0435'}]\"\n                                [masks] = \"['', '', '', '', '']\"\n                                [values]=\"orgRequisit\"\n                                [width]=\"'36%'\"\n                                (onChange)=\"parseArray($event, orgRequisit)\">\n                            </ui-multiselect>\n                        </div>\n                        <hr>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/user.png)'\"></div>\n                        <div class=\"view-group\" style='position: relative; display: block;'>\n                            <ui-input-line [placeholder] = \"'\u0420\u0443\u043A\u043E\u0432\u043E\u0434\u0438\u0442\u0435\u043B\u044C:'\" [value] = \"organisation.head?.name\"\n                                [width] = \"'225px'\" (onChange)= \"organisation.head = $event\" [queryTipe]=\"'person'\">\n                            </ui-input-line>\n                        </div>\n                        <hr>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/user.png)'\"></div>\n                        <div class=\"view-group\" style='position: relative; display: block;'>\n                            <ui-input-line [placeholder] = \"'\u041A\u043E\u043D\u0442\u0430\u043A\u0442\u043D\u043E\u0435 \u043B\u0438\u0446\u043E:'\" [value] = \"organisation.contact?.name\"\n                                [width] = \"'225px'\" (onChange)= \"organisation.contact = $event\" [queryTipe]=\"'person'\">\n                            </ui-input-line>\n                        </div>\n\n                        <div class=\"header_col\">\u0421\u043E\u043F\u0440\u043E\u0432\u043E\u0434\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/user.png)'\"></div>\n                        <div class=\"view-group\">\n                            <span class=\"view-label pull-left\">\u041E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439:</span>\n                            <ui-slidingMenu class=\"view-value edit-value\"\n                                [options] = \"agentOpts\"\n                                [value]=\"organisation.agent?.id\"\n                                (onChange)=\"agentChanged($event)\"\n                            >\n                            </ui-slidingMenu>\n                        </div>\n                        <hr>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/person_icon/contract.png)'\"></div>\n                        <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                            <ui-input-line [placeholder] = \"'\u0414\u043E\u0433\u043E\u0432\u043E\u0440 \u2116 \u043E\u0442'\" [value] = \"organisation.contract\"\n                                    [width] = \"'225px'\" (onChange)= \"organisation.contract = $event\">\n                            </ui-input-line>\n                        </div>\n                        <hr>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/status.png)'\"></div>\n                        <div class=\"view-group\">\n                            <span class=\"view-label pull-left\">\u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435:</span>\n                            <ui-slidingMenu class=\"view-value edit-value\"\n                                [options] = \"[\n                                    {value: 'NOT', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u043E'},\n                                    {value: 'ACTIVE', label: '\u0410\u043A\u0442\u0438\u0432\u043D\u043E'},\n                                    {value: 'NOT_ACTIVE', label: '\u041D\u0435 \u0430\u043A\u0442\u0438\u0432\u043D\u043E'},\n                                    {value: 'ARCHIVE', label: '\u0410\u0440\u0445\u0438\u0432'}\n                                ]\"\n                                [value]=\"organisation.stateCode\"\n                                (onChange)=\"organisation.stateCode = $event.selected.value\">\n                            >\n                            </ui-slidingMenu>\n                        </div>\n                        <hr>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/person_icon/source.png)'\"></div>\n                        <div class=\"view-group\">\n                            <span class=\"view-label pull-left\">\u0418\u0441\u0442\u043E\u0447\u043D\u0438\u043A:</span>\n                            <ui-slidingMenu class=\"view-value edit-value\"\n                                [options] = \"[\n                                    {value: 'NOT', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'},\n                                    {value: 'input', label: '\u0412\u0445\u043E\u0434\u044F\u0449\u0438\u0439 \u0437\u0432\u043E\u043D\u043E\u043A'},\n                                    {value: 'internet', label: '\u0418\u043D\u0442\u0435\u0440\u043D\u0435\u0442'},\n                                    {value: 'print', label: '\u041F\u0435\u0447\u0430\u0442\u043D\u043E\u0435 \u0438\u0437\u0434\u0430\u043D\u0438\u0435'},\n                                    {value: 'spam', label: '\u0420\u0430\u0441\u0441\u044B\u043B\u043A\u0430'},\n                                    {value: 'reccomend_cl', label: '\u0420\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0430\u0446\u0438\u044F \u043A\u043B\u0438\u0435\u043D\u0442\u0430'},\n                                    {value: 'reccomend_pt', label: '\u0420\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0430\u0446\u0438\u044F \u043F\u0430\u0440\u043D\u0435\u0440\u0430'},\n                                    {value: 'social', label: '\u0421\u043E\u0446\u0438\u0430\u043B\u044C\u043D\u044B\u0435 \u0441\u0435\u0442\u0438'},\n                                    {value: 'excelent', label: '\u0423\u0441\u043F\u0435\u0448\u043D\u044B\u0439 \u043E\u043F\u044B\u0442 \u0441\u043E\u0442\u0440\u0443\u0434\u043D\u0438\u0447\u0435\u0441\u0442\u0432\u0430'},\n                                    {value: 'cold', label: '\u0425\u043E\u043B\u043E\u0434\u043D\u0430\u044F \u0431\u0430\u0437\u0430'}\n                                ]\"\n                                [value]=\"organisation.sourceCode\"\n                                (onChange)=\"organisation.sourceCode = $event.selected.value\">\n                            >\n                            </ui-slidingMenu>\n                        </div>\n\n                        <div class=\"header_col\">\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                        <div class=\"view-group\" style=\"flex-wrap: wrap; height: 50px; margin-left: 20px;\">\n                            <textarea class=\"view-value text-value\"\n                            placeholder=\"\" [(ngModel)]=\"organisation.description\"\n                            style=\"text-align: left;\"></textarea>\n                        </div>\n                    </div>\n\n                        <!-- \u0420\u0415\u0416\u0418\u041C \u0420\u0415\u0414\u0410\u041A\u0422\u0418\u0420\u041E\u0412\u0410\u041D\u0418\u042F: \u041A\u041E\u041D\u0415\u0426 -->\n                        <!-- \u0420\u0415\u0416\u0418\u041C \u041E\u0422\u041E\u0411\u0420\u0410\u0416\u0415\u041D\u0418\u042F: \u041D\u0410\u0427\u0410\u041B\u041E -->\n\n                        <div class=\"view-block\" [hidden]=\"editEnabled\" style=\"margin: 10px 10px 10px 0px;\">\n                            <div class=\"header_col\">\u041E\u0431\u0449\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/person_icon/category.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u0422\u0438\u043F:</span>\n                                <ui-view-value\n                                    [options] = \"[\n                                        {value: 'NOT', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'},\n                                        {value: 'client', label: '\u041A\u043B\u0438\u0435\u043D\u0442'},\n                                        {value: 'realtor', label: '\u041A\u043E\u043D\u043A\u0443\u0440\u0435\u043D\u0442'},\n                                        {value: 'company', label: '\u041D\u0430\u0448\u0430 \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u044F'},\n                                        {value: 'partner', label: '\u041F\u0430\u0440\u0442\u043D\u0435\u0440'}\n                                    ]\"\n                                    [value]=\"organisation.typeCode\"\n                                >\n                                </ui-view-value>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/office.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435:</span>\n                                <span class=\"view-value\"> {{getTypeName(organisation.type)}}\n                                     &laquo;{{ organisation.name }}&raquo;\n                                </span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/address.png)'\"></div>\n                            <div class=\"view-group\">\n                                <ui-view-line\n                                    [placeholder]= \"'\u0410\u0434\u0440\u0435\u0441:'\" [value]=\"addressStr\"\n                                >\n                                </ui-view-line>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/phone.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u0422\u0435\u043B\u0435\u0444\u043E\u043D:</span>\n                                <ui-multi-view\n                                    [options] = \"[\n                                        {value: 'MOBILE', label: '\u041C\u043E\u0431\u0438\u043B\u044C\u043D\u044B\u0439'},\n                                        {value: 'HOME', label: '\u0414\u043E\u043C\u0430\u0448\u043D\u0438\u0439'},\n                                        {value: 'WORK', label: '\u0420\u0430\u0431\u043E\u0447\u0438\u0439'},\n                                        {value: 'MAIN', label: '\u041E\u0441\u043D\u043E\u0432\u043D\u043E\u0439'},\n                                        {value: 'SAME', label: '\u0414\u0440\u0443\u0433\u043E\u0439'}\n                                    ]\"\n                                    [values] = \"[\n                                        {type: getDateUser(orgPhone).type, value: getDateUser(orgPhone).value}\n                                    ]\"\n                                >\n                                </ui-multi-view>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/email.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">E-mail:</span>\n                                <ui-multi-view\n                                    [options] = \"[\n                                        {value: 'WORK', label: '\u0420\u0430\u0431\u043E\u0447\u0438\u0439'},\n                                        {value: 'MAIN', label: '\u041B\u0438\u0447\u043D\u044B\u0439'}\n                                        ]\"\n                                    [values] = \"[\n                                        {type: getDateUser(orgEmail).type, value: getDateUser(orgEmail).value}\n                                    ]\"\n                                >\n                                </ui-multi-view>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/website.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">WEB-\u0441\u0430\u0439\u0442:</span>\n                                <span class=\"view-value\">\n                                    <span *ngIf=\"!organisation?.webSite\" class=\"view-value\">\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D</span>\n                                    <a *ngIf=\"organisation?.webSite\" [href]=\"'http://'+organisation.webSite\" target=\"_blank\">{{organisation?.webSite}}</a>\n                                </span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/person_icon/requisites.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u0420\u0435\u043A\u0432\u0438\u0437\u0438\u0442\u044B:</span>\n                                <span class=\"view-value\"> {{\"\u0418\u041D\u041D: \"+ (organisation.requisites.inn === undefined ? \" \": organisation.requisites.inn) + \"; \u041A\u041F\u041F: \" + organisation.requisites.kpp}}</span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/user.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u0420\u0443\u043A\u043E\u0432\u043E\u0434\u0438\u0442\u0435\u043B\u044C:</span>\n                                <span class=\"view-value\" [class.link] = \"organisation.head?.id\" (click)=\"openPerson(organisation.head)\">{{organisation.head?.name  || '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'}}</span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/user.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u041A\u043E\u043D\u0442\u0430\u043A\u0442\u043D\u043E\u0435 \u043B\u0438\u0446\u043E:</span>\n                                <span class=\"view-value\" [class.link] = \"organisation.contact?.id\" (click)=\"openPerson(organisation.contact)\">{{organisation.contact?.name  || '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u043E'}}</span>\n                            </div>\n\n                            <div class=\"header_col\">\u0421\u043E\u043F\u0440\u043E\u0432\u043E\u0434\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/user.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u041E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439:</span>\n                                <span class=\"view-value\" [class.link] = \"organisation.agent?.id\" (click)=\"openUser()\">{{organisation.agent?.name || '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'}}</span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/person_icon/contract.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u0414\u043E\u0433\u043E\u0432\u043E\u0440:</span>\n                                <span class=\"view-value\">{{organisation.contract}}</span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/status.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435:</span>\n                                <ui-view-value\n                                    [options] = \"[\n                                        {value: 'NOT', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u043E'},\n                                        {value: 'ACTIVE', label: '\u0410\u043A\u0442\u0438\u0432\u043D\u043E'},\n                                        {value: 'NOT_ACTIVE', label: '\u041D\u0435 \u0430\u043A\u0442\u0438\u0432\u043D\u043E'},\n                                        {value: 'ARCHIVE', label: '\u0410\u0440\u0445\u0438\u0432'}\n                                    ]\"\n                                    [value]=\"organisation.stateCode\"\n                                >\n                                </ui-view-value>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/person_icon/source.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u0418\u0441\u0442\u043E\u0447\u043D\u0438\u043A:</span>\n                                <ui-view-value\n                                    [options] = \"[\n                                        {value: 'NOT', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'},\n                                        {value: 'input', label: '\u0412\u0445\u043E\u0434\u044F\u0449\u0438\u0439 \u0437\u0432\u043E\u043D\u043E\u043A'},\n                                        {value: 'internet', label: '\u0418\u043D\u0442\u0435\u0440\u043D\u0435\u0442'},\n                                        {value: 'print', label: '\u041F\u0435\u0447\u0430\u0442\u043D\u043E\u0435 \u0438\u0437\u0434\u0430\u043D\u0438\u0435'},\n                                        {value: 'spam', label: '\u0420\u0430\u0441\u0441\u044B\u043B\u043A\u0430'},\n                                        {value: 'reccomend_cl', label: '\u0420\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0430\u0446\u0438\u044F \u043A\u043B\u0438\u0435\u043D\u0442\u0430'},\n                                        {value: 'reccomend_pt', label: '\u0420\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0430\u0446\u0438\u044F \u043F\u0430\u0440\u043D\u0435\u0440\u0430'},\n                                        {value: 'social', label: '\u0421\u043E\u0446\u0438\u0430\u043B\u044C\u043D\u044B\u0435 \u0441\u0435\u0442\u0438'},\n                                        {value: 'excelent', label: '\u0423\u0441\u043F\u0435\u0448\u043D\u044B\u0439 \u043E\u043F\u044B\u0442 \u0441\u043E\u0442\u0440\u0443\u0434\u043D\u0438\u0447\u0435\u0441\u0442\u0432\u0430'},\n                                        {value: 'cold', label: '\u0425\u043E\u043B\u043E\u0434\u043D\u0430\u044F \u0431\u0430\u0437\u0430'}\n                                    ]\"\n                                    [value]=\"organisation.sourceCode\"\n                                >\n                                </ui-view-value>\n                            </div>\n\n                            <div class=\"header_col\">\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                            <div class=\"view-group\">\n                                <span class=\"view-value\" style=\"height: initial;\"> {{ organisation.description }} </span>\n                            </div>\n                        </div>\n\n                        <!-- \u0420\u0415\u0416\u0418\u041C \u041E\u0422\u041E\u0411\u0420\u0410\u0416\u0415\u041D\u0418\u042F: \u041A\u041E\u041D\u0415\u0426 -->\n                        <div class=\"header_col\">\u0422\u044D\u0433\u0438</div>\n                        <div style=\"margin: 0 0 20px 20px;\">\n                            <ui-tag-block\n                                [value] = \"organisation.tag\"\n                                (valueChange) = \"organisation.tag = $event.value\"\n                            ></ui-tag-block>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <!-- \u041B\u0435\u0432\u0430\u044F \u0421\u0422\u0412\u041E\u0420\u041A\u0410: \u041A\u041E\u041D\u0415\u0426 -->\n            <!-- \u0420\u0410\u0411\u041E\u0427\u0410\u042F \u041E\u0411\u041B\u0410\u0421\u0422\u042C: \u041D\u0410\u0427\u0410\u041B\u041E -->\n\n            <div class=\"work-area\" [style.width.px]=\"mapWidth\">\n                <ui-tabs\n                    [headerMode]=\"!paneHidden\"\n                    [iconUrls]=\"['assets/main_offers.png', 'assets/base.png', 'assets/base_plus.png']\"\n                    [color]=\"'#8F5128'\"\n                >\n                    <ui-tab\n                      [title]=\"'\u0413\u043B\u0430\u0432\u043D\u0430\u044F'\"\n                      (tabSelect)=\"personsSelected()\"\n\n                    >\n                        <div class=\"\" style=\"margin-top: 25px; max-width: 915px; overflow-y: scroll;\" [style.height]=\"paneHeight\">\n                            <div class=\"button\" (click)=\"addContact()\">\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A\u043E\u043D\u0442\u0430\u043A\u0442</div>\n                            <digest-person *ngFor=\"let p of persons\"\n                                [person]=\"p\"\n                            >\n                            </digest-person>\n                        </div>\n                    </ui-tab>\n                    <ui-tab\n                        [title]=\"'\u0417\u0430\u044F\u0432\u043A\u0438'\"\n                        (tabSelect)=\"offersSelected()\"\n                    >\n\n                        <!-- \u0441\u0438\u043B\u044C\u043D\u043E\u0435 \u043A\u043E\u043B\u0434\u0443\u043D\u0441\u0442\u0432\u043E, \u0441\u0432-\u0432\u043E right \u043F\u043E\u043B\u0443\u0447\u0430\u0435\u043C \u0438\u0437 HubService -->\n                        <!-- TODO: \u0441\u0434\u0435\u043B\u0430\u0442\u044C \u044D\u0442\u043E \u043E\u0442\u0434\u0435\u043B\u044C\u043D\u044B\u043C \u043A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442\u043E\u043C -->\n                        <div  style=\"position: absolute; top: -31px; z-index: 1; border-left: 1px solid #ccc;\" [style.right]=\"_hubService.shared_var['nb_width']\">\n                            <div style=\"width: 330px; background-color: #fff;\">\n                                <div class=\"header\">\n                                    <input type=\"text\" style=\"width: 280px; margin-left: 10px; border: none;\"\n                                        (keydown)=\"offerSearchKeydown($event)\"\n                                    >\n                                    <span class=\"icon-search\" style=\"margin-left: 10px; cursor: pointer;\"\n                                        (click)=\"offerSearch()\"\n                                    ></span>\n                                </div>\n                                <div class=\"\" style=\"width: 100%; overflow-y: scroll;\" [style.height]=\"paneHeight\">\n                                    <digest-offer *ngFor=\"let offer of offers\"\n                                        [offer]=\"offer\"\n                                        [compact]=\"true\"\n                                    >\n                                    </digest-offer>\n                                </div>\n                            </div>\n                        </div>\n                        <google-map\n                            [latitude]=\"lat\"\n                            [longitude]=\"lon\"\n                            [zoom]=\"zoom\"\n                            [objects]=\"offers\"\n                        >\n                        </google-map>\n                    </ui-tab>\n\n                    <ui-tab [title]=\"'\u0410\u043D\u0430\u043B\u0438\u0442\u0438\u043A\u0430'\"\n                        (tabSelect)=\"analysisSelected()\"\n                    >\n                        <div class=\"\" style=\"max-width: 910px; overflow-y: scroll;\" [style.height]=\"paneHeight\">\n                            <div style=\"padding: 15px;\">\n                                <div class=\"tile bg-gred fg-white\">\n                                    <div class=\"tile-content iconic\">\n                                        <span class=\"icon\">{{ ch1_data_v1 }}</span>\n                                    </div>\n                                    <span class=\"tile-label\">\u0412\u0441\u0435\u0433\u043E \u0437\u0430\u0434\u0430\u0447</span>\n                                </div>\n                                <div class=\"chart-block\">\n                                    <div class=\"chart-header bg-gred\">\n                                        <span style=\"margin-left: 25px;\">\u0410\u043A\u0442\u0438\u0432\u043D\u043E\u0441\u0442\u044C</span>\n                                    </div>\n                                    <div>\n                                        <ui-pie-chart\n                                            [title]=\"''\"\n                                            [data]=\"ch1_data\"\n                                        >\n                                        </ui-pie-chart>\n                                    </div>\n                                </div>\n                            </div>\n                            <div style=\"padding: 15px;\">\n                                <div style=\"float: left; display: flex; flex-direction: column;\">\n                                    <div class=\"tile bg-gorange fg-white\" style=\"margin-bottom: 5px;\">\n                                        <div class=\"tile-content iconic\">\n                                            <span class=\"icon\" style=\"font-size: 48px;\">{{ ch4_data_v1 }}</span>\n                                        </div>\n                                        <span class=\"tile-label\">\u0412\u0441\u0435\u0433\u043E \u043E\u0431\u044A\u044F\u0432\u043B\u0435\u043D\u0438\u0439</span>\n                                    </div>\n                                    <div class=\"tile bg-gorange fg-white\" >\n                                        <div class=\"tile-content iconic\">\n                                            <span class=\"icon\" style=\"font-size: 48px;\">{{ ch4_data_v2 }}</span>\n                                        </div>\n                                        <span class=\"tile-label\">\u041F\u043E\u0442\u0440\u0430\u0447\u0435\u043D\u043E \u0440\u0443\u0431.</span>\n                                    </div>\n                                </div>\n                                <div class=\"chart-block\">\n                                    <div class=\"chart-header bg-gorange\">\n                                        <span style=\"margin-left: 25px;\">\u0420\u0435\u043A\u043B\u0430\u043C\u0430</span>\n                                    </div>\n                                    <div>\n                                        <ui-bar-chart\n                                            [title]=\"''\"\n                                            [data]=\"ch4_data\"\n                                        >\n                                        </ui-bar-chart>\n                                    </div>\n                                </div>\n                            </div>\n                            <div style=\"padding: 15px;\">\n                                <div class=\"tile bg-gblue fg-white\">\n                                    <div class=\"tile-content iconic\">\n                                        <span class=\"icon\">{{ ch2_data_v1 }}</span>\n                                    </div>\n                                    <span class=\"tile-label\">\u0412\u0441\u0435\u0433\u043E \u0437\u0430\u044F\u0432\u043E\u043A</span>\n                                </div>\n                                <div class=\"chart-block\">\n                                    <div class=\"chart-header bg-gblue\">\n                                        <span style=\"margin-left: 25px;\">\u0417\u0430\u044F\u0432\u043A\u0438</span>\n                                    </div>\n                                    <div>\n                                        <ui-line-chart\n                                            [title]=\"''\"\n                                            [data]=\"ch2_data\"\n                                        >\n                                        </ui-line-chart>\n                                    </div>\n                                </div>\n                            </div>\n                            <div style=\"padding: 15px;\">\n                                <div style=\"float: left; display: flex; flex-direction: column;\">\n                                    <div class=\"tile bg-ggreen fg-white\" style=\"margin-bottom: 5px;\">\n                                        <div class=\"tile-content iconic\">\n                                            <span class=\"icon\">{{ ch3_data_v1 }}</span>\n                                        </div>\n                                        <span class=\"tile-label\">\u0423\u0441\u043F\u0435\u0448\u043D\u043E</span>\n                                    </div>\n                                    <div class=\"tile bg-ggreen fg-white\">\n                                        <div class=\"tile-content iconic\">\n                                            <span class=\"icon\">{{ ch3_data_v2 }}</span>\n                                        </div>\n                                        <span class=\"tile-label\">\u041D\u0435 \u0443\u0441\u043F\u0435\u0448\u043D\u043E</span>\n                                    </div>\n                                </div>\n                                <div class=\"chart-block\">\n                                    <div class=\"chart-header bg-ggreen\">\n                                        <span style=\"margin-left: 25px;\">\u041F\u043E\u043A\u0430\u0437\u044B</span>\n                                    </div>\n                                    <div>\n                                        <ui-line-chart\n                                            [title]=\"''\"\n                                            [data]=\"ch3_data\"\n                                        >\n                                        </ui-line-chart>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </ui-tab>\n\n                    <!--<ui-tab\n                        [title]=\"'\u0418\u0441\u0442\u043E\u0440\u0438\u044F'\"\n                        (tabSelect)=\"historySelected()\"\n                        >\n                        <div class=\"\" style=\"max-width: 910px; overflow-y: scroll;\" [style.height]=\"paneHeight\">\n                            <digest-history *ngFor=\"let record of historyRecs\"\n                                [historyRecord]=\"record\"\n                            >\n                            </digest-history>\n                        </div>\n                    </ui-tab>-->\n                </ui-tabs>\n            </div>\n            <!-- \u0420\u0410\u0411\u041E\u0427\u0410\u042F \u041E\u0411\u041B\u0410\u0421\u0422\u042C: \u041A\u041E\u041D\u0415\u0426 -->\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_5__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__service_hub_service__["a" /* HubService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_6__service_config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__service_config_service__["a" /* ConfigService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_7__service_user_service__["a" /* UserService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_7__service_user_service__["a" /* UserService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_11__service_offer_service__["b" /* OfferService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_11__service_offer_service__["b" /* OfferService */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_9__service_task_service__["a" /* TaskService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_9__service_task_service__["a" /* TaskService */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_1__service_analysis_service__["a" /* AnalysisService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_analysis_service__["a" /* AnalysisService */]) === "function" && _f || Object, typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_10__service_history_service__["a" /* HistoryService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_10__service_history_service__["a" /* HistoryService */]) === "function" && _g || Object, typeof (_h = typeof __WEBPACK_IMPORTED_MODULE_12__service_person_service__["a" /* PersonService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_12__service_person_service__["a" /* PersonService */]) === "function" && _h || Object, typeof (_j = typeof __WEBPACK_IMPORTED_MODULE_8__service_organisation_service__["a" /* OrganisationService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_8__service_organisation_service__["a" /* OrganisationService */]) === "function" && _j || Object, typeof (_k = typeof __WEBPACK_IMPORTED_MODULE_13__service_session_service__["a" /* SessionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_13__service_session_service__["a" /* SessionService */]) === "function" && _k || Object])
], TabOrganisationComponent);

var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;
//# sourceMappingURL=tab-organisation.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/tab/tab-person.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_analysis_service__ = __webpack_require__("../../../../../src/app/service/analysis.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__entity_user__ = __webpack_require__("../../../../../src/app/entity/user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__entity_offer__ = __webpack_require__("../../../../../src/app/entity/offer.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__entity_person__ = __webpack_require__("../../../../../src/app/entity/person.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__entity_request__ = __webpack_require__("../../../../../src/app/entity/request.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__service_offer_service__ = __webpack_require__("../../../../../src/app/service/offer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__service_request_service__ = __webpack_require__("../../../../../src/app/service/request.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__service_task_service__ = __webpack_require__("../../../../../src/app/service/task.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__service_history_service__ = __webpack_require__("../../../../../src/app/service/history.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__service_person_service__ = __webpack_require__("../../../../../src/app/service/person.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__service_organisation_service__ = __webpack_require__("../../../../../src/app/service/organisation.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__service_user_service__ = __webpack_require__("../../../../../src/app/service/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__service_session_service__ = __webpack_require__("../../../../../src/app/service/session.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TabPersonComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
















var TabPersonComponent = (function () {
    function TabPersonComponent(_hubService, _configService, _offerService, _requestService, _taskService, _analysisService, _historyService, _personService, _organisationService, _userService, _sessionService) {
        var _this = this;
        this._hubService = _hubService;
        this._configService = _configService;
        this._offerService = _offerService;
        this._requestService = _requestService;
        this._taskService = _taskService;
        this._analysisService = _analysisService;
        this._historyService = _historyService;
        this._personService = _personService;
        this._organisationService = _organisationService;
        this._userService = _userService;
        this._sessionService = _sessionService;
        this.person = new __WEBPACK_IMPORTED_MODULE_4__entity_person__["a" /* Person */]();
        this.getDateUser = __WEBPACK_IMPORTED_MODULE_2__entity_user__["a" /* User */].getData;
        this.personEmail = [];
        this.personPhone = [];
        this.personAddress = [];
        this.organisationsOpts = [];
        this.agentOpts = [];
        this.paneHidden = false;
        this.editEnabled = false;
        this.requestOfferType = 'sale';
        this.ch1_data = [];
        this.ch2_data = [];
        this.ch3_data = [];
        this.ch4_data = [];
        this.addressStr = '';
        _organisationService.list("").subscribe(function (organisations) {
            for (var i = 0; i < organisations.length; i++) {
                var o = organisations[i];
                _this.organisationsOpts.push({
                    value: o.id,
                    label: o.name
                });
            }
        });
        _userService.list(null, null, "").subscribe(function (agents) {
            for (var i = 0; i < agents.length; i++) {
                var a = agents[i];
                _this.agentOpts.push({
                    value: a.id,
                    label: a.name
                });
            }
        });
    }
    TabPersonComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.person = this.tab.args.person;
        this._personService.get(this.person.id).subscribe(function (pers) {
            _this.person = pers;
        });
        var c = this._configService.getConfig();
        var loc = this._sessionService.getAccount().location;
        this.personAddress = [
            { type: 'KRAY', value: this.person.fullAddress.region },
            { type: 'CITY', value: this.person.fullAddress.city },
            { type: 'DISTRICT', value: this.person.fullAddress.admArea },
            { type: 'STREET', value: this.person.fullAddress.street },
            { type: 'HOUSE', value: this.person.fullAddress.house },
            { type: 'HOUSING', value: this.person.fullAddress.housing },
            { type: 'FLAT', value: this.person.fullAddress.apartment }
        ];
        this.getAddressStr();
        this.personPhone = [
            { type: 'MOBILE', value: this.person.phoneBlock.cellphone },
            { type: 'HOME', value: this.person.phoneBlock.home },
            { type: 'WORK', value: this.person.phoneBlock.office },
            { type: 'MAIN', value: this.person.phoneBlock.main },
            { type: 'SAME', value: this.person.phoneBlock.other },
            { type: 'FAX', value: this.person.phoneBlock.fax }
        ];
        this.personEmail = [
            { type: 'WORK', value: this.person.emailBlock.work },
            { type: 'MAIN', value: this.person.emailBlock.main }
        ];
        if (c.map[loc]) {
            this.lat = c.map[loc].lat;
            this.lon = c.map[loc].lon;
            this.zoom = c.map[loc].zoom;
        }
        else {
            this.lat = c.map['default'].lat;
            this.lon = c.map['default'].lon;
            this.zoom = c.map['default'].zoom;
        }
        if (this.person.organisationId) {
            this._organisationService.get(this.person.organisationId).subscribe(function (org) {
                _this.organisation = org;
            });
        }
        if (this.person.userId != null) {
            this._userService.get(this.person.userId).subscribe(function (agent) {
                _this.person.agent = agent;
            });
        }
        if (this.person.id == null) {
            this.toggleEdit();
        }
        this.calcSize();
    };
    TabPersonComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        setTimeout(function () {
            if (_this.person.id) {
                _this.tab.header = 'Контакт';
            }
            else {
                _this.tab.header = 'Новый контакт';
            }
        });
    };
    TabPersonComponent.prototype.onResize = function (e) {
        this.calcSize();
    };
    TabPersonComponent.prototype.calcSize = function () {
        if (this.paneHidden) {
            this.paneWidth = 0;
        }
        else {
            this.paneWidth = 370;
        }
        this.mapWidth = document.body.clientWidth - (31) - this.paneWidth;
        this.paneHeight = document.body.clientHeight - 31;
    };
    TabPersonComponent.prototype.toggleLeftPane = function () {
        this.paneHidden = !this.paneHidden;
        this.calcSize();
    };
    TabPersonComponent.prototype.toggleEdit = function () {
        this.editEnabled = !this.editEnabled;
    };
    TabPersonComponent.prototype.agentChanged = function (e) {
        var _this = this;
        this.person.userId = e.selected.value;
        if (this.person.userId != null) {
            this._userService.get(this.person.userId).subscribe(function (agent) {
                _this.person.agent = agent;
            });
        }
    };
    TabPersonComponent.prototype.organisationChanged = function (e) {
        var _this = this;
        this.person.organisationId = e.selected.value;
        if (this.person.organisationId != null) {
            this._organisationService.get(this.person.organisationId).subscribe(function (org) {
                _this.person.organisation = org;
            });
        }
    };
    TabPersonComponent.prototype.save = function () {
        var _this = this;
        var tem = this.getIndex(this.personPhone, "MOBILE");
        this.person.phoneBlock.cellphone = tem > -1 ? this.personPhone[tem].value : null;
        tem = this.getIndex(this.personPhone, "HOME");
        this.person.phoneBlock.home = tem > -1 ? this.personPhone[tem].value : null;
        tem = this.getIndex(this.personPhone, "WORK");
        this.person.phoneBlock.office = tem > -1 ? this.personPhone[tem].value : null;
        tem = this.getIndex(this.personPhone, "MAIN");
        this.person.phoneBlock.main = tem > -1 ? this.personPhone[tem].value : null;
        tem = this.getIndex(this.personPhone, "SAME");
        this.person.phoneBlock.other = tem > -1 ? this.personPhone[tem].value : null;
        tem = this.getIndex(this.personPhone, "FAX");
        this.person.phoneBlock.fax = tem > -1 ? this.personPhone[tem].value : null;
        tem = this.getIndex(this.personAddress, "KRAY");
        this.person.fullAddress.region = tem > -1 ? this.personAddress[tem].value : undefined;
        tem = this.getIndex(this.personAddress, "CITY");
        this.person.fullAddress.city = tem > -1 ? this.personAddress[tem].value : undefined;
        tem = this.getIndex(this.personAddress, "DISTRICT");
        this.person.fullAddress.admArea = tem > -1 ? this.personAddress[tem].value : undefined;
        tem = this.getIndex(this.personAddress, "STREET");
        this.person.fullAddress.street = tem > -1 ? this.personAddress[tem].value : undefined;
        tem = this.getIndex(this.personAddress, "HOUSE");
        this.person.fullAddress.house = tem > -1 ? this.personAddress[tem].value : undefined;
        tem = this.getIndex(this.personAddress, "HOUSING");
        this.person.fullAddress.housing = tem > -1 ? this.personAddress[tem].value : undefined;
        tem = this.getIndex(this.personAddress, "FLAT");
        this.person.fullAddress.apartment = tem > -1 ? this.personAddress[tem].value : undefined;
        tem = this.getIndex(this.personEmail, "MAIN");
        this.person.emailBlock.main = tem > -1 ? this.personEmail[tem].value : null;
        tem = this.getIndex(this.personEmail, "WORK");
        this.person.emailBlock.work = tem > -1 ? this.personEmail[tem].value : null;
        this._personService.save(this.person).subscribe(function (person) {
            setTimeout(function () {
                _this.person.copyFields(person);
                _this.getAddressStr();
            });
            _this.toggleEdit();
        }, function (err) {
            console.log('Error: ' + err);
        });
    };
    TabPersonComponent.prototype.offersSelected = function () {
        var _this = this;
        this._offerService.list(0, 32, __WEBPACK_IMPORTED_MODULE_8__service_offer_service__["a" /* OfferSource */].LOCAL, { offerTypeCode: this.requestOfferType, personId: this.person.id }, null, "", []).subscribe(function (offers) {
            _this.offers = offers.list;
        });
    };
    TabPersonComponent.prototype.requestsSelected = function () {
        var _this = this;
        this._requestService.list(0, 32, this.requestOfferType, "all", null, this.person.id, "").subscribe(function (requests) {
            _this.requests = requests;
        });
    };
    TabPersonComponent.prototype.analysisSelected = function () {
        var a_data = this._analysisService.getObjAnalysis();
        this.ch1_data = a_data.ch1_data;
        this.ch1_data_v1 = a_data.ch1_data_v1;
        this.ch2_data = a_data.ch2_data;
        this.ch2_data_v1 = a_data.ch2_data_v1;
        this.ch3_data = a_data.ch3_data;
        this.ch3_data_v1 = a_data.ch3_data_v1;
        this.ch3_data_v2 = a_data.ch3_data_v2;
        this.ch4_data = [
            ['media', 'подано'],
            ['avito', 7],
            ['из рук в руки', 4],
            ['презент', 6],
            ['фарпост', 8],
            ['ВНХ', 6],
        ];
        this.ch4_data_v1 = 31;
        this.ch4_data_v2 = 5000;
    };
    TabPersonComponent.prototype.historySelected = function () {
        this.historyRecs = this._historyService.getObjHistory();
    };
    TabPersonComponent.prototype.getOffers = function (page, per_page) {
        /*
        this._offerService.list(page, per_page, ).subscribe(
            data => {
                this.offers = data;
            }
        );
        */
    };
    TabPersonComponent.prototype.offer_search = function () {
        this.getOffers(0, 16);
    };
    TabPersonComponent.prototype.offer_search_keydown = function (e) {
        if (e.keyCode == 13) {
            this.offer_search();
        }
    };
    TabPersonComponent.prototype.markerClick = function (r) {
        //r.selected = !r.selected;
        // scroll to object ???
    };
    TabPersonComponent.prototype.createRequest = function () {
        var tab_sys = this._hubService.getProperty('tab_sys');
        var req = new __WEBPACK_IMPORTED_MODULE_5__entity_request__["a" /* Request */]();
        req.personId = this.person.id;
        tab_sys.addTab('request', { request: req });
    };
    TabPersonComponent.prototype.toggleOffer = function (offer_type) {
        var _this = this;
        this.requestOfferType = offer_type;
        this._offerService.list(0, 32, __WEBPACK_IMPORTED_MODULE_8__service_offer_service__["a" /* OfferSource */].LOCAL, { offerTypeCode: this.requestOfferType, personId: this.person.id }, null, "", []).subscribe(function (offers) {
            _this.offers = offers.list;
        });
        this._requestService.list(0, 32, this.requestOfferType, "all", null, this.person.id, "").subscribe(function (requests) {
            _this.requests = requests;
        });
    };
    TabPersonComponent.prototype.createOffer = function () {
        var tab_sys = this._hubService.getProperty('tab_sys');
        tab_sys.addTab('offer', { offer: {}, person: this.person });
    };
    TabPersonComponent.prototype.getOfferDigest = function (r) {
        return __WEBPACK_IMPORTED_MODULE_3__entity_offer__["a" /* Offer */].getDigest(r);
    };
    TabPersonComponent.prototype.showMenu = function (event) {
        var parent = event.currentTarget.parentElement;
        var height = parent.getElementsByClassName('input_field').length * 35;
        if (parent.offsetHeight == 30) {
            parent.style.setProperty('height', "" + (height + 55) + 'px');
            parent.style.setProperty('overflow', "visible");
            event.currentTarget.style.setProperty('transform', 'rotate(180deg)');
        }
        else {
            parent.style.setProperty('height', "30px");
            parent.style.setProperty('overflow', "hidden");
            event.currentTarget.style.setProperty('transform', 'rotate(0deg)');
        }
    };
    TabPersonComponent.prototype.parseArray = function (values, obj, isAddress) {
        for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {
            var val = values_1[_i];
            var no = true;
            for (var _a = 0, obj_1 = obj; _a < obj_1.length; _a++) {
                var en = obj_1[_a];
                if (val.type == en.type) {
                    en.value = val.value;
                    no = false;
                }
            }
            if (no && val.value)
                obj.push(val);
        }
        for (var i = 0; i < obj.length; ++i) {
            if (obj[i].value === undefined || obj[i].value === null) {
                obj.splice(i, 1);
                i--;
            }
        }
        if (isAddress) {
            this.getAddressStr();
        }
    };
    TabPersonComponent.prototype.getIndex = function (array, str) {
        for (var i = 0; i < array.length; ++i) {
            if (array[i].type == str)
                return i;
        }
        return -1;
    };
    TabPersonComponent.prototype.getTypeName = function (type) {
        switch (type) {
            case "OOO": return "ООО";
            case "ZAO": return "ЗАО";
            case "AO": return "АО";
            case "PAO": return "ПАО";
            case "IP": return "ИП";
            case "OAO": return "ОАО";
            default: return "";
        }
    };
    TabPersonComponent.prototype.getAddressStr = function () {
        this.addressStr = this.person.fullAddress.city !== undefined ? "" + this.person.fullAddress.city : '';
        this.addressStr += this.person.fullAddress.street !== undefined ? ", " + this.person.fullAddress.street : '';
        this.addressStr += this.person.fullAddress.house !== undefined ? ", " + this.person.fullAddress.house : '';
    };
    TabPersonComponent.prototype.openUser = function () {
        if (this.person.agent.id) {
            var tab_sys = this._hubService.getProperty('tab_sys');
            tab_sys.addTab('user', { user: this.person.agent });
        }
    };
    TabPersonComponent.prototype.openOrganisation = function () {
        if (this.person.organisation.id) {
            var tab_sys = this._hubService.getProperty('tab_sys');
            tab_sys.addTab('organisation', { organisation: this.person.organisation });
        }
    };
    return TabPersonComponent;
}());
TabPersonComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'tab-person',
        inputs: ['tab'],
        styles: ["\n        .header_col{\n            width: calc(100% - 10px);\n            height: 40px;\n            background-color: #f7f7f7;\n            padding-left: 20px;\n            text-transform: uppercase;\n            font-size: 10pt;\n            color: #5f5d5d;\n            line-height: 40px;\n            margin-bottom: 10px;\n        }\n        .pane {\n            float: left;\n            width: 370px;\n            height: 100%;\n        }\n\n        .work-area {\n            float: left;\n            width: 100%;\n            height: 100%;\n        }\n\n        .tab-button {\n            width: 30px;\n            height: 30px;\n            text-align: center;\n            line-height: 30px;\n            font-size: 12px !important;\n            cursor: pointer;\n            color: #666;\n        }\n\n        .fixed-button {\n            position: fixed;\n            top: 0;\n            left: 0;\n        }\n\n        .view-group {\n            margin-bottom: 5px;\n            display: flex;\n            justify-content: space-between;\n            align-items: flex-start;\n            height: 30px;\n        }\n\n        .view-label {\n            white-space: nowrap;\n            color: rgb(80, 80, 80);\n            margin-top: 5px;\n            font-size: 10pt;\n            margin-right: 5px;\n        }\n\n        .view-value {\n            width: 100%;\n            text-align: right;\n            color: #696969;\n            font-size: 10pt;\n            margin-top: 5px;\n            height: 19px; /* \u043A\u043E\u0441\u0442\u044B\u043B\u044C */\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            overflow: hidden;\n        }\n\n        .edit-value {\n            width: 100%;\n            text-align: right;\n            color: #696969;\n            font-size: 10pt;\n            height: 19px; /* \u043A\u043E\u0441\u0442\u044B\u043B\u044C */\n            border: none !important;\n            overflow: visible;\n        }\n\n        .text-value {\n            height: 3rem;\n            border: 1px solid #E5E5E5 !important;\n        }\n\n        .edit-block > .view-group, .view-block > .view-group {\n            height: 30px;\n            margin-left: 57px;\n        }\n\n        .show_value{\n            flex: 0 0 190px;\n            margin-right: 30px;\n            position: relative;\n            text-align: right;\n            height: 30px;\n            display: flex;\n            flex-direction: column;\n            width: 143px;\n            display: inline-block;\n            overflow: hidden;\n            text-overflow: ellipsis;\n        }\n\n        .edit-block >hr, .view-block >hr{\n                margin: 5px -10px 5px 55px;\n        }\n\n        .show_value > span:first-child{\n            height: 10px;\n            font-size: 8pt;\n        }\n        .show_value > span:last-child{\n            font-size: 10pt;\n            color: #959595;\n        }\n\n\n        .tile-x {\n            margin-right: 10px;\n            width: 150px;\n            height: 150px;\n            color: #fff;\n            position: relative;\n        }\n\n\n        .tile {\n            margin: 0;\n            margin-right: 10px;\n        }\n\n        .icon {\n            line-height: 64px;\n        }\n\n        .tile-content.iconic .icon {\n            width: 128px;\n            margin-left: -64px;\n        }\n\n        .chart-block {\n            overflow:hidden;\n            border: 1px solid #e5e5e5;\n        }\n\n        .chart-header {\n            width: 100%;\n            height: 30px;\n            border-bottom: 1px solid #e5e5e5;\n            line-height: 30px;\n            color: #fff;\n        }\n\n        .array-container > span {\n            display: block;\n            margin-bottom: 5px;\n        }\n\n        .array-container > input {\n            margin-bottom: 5px;\n        }\n\n        .two-way-switch {\n            display: table;\n            border: 1px solid #3366cc;\n            cursor: pointer;\n        }\n\n        .two-way-switch > div {\n            display: table-cell;\n            width: 90px;\n            text-align: center;\n            padding: 5px 15px;\n            background-color: #fff;\n            color: #333;\n        }\n\n        .two-way-switch > div.active {\n            background-color: #3366cc;\n            color: #fff;\n        }\n\n        .button {\n            text-align: center;\n            padding: 5px 15px;\n            background-color: #3366cc;\n            color: #fff;\n            cursor: pointer;\n            margin-top: 25px;\n        }\n\n        .view_icon{\n            width: 28px;\n            height: 25px;\n            background-size: contain;\n            float: left;\n            background-repeat: no-repeat;\n            background-position: center;\n            margin-right: 12px;\n            margin-top: 2px;\n            margin-left: 17px;\n        }\n\n        .person_face{\n            height: 220px;\n            background-color: #f7f7f7;\n        }\n\n        .person_face > .rate{\n            height: 20px;\n            background-image: url(assets/star_rate.png);\n            background-size: contain;\n            width: 100px;\n            margin-left: 20px;\n            margin-top: 10px;\n        }\n\n        .person_face > img{\n            width: 120px;\n            height: 90px;\n            margin: 20px 0 10 20px;\n        }\n\n        .person_face  .name{\n            margin: 0 0 0 20px;\n            border: 0 !important;\n            font-size: 16pt;\n            text-align: left;\n            background-color: transparent;\n            color: #595a5a;\n            height: 23px;\n            line-height: 23px;\n        }\n\n        .multiselect{\n            width: 280px;\n            position: relative;\n            display: block;\n            margin-right: 15px;\n            overflow: hidden;\n        }\n\n        .multiply{\n            position: relative;\n            display: block;\n            height: 30px;\n            width: 280px;\n            margin-right: 15px;\n            margin-left: 0;\n            overflow: hidden;\n        }\n        .arrow{\n            background-image: url(assets/arrow.png);\n            width: 18px;\n            height: 10px;\n            background-size: cover;\n            margin: 0 10px;\n            background-position: center;\n            flex: 0 0 18px;\n            position: absolute;\n            top: 5px;\n            right: -10px;\n        }\n\n        .lock a{\n            color: #d6d6d6;\n            text-decoration: none;\n            cursor: no-drop;\n        }\n\n    "],
        template: "\n\n        <div class=\"tab-button fixed-button\" (click)=\"toggleLeftPane()\">\n            <span [ngClass]=\"{'icon-arrow-right': paneHidden, 'icon-arrow-left': !paneHidden}\"></span>\n        </div>\n\n        <div class=\"person\" (window:resize)=\"onResize($event)\">\n\n        <!-- \u041B\u0415\u0412\u0410\u042F \u0421\u0422\u0412\u041E\u0420\u041A\u0410: \u041D\u0410\u0427\u0410\u041B\u041E -->\n\n            <div class=\"pane\" [hidden]=\"paneHidden\" [style.width.px]=\"paneWidth\">\n                <div class=\"header\">\n                    <div class=\"header-label\">{{ tab.header }}</div>\n                </div>\n                <div style=\"overflow: scroll; overflow-x: hidden; height: calc(100% - 111px);\n                        border-right: 1px solid #cccccc;\">\n                        <div class = \"person_face\">\n                    <img src=\"\">\n                    <div class=\"view-group\" *ngIf=\"!editEnabled\" style=\"flex-wrap: wrap;margin-top: -1px;\">\n                        <div class=\"view-value name\" style=\"text-transform: uppercase;\"> {{ person.name}}</div>\n                        <div class=\"view-value name\" style=\"font-size: 14pt; margin-top: 3px;\"> {{ person.name}}</div>\n                    </div>\n                    <div class=\"view-group\" *ngIf=\"editEnabled\">\n                        <input type=\"text\" class=\"view-value edit-value name\" [(ngModel)]=\"person.name\">\n                        <div class=\"pensil\" style=\"position: relative; margin-right: 35px;\"></div>\n                    </div>\n                    <div class=\"rate\"></div>\n                </div>\n                <!--<div class=\"pull-container\">\n                    <div class=\"font-sz-2 pull-left\">\u0418\u0441\u0442\u043E\u0447\u043D\u0438\u043A: <span class=\"color-g1\"><a href=\"\" target=\"_blank\"></a></span></div>\n                    <div class=\"font-sz-1 color-g2 pull-right\"> {{ person.add_date | formatDate }} </div>\n                </div>-->\n                <div class=\"pull-container\" style=\"margin: 20px 10px 0px;\">\n                    <div class=\"pull-right\" [hidden]=\"editEnabled\" (click)=\"toggleEdit()\"><a href=\"#\" >\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C</a></div>\n                    <div class=\"pull-right\" [hidden]=\"!editEnabled\" (click)=\"save()\"><a href=\"#\" >\u0413\u043E\u0442\u043E\u0432\u043E</a></div>\n                </div>\n                <div class=\"person-prop\" [style.height]=\"paneHeight\">\n\n                        <!-- \u0420\u0415\u0416\u0418\u041C \u0420\u0415\u0414\u0410\u041A\u0422\u0418\u0420\u041E\u0412\u0410\u041D\u0418\u042F: \u041D\u0410\u0427\u0410\u041B\u041E -->\n                    <div class=\"edit-block\" [hidden]=\"!editEnabled\" style=\"margin: 10px 10px 10px 0px;\">\n\n                        <div class=\"header_col\">\u041E\u0431\u0449\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/person_icon/category.png)'\"></div>\n                        <div class=\"view-group\">\n                            <span class=\"view-label pull-left\">\u0422\u0438\u043F:</span>\n                            <ui-slidingMenu class=\"view-value edit-value\"\n                                [options] = \"[\n                                    {value: 'NOT', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'},\n                                    {value: 'client', label: '\u041A\u043B\u0438\u0435\u043D\u0442'},\n                                    {value: 'realtor', label: '\u041A\u043E\u043D\u043A\u0443\u0440\u0435\u043D\u0442'},\n                                    {value: 'company', label: '\u041D\u0430\u0448\u0430 \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u044F'},\n                                    {value: 'partner', label: '\u041F\u0430\u0440\u0442\u043D\u0435\u0440'},\n                                    {value: 'owner', label: '\u0421\u043E\u0431\u0441\u0442\u0432\u0435\u043D\u043D\u0438\u043A'}\n\n                                ]\"\n                                [value]=\"person.typeCode\"\n                                (onChange)=\"person.typeCode = $event.selected.value\">\n                            >\n                            </ui-slidingMenu>\n                        </div>\n                        <hr>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/user.png)'\"></div>\n                        <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                            <ui-input-line [placeholder] = \"'\u0424\u0418\u041E:'\" [value] = \"person.name\"\n                                [width] = \"'225px'\" (onChange)= \"person.name = $event\">\n                            </ui-input-line>\n                        </div>\n                        <hr>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/address.png)'\"></div>\n                        <div class=\"view-group multiselect\" style='height: 30px;'>\n                            <ui-input-line [placeholder] = \"'\u0410\u0434\u0440\u0435\u0441:'\" [value] = \"addressStr\"\n                                [width] = \"'225px'\" (onChange)= \"parseArray($event, personAddress, true)\" [queryTipe]=\"'address'\" (clicked)=\"showMenu($event)\">\n                            </ui-input-line>\n                            <div class='arrow' (click)=\"showMenu($event)\" *ngIf=\"personAddress[0] && personAddress[0].value !== undefined\"></div>\n                            <ui-multiselect class=\"view-value edit-value\" style=\"\"\n                                [options] = \"[\n                                    {value: 'KRAY', label: '\u0420\u0435\u0433\u0438\u043E\u043D'},\n                                    {value: 'CITY', label: '\u041D\u0430\u0441. \u043F\u0443\u043D\u043A\u0442'},\n                                    {value: 'DISTRICT', label: '\u0420\u0430\u0439\u043E\u043D'},\n                                    {value: 'STREET', label: '\u0423\u043B\u0438\u0446\u0430'},\n                                    {value: 'HOUSE', label: '\u0414\u043E\u043C'},\n                                    {value: 'HOUSING', label: '\u041A\u043E\u0440\u043F\u0443\u0441'},\n                                    {value: 'FLAT', label: '\u041A\u0432\u0430\u0440\u0442\u0438\u0440\u0430'}\n                                ]\"\n                                [masks] = \"['','','','','','','']\"\n                                [values]=\"personAddress\"\n                                [width]=\"'36%'\"\n                                (onChange)=\"parseArray($event, personAddress, true)\">\n                            </ui-multiselect>\n                        </div>\n                        <hr>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/phone.png)'\"></div>\n                        <div class=\"view-group multiply\">\n                            <span class=\"view-label pull-left\">\u0422\u0435\u043B\u0435\u0444\u043E\u043D\u044B:</span>\n                            <div class=\"show_value\">{{\" \"}}</div>\n                            <div class='arrow' (click)=\"showMenu($event)\"></div>\n                            <ui-multiselect class=\"view-value edit-value\" style=\"\"\n                                [options] = \"[\n                                    {value: 'MOBILE', label: '\u041C\u043E\u0431\u0438\u043B\u044C\u043D\u044B\u0439'},\n                                    {value: 'HOME', label: '\u0414\u043E\u043C\u0430\u0448\u043D\u0438\u0439'},\n                                    {value: 'WORK', label: '\u0420\u0430\u0431\u043E\u0447\u0438\u0439'},\n                                    {value: 'MAIN', label: '\u041E\u0441\u043D\u043E\u0432\u043D\u043E\u0439'},\n                                    {value: 'SAME', label: '\u0414\u0440\u0443\u0433\u043E\u0439'}\n                                ]\"\n                                [masks] = \"['+_ (___) ___-__-__',\n                                            '+_ (____) __-__-__',\n                                            '+_ (___) ___-__-__',\n                                            '+_ (____) ___-___',\n                                            '+_ (____) __-__-__']\"\n                                [values]=\"personPhone\"\n                                [width]=\"'43%'\"\n                                (onChange)=\"parseArray($event, personPhone)\">\n                            </ui-multiselect>\n                        </div>\n                        <hr>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/email.png)'\"></div>\n                        <div class=\"view-group multiply\">\n                            <span class=\"view-label pull-left\">E-mail:</span>\n                            <div class=\"show_value\">{{\" \"}}</div>\n                            <div class='arrow' (click)=\"showMenu($event)\"></div>\n                            <ui-multiselect class=\"view-value edit-value\" style=\"\"\n                                [options] = \"[\n                                    {value: 'WORK', label: '\u0420\u0430\u0431\u043E\u0447\u0438\u0439'},\n                                    {value: 'MAIN', label: '\u041B\u0438\u0447\u043D\u044B\u0439'}\n                                    ]\"\n                                [masks] = \"['', '']\"\n                                [values]=\"personEmail\"\n                                [width]=\"'36%'\"\n                                (onChange)=\"parseArray($event, personEmail)\">\n                            </ui-multiselect>\n                        </div>\n                        <hr>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/website.png)'\"></div>\n                        <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                            <ui-input-line [placeholder] = \"'WEB-\u0441\u0430\u0439\u0442:'\" [value] = \"person.webSite\"\n                                [width] = \"'225px'\" (onChange)= \"person.webSite = $event\">\n                            </ui-input-line>\n                        </div>\n\n                        <div class=\"header_col\">\u0421\u043E\u043F\u0440\u043E\u0432\u043E\u0434\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/user.png)'\"></div>\n                        <div class=\"view-group\">\n                            <span class=\"view-label pull-left\">\u041E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439:</span>\n                            <ui-slidingMenu class=\"view-value edit-value\"\n                                [options] = \"agentOpts\"\n                                [value]=\"person.userId\"\n                                (onChange)=\"agentChanged($event)\"\n                            >\n                            </ui-slidingMenu>\n                        </div>\n                        <hr>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/person_icon/contract.png)'\"></div>\n                        <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                                <ui-input-line [placeholder] = \"'\u0414\u043E\u0433\u043E\u0432\u043E\u0440 \u2116 \u043E\u0442'\" [value] = \"person.contract\"\n                                        [width] = \"'225px'\" (onChange)= \"person.contract = $event\">\n                                </ui-input-line>\n                        </div>\n                        <hr>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/status.png)'\"></div>\n                        <div class=\"view-group\">\n                            <span class=\"view-label pull-left\">\u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435:</span>\n                            <ui-slidingMenu class=\"view-value edit-value\"\n                                [options] = \"[\n                                    {value: 'NOT', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u043E'},\n                                    {value: 'ACTIVE', label: '\u0410\u043A\u0442\u0438\u0432\u043D\u043E'},\n                                    {value: 'NOT_ACTIVE', label: '\u041D\u0435 \u0430\u043A\u0442\u0438\u0432\u043D\u043E'},\n                                    {value: 'ARCHIVE', label: '\u0410\u0440\u0445\u0438\u0432'}\n                                ]\"\n                                [value]=\"person.stateCode\"\n                                (onChange)=\"person.stateCode = $event.selected.value\">\n                            >\n                            </ui-slidingMenu>\n                        </div>\n                        <hr>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/person_icon/source.png)'\"></div>\n                        <div class=\"view-group\">\n                            <span class=\"view-label pull-left\">\u0418\u0441\u0442\u043E\u0447\u043D\u0438\u043A:</span>\n                            <ui-slidingMenu class=\"view-value edit-value\"\n                                [options] = \"[\n                                    {value: 'NOT', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'},\n                                    {value: 'input', label: '\u0412\u0445\u043E\u0434\u044F\u0449\u0438\u0439 \u0437\u0432\u043E\u043D\u043E\u043A'},\n                                    {value: 'internet', label: '\u0418\u043D\u0442\u0435\u0440\u043D\u0435\u0442'},\n                                    {value: 'print', label: '\u041F\u0435\u0447\u0430\u0442\u043D\u043E\u0435 \u0438\u0437\u0434\u0430\u043D\u0438\u0435'},\n                                    {value: 'spam', label: '\u0420\u0430\u0441\u0441\u044B\u043B\u043A\u0430'},\n                                    {value: 'reccomend_cl', label: '\u0420\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0430\u0446\u0438\u044F \u043A\u043B\u0438\u0435\u043D\u0442\u0430'},\n                                    {value: 'reccomend_pt', label: '\u0420\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0430\u0446\u0438\u044F \u043F\u0430\u0440\u043D\u0435\u0440\u0430'},\n                                    {value: 'social', label: '\u0421\u043E\u0446\u0438\u0430\u043B\u044C\u043D\u044B\u0435 \u0441\u0435\u0442\u0438'},\n                                    {value: 'excelent', label: '\u0423\u0441\u043F\u0435\u0448\u043D\u044B\u0439 \u043E\u043F\u044B\u0442 \u0441\u043E\u0442\u0440\u0443\u0434\u043D\u0438\u0447\u0435\u0441\u0442\u0432\u0430'},\n                                    {value: 'cold', label: '\u0425\u043E\u043B\u043E\u0434\u043D\u0430\u044F \u0431\u0430\u0437\u0430'}\n                                ]\"\n                                [value]=\"person.sourceCode\"\n                                (onChange)=\"person.sourceCode = $event.selected.value\">\n                            >\n                            </ui-slidingMenu>\n                        </div>\n                        <hr>\n                        <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/office.png)'\"></div>\n                        <div class=\"view-group\" style='position: relative; display: block;'>\n                            <ui-slidingMenu class=\"view-value edit-value\"\n                                [options] = \"organisationsOpts\"\n                                [value]=\"person.organisationId\"\n                                (onChange)=\"organisationChanged($event)\"\n                            >\n                            </ui-slidingMenu>\n                        </div>\n\n                        <div class=\"header_col\">\u0422\u044D\u0433\u0438</div>\n                        <div style=\"margin: 0 0 20px 20px;\">\n                            <ui-tag-block\n                                [value] = \"person.tag\"\n                                (valueChange) = \"person.tag = $event.value\"\n                            ></ui-tag-block>\n                        </div>\n\n                        <div class=\"header_col\">\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                        <div class=\"view-group\" style=\"flex-wrap: wrap; height: 50px; margin-left: 20px;\">\n                            <textarea class=\"view-value text-value\" placeholder=\"\"\n                            [(ngModel)]=\"person.description\" style=\"text-align: left;\"></textarea>\n                        </div>\n\n                    </div>\n\n                        <!-- \u0420\u0415\u0416\u0418\u041C \u0420\u0415\u0414\u0410\u041A\u0422\u0418\u0420\u041E\u0412\u0410\u041D\u0418\u042F: \u041A\u041E\u041D\u0415\u0426 -->\n                        <!-- \u0420\u0415\u0416\u0418\u041C \u041E\u0422\u041E\u0411\u0420\u0410\u0416\u0415\u041D\u0418\u042F: \u041D\u0410\u0427\u0410\u041B\u041E -->\n                    <div class=\"view-block\" [hidden]=\"editEnabled\" style=\"margin: 10px 10px 10px 0px;\">\n                            <div class=\"header_col\">\u041E\u0431\u0449\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/person_icon/category.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u0422\u0438\u043F:</span>\n                                <ui-view-value\n                                    [options] = \"[\n                                        {value: 'NOT', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'},\n                                        {value: 'client', label: '\u041A\u043B\u0438\u0435\u043D\u0442'},\n                                        {value: 'realtor', label: '\u041A\u043E\u043D\u043A\u0443\u0440\u0435\u043D\u0442'},\n                                        {value: 'company', label: '\u041D\u0430\u0448\u0430 \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u044F'},\n                                        {value: 'partner', label: '\u041F\u0430\u0440\u0442\u043D\u0435\u0440'}\n                                    ]\"\n                                    [value]=\"person.typeCode\"\n                                >\n                                </ui-view-value>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/user.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u0424\u0418\u041E:</span>\n                                <span class=\"view-value\"> {{ person.name }}</span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/address.png)'\"></div>\n                            <div class=\"view-group\">\n                                <ui-view-line\n                                    [placeholder]= \"'\u0410\u0434\u0440\u0435\u0441:'\" [value]=\"addressStr\"\n                                >\n                                </ui-view-line>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/phone.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u0422\u0435\u043B\u0435\u0444\u043E\u043D:</span>\n                                <ui-multi-view\n                                    [options] = \"[\n                                        {value: 'MOBILE', label: '\u041C\u043E\u0431\u0438\u043B\u044C\u043D\u044B\u0439'},\n                                        {value: 'HOME', label: '\u0414\u043E\u043C\u0430\u0448\u043D\u0438\u0439'},\n                                        {value: 'WORK', label: '\u0420\u0430\u0431\u043E\u0447\u0438\u0439'},\n                                        {value: 'MAIN', label: '\u041E\u0441\u043D\u043E\u0432\u043D\u043E\u0439'},\n                                        {value: 'SAME', label: '\u0414\u0440\u0443\u0433\u043E\u0439'}\n                                    ]\"\n                                    [values] = \"[\n                                        {type: getDateUser(personPhone).type, value: getDateUser(personPhone).value}\n                                    ]\"\n                                >\n                                </ui-multi-view>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/email.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">E-mail:</span>\n                                <ui-multi-view\n                                    [options] = \"[\n                                        {value: 'WORK', label: '\u0420\u0430\u0431\u043E\u0447\u0438\u0439'},\n                                        {value: 'MAIN', label: '\u041B\u0438\u0447\u043D\u044B\u0439'}\n                                        ]\"\n                                    [values] = \"[\n                                        {type: getDateUser(personEmail).type, value: getDateUser(personEmail).value}\n                                    ]\"\n                                >\n                                </ui-multi-view>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/website.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">WEB-\u0441\u0430\u0439\u0442:</span>\n                                <span class=\"view-value\">\n                                    <span *ngIf=\"!person?.webSite\" class=\"view-value\">\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D</span>\n                                    <a *ngIf=\"person?.webSite\" [href]=\"'http://'+person.webSite\" target=\"_blank\">{{person?.webSite}}</a>\n                                </span>\n                            </div>\n\n                            <div class=\"header_col\">\u0421\u043E\u043F\u0440\u043E\u0432\u043E\u0434\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/user.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u041E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439:</span>\n                                <span class=\"view-value\" [class.link] = \" person.agent?.id\" (click)=\"openUser()\">{{ person.agent?.name || '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'}}</span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/person_icon/contract.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u0414\u043E\u0433\u043E\u0432\u043E\u0440:</span>\n                                <span class=\"view-value\">{{person.contract}}</span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/status.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435:</span>\n                                <ui-view-value\n                                    [options] = \"[\n                                        {value: 'NOT', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u043E'},\n                                        {value: 'ACTIVE', label: '\u0410\u043A\u0442\u0438\u0432\u043D\u043E'},\n                                        {value: 'NOT_ACTIVE', label: '\u041D\u0435 \u0430\u043A\u0442\u0438\u0432\u043D\u043E'},\n                                        {value: 'ARCHIVE', label: '\u0410\u0440\u0445\u0438\u0432'}\n                                    ]\"\n                                    [value]=\"person.stateCode\"\n                                >\n                                </ui-view-value>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/person_icon/source.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u0418\u0441\u0442\u043E\u0447\u043D\u0438\u043A:</span>\n                                <ui-view-value\n                                    [options] = \"[\n                                        {value: 'NOT', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'},\n                                        {value: 'input', label: '\u0412\u0445\u043E\u0434\u044F\u0449\u0438\u0439 \u0437\u0432\u043E\u043D\u043E\u043A'},\n                                        {value: 'internet', label: '\u0418\u043D\u0442\u0435\u0440\u043D\u0435\u0442'},\n                                        {value: 'print', label: '\u041F\u0435\u0447\u0430\u0442\u043D\u043E\u0435 \u0438\u0437\u0434\u0430\u043D\u0438\u0435'},\n                                        {value: 'spam', label: '\u0420\u0430\u0441\u0441\u044B\u043B\u043A\u0430'},\n                                        {value: 'reccomend_cl', label: '\u0420\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0430\u0446\u0438\u044F \u043A\u043B\u0438\u0435\u043D\u0442\u0430'},\n                                        {value: 'reccomend_pt', label: '\u0420\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0430\u0446\u0438\u044F \u043F\u0430\u0440\u043D\u0435\u0440\u0430'},\n                                        {value: 'social', label: '\u0421\u043E\u0446\u0438\u0430\u043B\u044C\u043D\u044B\u0435 \u0441\u0435\u0442\u0438'},\n                                        {value: 'excelent', label: '\u0423\u0441\u043F\u0435\u0448\u043D\u044B\u0439 \u043E\u043F\u044B\u0442 \u0441\u043E\u0442\u0440\u0443\u0434\u043D\u0438\u0447\u0435\u0441\u0442\u0432\u0430'},\n                                        {value: 'cold', label: '\u0425\u043E\u043B\u043E\u0434\u043D\u0430\u044F \u0431\u0430\u0437\u0430'}\n                                    ]\"\n                                    [value]=\"person.sourceCode\"\n                                >\n                                </ui-view-value>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/office.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u041E\u0440\u0433\u0430\u043D\u0438\u0437\u0430\u0446\u0438\u044F:</span>\n                                <span class=\"view-value\" [class.link] = \"person.organisation?.id\" (click)=\"openOrganisation()\">\n                                    {{getTypeName(person.organisation?.type)}}{{ person?.organisation?.name ? (' \"' +person?.organisation?.name+ '\"') : '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u0430'}}\n                                </span>\n                            </div>\n\n                            <div class=\"header_col\">\u0422\u044D\u0433\u0438</div>\n                            <div style=\"margin: 0 0 20px 20px;\">\n                                <ui-tag-block\n                                    [value] = \"person.tag\"\n                                    (valueChange) = \"person.tag = $event.value\"\n                                ></ui-tag-block>\n                            </div>\n\n                            <div class=\"header_col\">\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                            <div class=\"view-group\">\n                                <span class=\"view-value\" style=\"height: initial;\"> {{ person.description }} </span>\n                            </div>\n                    </div>\n                        <!-- \u0420\u0415\u0416\u0418\u041C \u041E\u0422\u041E\u0411\u0420\u0410\u0416\u0415\u041D\u0418\u042F: \u041A\u041E\u041D\u0415\u0426 -->\n\n                </div>\n            </div>\n        </div>\n\n            <!-- \u041B\u0435\u0432\u0430\u044F \u0421\u0422\u0412\u041E\u0420\u041A\u0410: \u041A\u041E\u041D\u0415\u0426 -->\n            <!-- \u0420\u0410\u0411\u041E\u0427\u0410\u042F \u041E\u0411\u041B\u0410\u0421\u0422\u042C: \u041D\u0410\u0427\u0410\u041B\u041E -->\n\n            <div class=\"work-area\" [style.width.px]=\"mapWidth\">\n                <ui-tabs\n                    [headerMode]=\"!paneHidden\"\n                    [iconUrls]=\"['assets/main_offers.png', 'assets/base.png', 'assets/base_plus.png']\"\n                >\n                    <ui-tab\n                        [title]=\"'\u0413\u043B\u0430\u0432\u043D\u0430\u044F'\"\n                        (tabSelect)=\"offersSelected()\"\n                    >\n                        <div class=\"\" style=\"position: absolute; top: 15px; left: 15px; z-index: 1;\">\n                            <div class=\"two-way-switch\">\n                                <div [class.active]=\"requestOfferType == 'sale'\" (click)=\"toggleOffer('sale')\">\u041F\u0440\u043E\u0434\u0430\u0436\u0430</div>\n                                <div [class.active]=\"requestOfferType == 'rent'\" (click)=\"toggleOffer('rent')\">\u0410\u0440\u0435\u043D\u0434\u0430</div>\n                            </div>\n                        </div>\n                        <!-- \u0441\u0438\u043B\u044C\u043D\u043E\u0435 \u043A\u043E\u043B\u0434\u0443\u043D\u0441\u0442\u0432\u043E, \u0441\u0432-\u0432\u043E right \u043F\u043E\u043B\u0443\u0447\u0430\u0435\u043C \u0438\u0437 HubService -->\n                        <!-- TODO: \u0441\u0434\u0435\u043B\u0430\u0442\u044C \u044D\u0442\u043E \u043E\u0442\u0434\u0435\u043B\u044C\u043D\u044B\u043C \u043A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442\u043E\u043C -->\n                        <div  style=\"position: absolute; top: -31px; z-index: 1; border-left: 1px solid #ccc;\" [style.right]=\"_hubService.shared_var['nb_width']\">\n                            <div style=\"width: 330px; background-color: #fff;\">\n                                <div class=\"header\">\n                                    <input type=\"text\" style=\"width: 280px; margin-left: 10px; border: none;\"\n                                        (keydown)=\"offer_search_keydown($event)\"\n                                    >\n                                    <span class=\"icon-search\" style=\"margin-left: 10px; cursor: pointer;\"\n                                        (click)=\"offer_search()\"\n                                    ></span>\n                                </div>\n\n                                <div class=\"\" style=\"width: 100%; overflow-y: scroll;\" [style.height]=\"paneHeight\">\n                                    <div class=\"button\" (click)=\"createOffer()\">\n                                        \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u0435\n                                    </div>\n                                    <digest-offer *ngFor=\"let offer of offers\"\n                                      [offer]=\"offer\"\n                                      [compact]=\"true\"\n                                     >\n                                    </digest-offer>\n                                </div>\n                            </div>\n                        </div>\n                        <google-map [latitude]=\"lat\" [longitude]=\"lon\" [objects]=\"offers\" [zoom]=\"zoom\">\n                        </google-map>\n                    </ui-tab>\n                    <ui-tab\n                        [title]=\"'\u0417\u0430\u044F\u0432\u043A\u0438'\"\n                        (tabSelect)=\"requestsSelected()\"\n                    >\n                        <div class=\"\" style=\"margin: 15px;\">\n                            <div class=\"two-way-switch\">\n                                <div [class.active]=\"requestOfferType == 'sale'\" (click)=\"toggleOffer('sale')\">\u041F\u0440\u043E\u0434\u0430\u0436\u0430</div>\n                                <div [class.active]=\"requestOfferType == 'rent'\" (click)=\"toggleOffer('rent')\">\u0410\u0440\u0435\u043D\u0434\u0430</div>\n                            </div>\n                        </div>\n                        <div class=\"\" style=\"max-width: 910px; overflow-y: scroll; \" [style.height]=\"paneHeight\">\n                            <div class=\"button\" (click)=\"createRequest()\">\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0437\u0430\u044F\u0432\u043A\u0443</div>\n                            <digest-request *ngFor=\"let request of requests\"\n                                [request]=\"request\"\n                            >\n                            </digest-request>\n                        </div>\n                    </ui-tab>\n                    <ui-tab [title]=\"'\u0410\u043D\u0430\u043B\u0438\u0442\u0438\u043A\u0430'\"\n                        (tabSelect)=\"analysisSelected()\"\n                    >\n                        <div class=\"\" style=\"max-width: 910px; overflow-y: scroll;\" [style.height]=\"paneHeight\">\n                            <div style=\"padding: 15px;\">\n                                <div class=\"tile bg-gred fg-white\">\n                                    <div class=\"tile-content iconic\">\n                                        <span class=\"icon\">{{ ch1_data_v1 }}</span>\n                                    </div>\n                                    <span class=\"tile-label\">\u0412\u0441\u0435\u0433\u043E \u0437\u0430\u0434\u0430\u0447</span>\n                                </div>\n                                <div class=\"chart-block\">\n                                    <div class=\"chart-header bg-gred\">\n                                        <span style=\"margin-left: 25px;\">\u0410\u043A\u0442\u0438\u0432\u043D\u043E\u0441\u0442\u044C</span>\n                                    </div>\n                                    <div>\n                                        <ui-pie-chart\n                                            [title]=\"''\"\n                                            [data]=\"ch1_data\"\n                                        >\n                                        </ui-pie-chart>\n                                    </div>\n                                </div>\n                            </div>\n                            <div style=\"padding: 15px;\">\n                                <div style=\"float: left; display: flex; flex-direction: column;\">\n                                    <div class=\"tile bg-gorange fg-white\" style=\"margin-bottom: 5px;\">\n                                        <div class=\"tile-content iconic\">\n                                            <span class=\"icon\" style=\"font-size: 48px;\">{{ ch4_data_v1 }}</span>\n                                        </div>\n                                        <span class=\"tile-label\">\u0412\u0441\u0435\u0433\u043E \u043E\u0431\u044A\u044F\u0432\u043B\u0435\u043D\u0438\u0439</span>\n                                    </div>\n                                    <div class=\"tile bg-gorange fg-white\" >\n                                        <div class=\"tile-content iconic\">\n                                            <span class=\"icon\" style=\"font-size: 48px;\">{{ ch4_data_v2 }}</span>\n                                        </div>\n                                        <span class=\"tile-label\">\u041F\u043E\u0442\u0440\u0430\u0447\u0435\u043D\u043E \u0440\u0443\u0431.</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"chart-block\">\n                                    <div class=\"chart-header bg-gorange\">\n                                        <span style=\"margin-left: 25px;\">\u0420\u0435\u043A\u043B\u0430\u043C\u0430</span>\n                                    </div>\n                                    <div>\n                                        <ui-bar-chart\n                                            [title]=\"''\"\n                                            [data]=\"ch4_data\"\n                                        >\n                                        </ui-bar-chart>\n                                    </div>\n                                </div>\n                            </div>\n                            <div style=\"padding: 15px;\">\n                                <div class=\"tile bg-gblue fg-white\">\n                                    <div class=\"tile-content iconic\">\n                                        <span class=\"icon\">{{ ch2_data_v1 }}</span>\n                                    </div>\n                                    <span class=\"tile-label\">\u0412\u0441\u0435\u0433\u043E \u0437\u0430\u044F\u0432\u043E\u043A</span>\n                                </div>\n                                <div class=\"chart-block\">\n                                    <div class=\"chart-header bg-gblue\">\n                                        <span style=\"margin-left: 25px;\">\u0417\u0430\u044F\u0432\u043A\u0438</span>\n                                    </div>\n                                    <div>\n                                        <ui-line-chart\n                                            [title]=\"''\"\n                                            [data]=\"ch2_data\"\n                                        >\n                                        </ui-line-chart>\n                                    </div>\n                                </div>\n                            </div>\n                            <div style=\"padding: 15px;\">\n                                <div style=\"float: left; display: flex; flex-direction: column;\">\n                                    <div class=\"tile bg-ggreen fg-white\" style=\"margin-bottom: 5px;\">\n                                        <div class=\"tile-content iconic\">\n                                            <span class=\"icon\">{{ ch3_data_v1 }}</span>\n                                        </div>\n                                        <span class=\"tile-label\">\u0423\u0441\u043F\u0435\u0448\u043D\u043E</span>\n                                    </div>\n                                    <div class=\"tile bg-ggreen fg-white\">\n                                        <div class=\"tile-content iconic\">\n                                            <span class=\"icon\">{{ ch3_data_v2 }}</span>\n                                        </div>\n                                        <span class=\"tile-label\">\u041D\u0435 \u0443\u0441\u043F\u0435\u0448\u043D\u043E</span>\n                                    </div>\n                                </div>\n                                <div class=\"chart-block\">\n                                    <div class=\"chart-header bg-ggreen\">\n                                        <span style=\"margin-left: 25px;\">\u041F\u043E\u043A\u0430\u0437\u044B</span>\n                                    </div>\n                                    <div>\n                                        <ui-line-chart\n                                            [title]=\"''\"\n                                            [data]=\"ch3_data\"\n                                        >\n                                        </ui-line-chart>\n                                    </div>\n                                </div>\n                            </div>\n\n                        </div>\n                    </ui-tab>\n\n\n                    <!--<ui-tab\n                        [title]=\"'\u0418\u0441\u0442\u043E\u0440\u0438\u044F'\"\n                        (tabSelect)=\"historySelected()\"\n                    >\n                        <div class=\"\" style=\"max-width: 910px; overflow-y: scroll;\" [style.height]=\"paneHeight\">\n                            <digest-history *ngFor=\"let record of historyRecs\"\n                                [historyRecord]=\"record\"\n                            >\n                            </digest-history>\n                        </div>\n                    </ui-tab>-->\n                </ui-tabs>\n            </div>\n            <!-- \u0420\u0410\u0411\u041E\u0427\u0410\u042F \u041E\u0411\u041B\u0410\u0421\u0422\u042C: \u041A\u041E\u041D\u0415\u0426 -->\n      </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_6__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__service_hub_service__["a" /* HubService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_7__service_config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_7__service_config_service__["a" /* ConfigService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_8__service_offer_service__["b" /* OfferService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_8__service_offer_service__["b" /* OfferService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_9__service_request_service__["a" /* RequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_9__service_request_service__["a" /* RequestService */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_10__service_task_service__["a" /* TaskService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_10__service_task_service__["a" /* TaskService */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_1__service_analysis_service__["a" /* AnalysisService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_analysis_service__["a" /* AnalysisService */]) === "function" && _f || Object, typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_11__service_history_service__["a" /* HistoryService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_11__service_history_service__["a" /* HistoryService */]) === "function" && _g || Object, typeof (_h = typeof __WEBPACK_IMPORTED_MODULE_12__service_person_service__["a" /* PersonService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_12__service_person_service__["a" /* PersonService */]) === "function" && _h || Object, typeof (_j = typeof __WEBPACK_IMPORTED_MODULE_13__service_organisation_service__["a" /* OrganisationService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_13__service_organisation_service__["a" /* OrganisationService */]) === "function" && _j || Object, typeof (_k = typeof __WEBPACK_IMPORTED_MODULE_14__service_user_service__["a" /* UserService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_14__service_user_service__["a" /* UserService */]) === "function" && _k || Object, typeof (_l = typeof __WEBPACK_IMPORTED_MODULE_15__service_session_service__["a" /* SessionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_15__service_session_service__["a" /* SessionService */]) === "function" && _l || Object])
], TabPersonComponent);

var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;
//# sourceMappingURL=tab-person.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/tab/tab-request.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__entity_offer__ = __webpack_require__("../../../../../src/app/entity/offer.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__entity_person__ = __webpack_require__("../../../../../src/app/entity/person.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__entity_user__ = __webpack_require__("../../../../../src/app/entity/user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_offer_service__ = __webpack_require__("../../../../../src/app/service/offer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_request_service__ = __webpack_require__("../../../../../src/app/service/request.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__service_task_service__ = __webpack_require__("../../../../../src/app/service/task.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__service_history_service__ = __webpack_require__("../../../../../src/app/service/history.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__service_person_service__ = __webpack_require__("../../../../../src/app/service/person.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__service_user_service__ = __webpack_require__("../../../../../src/app/service/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__service_analysis_service__ = __webpack_require__("../../../../../src/app/service/analysis.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__service_session_service__ = __webpack_require__("../../../../../src/app/service/session.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TabRequestComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};














var TabRequestComponent = (function () {
    /*
    stageCodeOptions = [
        {value: 'contact', label: 'Первичный контакт'},
        {value: 'pre_deal', label: 'Заключение договора'},
        {value: 'show', label: 'Показ'},
        {value: 'prep_deal', label: 'Подготовка договора'},
        {value: 'decision', label: 'Принятие решения'},
        {value: 'negs', label: 'Переговоры'},
        {value: 'deal', label: 'Сделка'}
    ];
    */
    function TabRequestComponent(_hubService, _configService, _offerService, _requestService, _taskService, _analysisService, _historyService, _personService, _userService, _sessionService) {
        var _this = this;
        this._hubService = _hubService;
        this._configService = _configService;
        this._offerService = _offerService;
        this._requestService = _requestService;
        this._taskService = _taskService;
        this._analysisService = _analysisService;
        this._historyService = _historyService;
        this._personService = _personService;
        this._userService = _userService;
        this._sessionService = _sessionService;
        this.page = 0;
        this.perPage = 16;
        this.source = __WEBPACK_IMPORTED_MODULE_6__service_offer_service__["a" /* OfferSource */].LOCAL;
        this.agent = new __WEBPACK_IMPORTED_MODULE_3__entity_user__["a" /* User */]();
        this.agentOpts = [];
        this.person = new __WEBPACK_IMPORTED_MODULE_2__entity_person__["a" /* Person */]();
        this.personOpts = [];
        this.newRequest = false;
        this.editEnabled = false;
        this.mapDrawAllowed = false;
        this.paneHidden = false;
        this.ch1_data = [];
        this.ch2_data = [];
        this.ch3_data = [];
        this.ch4_data = [];
        this.offerTypeCodeOptions = [
            { value: 'sale', label: 'Продажа' },
            { value: 'rent', label: 'Аренда' }
        ];
        this.stageCodeOptions = [
            { value: 'raw', label: 'Не активен' },
            { value: 'active', label: 'Активен' },
            { value: 'listing', label: 'Листинг' },
            { value: 'deal', label: 'Сделка' },
            { value: 'suspended', label: 'Приостановлен' },
            { value: 'archive', label: 'Архив' }
        ];
        this.rate = [
            { persent: 10, text: "Предприятия и промышленность", isRated: false },
            { persent: 25, text: "Образование, школы, д/сады", isRated: true },
            { persent: 50, text: "Парки, кинотеатры и отдых", isRated: false },
            { persent: 55, text: "Здоровье, поликлиники, аптеки", isRated: false },
            { persent: 45, text: "Спорт и фитнес", isRated: false },
            { persent: 40, text: "Развлечения и ночная жизнь", isRated: false },
            { persent: 75, text: "Рестораны и шопинг", isRated: false },
            { persent: 90, text: "Красота", isRated: false },
            { persent: 65, text: "Культура", isRated: false },
        ];
        this._userService.list(null, null, "").subscribe(function (agents) {
            for (var i = 0; i < agents.length; i++) {
                var a = agents[i];
                _this.agentOpts.push({
                    value: a.id,
                    label: a.name
                });
            }
        });
        /*this._personService.list(null, null, "").subscribe(persons => {
            for (let i = 0; i < persons.length; i++) {
                var p = persons[i];
                this.personOpts.push({
                    value: p.id,
                    label: p.name
                });
            }
        });*/
        setTimeout(function () {
            if (_this.request.id) {
                _this.tab.header = 'Заявка';
            }
            else {
                _this.tab.header = 'Новая заявка';
            }
        });
    }
    TabRequestComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.request = this.tab.args.request;
        var c = this._configService.getConfig();
        var loc = this._sessionService.getAccount().location;
        if (this.request.searchArea && this.request.searchArea.length > 0) {
            var lat = 0.0;
            var lon = 0.0;
            this.request.searchArea.forEach(function (p) {
                lat += p.lat;
                lon += p.lon;
            });
            this.lat = lat / this.request.searchArea.length;
            this.lon = lon / this.request.searchArea.length;
        }
        else {
            if (c.map[loc]) {
                this.lat = c.map[loc].lat;
                this.lon = c.map[loc].lon;
                this.zoom = c.map[loc].zoom;
            }
            else {
                this.lat = c.map['default'].lat;
                this.lon = c.map['default'].lon;
                this.zoom = c.map['default'].zoom;
            }
        }
        if (this.request.id == null) {
            this.newRequest = true;
        }
        else {
        }
        this._offerService.list(0, 32, __WEBPACK_IMPORTED_MODULE_6__service_offer_service__["a" /* OfferSource */].LOCAL, { offerTypeCode: this.request.offerTypeCode }, null, this.request.request, this.request.searchArea).subscribe(function (offers) {
            _this.offers = offers.list;
        }, function (err) { return console.log(err); });
        if (this.request.personId != null) {
            this._personService.get(this.request.personId).subscribe(function (data) {
                _this.person = data;
            });
        }
        if (this.request.agentId != null) {
            this._userService.get(this.request.agentId).subscribe(function (agent) {
                _this.agent = agent;
            });
        }
        this.calcSize();
    };
    TabRequestComponent.prototype.onResize = function (e) {
        this.calcSize();
    };
    TabRequestComponent.prototype.calcSize = function () {
        if (this.paneHidden) {
            this.paneWidth = 0;
        }
        else {
            this.paneWidth = 370;
        }
        this.mapWidth = document.body.clientWidth - (31) - this.paneWidth;
        this.paneHeight = document.body.clientHeight - 31;
    };
    TabRequestComponent.prototype.toggleLeftPane = function () {
        this.paneHidden = !this.paneHidden;
        this.calcSize();
    };
    TabRequestComponent.prototype.toggleEdit = function () {
        this.editEnabled = !this.editEnabled;
    };
    TabRequestComponent.prototype.agentChanged = function (e) {
        var _this = this;
        this.request.agentId = e.selected.value;
        if (this.request.agentId != null) {
            this._userService.get(this.request.agentId).subscribe(function (agent) {
                _this.agent = agent;
            });
        }
    };
    TabRequestComponent.prototype.personChanged = function (e) {
        var _this = this;
        this.request.personId = e.selected.value;
        if (this.request.agentId != null) {
            this._userService.get(this.request.agentId).subscribe(function (agent) {
                _this.agent = agent;
            });
        }
    };
    TabRequestComponent.prototype.save = function () {
        var _this = this;
        this._requestService.save(this.request).subscribe(function (request) {
            setTimeout(function () {
                _this.request = request;
            });
            _this.toggleEdit();
        });
    };
    TabRequestComponent.prototype.offersSelected = function () {
        this.getOffers(0, 16);
    };
    TabRequestComponent.prototype.analysisSelected = function () {
        var a_data = this._analysisService.getObjAnalysis();
        this.ch1_data = a_data.ch1_data;
        this.ch1_data_v1 = a_data.ch1_data_v1;
        this.ch2_data = a_data.ch2_data;
        this.ch2_data_v1 = a_data.ch2_data_v1;
        this.ch3_data = a_data.ch3_data;
        this.ch3_data_v1 = a_data.ch3_data_v1;
        this.ch3_data_v2 = a_data.ch3_data_v2;
        this.ch4_data = [
            ['media', 'подано'],
            ['avito', 7],
            ['из рук в руки', 4],
            ['презент', 6],
            ['фарпост', 8],
            ['ВНХ', 6],
        ];
        this.ch4_data_v1 = 31;
        this.ch4_data_v2 = 5000;
    };
    TabRequestComponent.prototype.historySelected = function () {
        this.historyRecs = this._historyService.getObjHistory();
    };
    TabRequestComponent.prototype.getOffers = function (page, per_page) {
        var _this = this;
        this._offerService.list(page, per_page, this.source, { offerTypeCode: this.request.offerTypeCode }, null, this.request.request, this.request.searchArea).subscribe(function (offers) {
            _this.offers = offers.list;
        }, function (err) { return console.log(err); });
    };
    TabRequestComponent.prototype.offerSearch = function () {
        this.getOffers(this.page, this.perPage);
    };
    TabRequestComponent.prototype.offer_search_keydown = function (e) {
        if (e.keyCode == 13) {
            this.offerSearch();
        }
    };
    TabRequestComponent.prototype.markerClick = function (r) {
        //r.selected = !r.selected;
        // scroll to object ???
    };
    TabRequestComponent.prototype.drawFinished = function (e) {
        this.request.searchArea = e;
        this.offerSearch();
    };
    TabRequestComponent.prototype.toggleDraw = function () {
        this.mapDrawAllowed = !this.mapDrawAllowed;
        if (!this.mapDrawAllowed) {
            this.request.searchArea = [];
            this.offerSearch();
        }
    };
    TabRequestComponent.prototype.createRequest = function () {
        this.newRequest = false;
        this.save();
    };
    TabRequestComponent.prototype.getOfferDigest = function (r) {
        return __WEBPACK_IMPORTED_MODULE_1__entity_offer__["a" /* Offer */].getDigest(r);
    };
    TabRequestComponent.prototype.toggleSource = function (bool) {
        if (!bool) {
            this.source = __WEBPACK_IMPORTED_MODULE_6__service_offer_service__["a" /* OfferSource */].LOCAL;
        }
        else {
            this.source = __WEBPACK_IMPORTED_MODULE_6__service_offer_service__["a" /* OfferSource */].IMPORT;
        }
        this.page = 0;
        this.offerSearch();
    };
    TabRequestComponent.prototype.showMenu = function (event) {
        var parent = event.currentTarget.parentElement;
        var height = parent.getElementsByTagName('input').length * 35;
        if (parent.offsetHeight == 30) {
            parent.style.setProperty('height', "" + (height + 60) + 'px');
            parent.style.setProperty('overflow', "visible");
            event.currentTarget.style.setProperty('transform', 'rotate(180deg)');
        }
        else {
            parent.style.setProperty('height', "30px");
            parent.style.setProperty('overflow', "hidden");
            event.currentTarget.style.setProperty('transform', 'rotate(0deg)');
        }
    };
    TabRequestComponent.prototype.openOffer = function (offer) {
        var tab_sys = this._hubService.getProperty('tab_sys');
        tab_sys.addTab('offer', { offer: offer });
    };
    TabRequestComponent.prototype.openUser = function () {
        if (this.agent.id) {
            var tab_sys = this._hubService.getProperty('tab_sys');
            tab_sys.addTab('user', { user: this.agent });
        }
    };
    TabRequestComponent.prototype.openOrganisation = function () {
        if (this.person.organisation.id) {
            var tab_sys = this._hubService.getProperty('tab_sys');
            tab_sys.addTab('organisation', { organisation: this.person.organisation });
        }
    };
    TabRequestComponent.prototype.openPerson = function () {
        if (this.person.id) {
            var tab_sys = this._hubService.getProperty('tab_sys');
            tab_sys.addTab('person', { person: this.person });
        }
    };
    return TabRequestComponent;
}());
TabRequestComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'tab-request',
        inputs: ['tab'],
        styles: ["\n        .header_col{\n            width: calc(100% - 10px);\n            height: 40px;\n            background-color: #f7f7f7;\n            padding-left: 20px;\n            text-transform: uppercase;\n            font-size: 10pt;\n            color: #5f5d5d;\n            line-height: 40px;\n            margin-bottom: 10px;\n        }\n\n        .search-form {\n            position: absolute;\n            width: 41%;\n            margin-left: 610;\n            margin-top: 15px;\n            z-index: 1;\n        }\n\n        .search-box > a {\n            font-size: 10pt;\n            color: #fbfbfb;\n            background-color: #0e60c5;\n            height: 28px;\n            line-height: 28px;\n            width: 80px;\n            cursor: pointer;\n            text-align: center;\n            display: inline-block;\n            float: left;\n        }\n\n        .with-button {\n            overflow: hidden;\n        }\n\n        .with-button > input {\n            float: left;\n            width: calc(100% - 184px);\n        }\n\n        .search-button {\n            width: 90px;\n            height: 28px;\n            background-color: #0b9700;\n            color: #fff;\n            cursor: pointer;\n            font-size: 10pt;\n            float: left;\n            text-align: center;\n        }\n\n        .search-form.table-mode {\n            border: 1px solid #fff;\n        }\n\n        .tool-box {\n            height: 30px;\n            margin: 0 12px;\n        }\n\n        .search-box {\n            position: relative;\n            margin: 12px 12 0 12;\n        }\n\n        .pane {\n            float: left;\n            width: 370px;\n            height: 100%;\n        }\n\n        .work-area {\n            float: left;\n            width: 100%;\n            height: 100%;\n        }\n\n        .tab-button {\n            width: 30px;\n            height: 30px;\n            text-align: center;\n            line-height: 30px;\n            font-size: 12px !important;\n            cursor: pointer;\n            color: #666;\n        }\n\n        .fixed-button {\n            position: fixed;\n            top: 0;\n            left: 0;\n        }\n\n        .view-group {\n            margin-bottom: 5px;\n            display: flex;\n            justify-content: space-between;\n            align-items: flex-start;\n        }\n\n        .view-label {\n            white-space: nowrap;\n            color: rgb(80, 80, 80);\n            margin-top: 5px;\n            font-size: 10pt;\n            margin-right: 5px;\n        }\n\n        .view-value {\n            width: 100%;\n            text-align: right;\n            color: #696969;\n            font-size: 10pt;\n            margin-top: 5px;\n            height: 19px; /* \u043A\u043E\u0441\u0442\u044B\u043B\u044C */\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            overflow: hidden;\n        }\n\n        .edit-value {\n            width: 100%;\n            text-align: right;\n            color: #696969;\n            font-size: 10pt;\n            margin-right: 15px;\n            height: 19px; /* \u043A\u043E\u0441\u0442\u044B\u043B\u044C */\n            border: none !important;\n        }\n\n        .text-value {\n            height: 3rem;\n            border: 1px solid #E5E5E5 !important;\n        }\n\n        .edit-block > .view-group, .view-block > .view-group {\n            height: 30px;\n            height: 30px;\n            margin-left: 57px;\n        }\n\n\n        .tile-x {\n            margin-right: 10px;\n            width: 150px;\n            height: 150px;\n            color: #fff;\n            position: relative;\n        }\n\n        .tile {\n            margin: 0;\n            margin-right: 10px;\n        }\n\n        .icon {\n            line-height: 64px;\n        }\n\n        .tile-content.iconic .icon {\n            width: 128px;\n            margin-left: -64px;\n        }\n\n        .chart-block {\n            overflow:hidden;\n            border: 1px solid #e5e5e5;\n        }\n\n        .chart-header {\n            width: 100%;\n            height: 30px;\n            border-bottom: 1px solid #e5e5e5;\n            line-height: 30px;\n            color: #fff;\n        }\n\n        .array-container > span {\n            display: block;\n            margin-bottom: 5px;\n        }\n\n        .array-container > input {\n            margin-bottom: 5px;\n        }\n\n        .button {\n            text-align: center;\n            padding: 5px 15px;\n            background-color: #3366cc;\n            color: #fff;\n            cursor: pointer;\n        }\n\n        .person_face{\n            height: 220px;\n            background-color: #f7f7f7;\n        }\n\n        .person_face > .rate{\n            height: 20px;\n            background-image: url(assets/star_rate.png);\n            background-size: contain;\n            width: 100px;\n            margin-left: 20px;\n            margin-top: 10px;\n        }\n\n        .person_face > img{\n            width: 120px;\n            height: 90px;\n            margin: 20px 0 10 20px;\n        }\n\n        .person_face  .name{\n            margin: 0 0 0 20px;\n            border: 0 !important;\n            font-size: 16pt;\n            text-align: left;\n            background-color: transparent;\n            color: #595a5a;\n            height: 23px;\n            line-height: 23px;\n        }\n        .view_icon{\n            width: 28px;\n            height: 25px;\n            background-size: contain;\n            float: left;\n            background-repeat: no-repeat;\n            background-position: center;\n            margin-right: 12px;\n            margin-top: 2px;\n            margin-left: 17px;\n        }\n\n        .edit-block >hr, .view-block >hr{\n                margin: 5px -10px 5px 55px;\n        }\n\n        .arrow{\n            background-image: url(assets/arrow.png);\n            width: 18px;\n            height: 10px;\n            background-size: cover;\n            margin: 0 10px;\n            background-position: center;\n            flex: 0 0 18px;\n            position: absolute;\n            top: 5px;\n            right: -10px;\n        }\n\n        .show_value{\n            flex: 0 0 190px;\n            margin-right: 30px;\n            position: relative;\n            text-align: right;\n            height: 30px;\n            display: flex;\n            flex-direction: column;\n        }\n\n        .show_value > span:first-child{\n            height: 10px;\n            font-size: 8pt;\n        }\n        .show_value > span:last-child{\n            font-size: 10pt;\n            color: #959595;\n        }\n\n        .multiselect{\n            width: 270px;\n            position: relative;\n            display: block;\n            margin-right: 15px;\n            overflow: hidden;\n        }\n\n        .head{\n            width: 100%;\n            height: 73px;\n            display: block;\n            background-color: #f7f7f7;\n        }\n        .new-request .rate{\n            width: 370px;\n            min-height: 150px;\n            height: calc(100vh - 500px);\n            background: white;\n            overflow: scroll;\n        }\n\n        .new-request .rate >div:first-child{\n            height: 40px;\n            background: #f7f7f7;\n            line-height: 40px;\n            padding-left: 15px;\n            text-transform: uppercase;\n            font-size: 10pt;\n            color: #5f5d5d;\n            margin-top: 20px;\n            margin-bottom: 20px;\n        }\n\n        .new-request .rate_line{\n            width: 350px;\n            margin-left: 15px;\n            height: 20px;\n            margin-top: 0px;\n            display: flex;\n        }\n\n        .new-request .rate_line>div:last-child{\n            line-height: 20px;\n            margin-left: 15px;\n            font-size: 9pt;\n            color: #5b5b5b;\n        }\n\n        .new-request .rate_line >div:first-child {\n            background-image: url(assets/star_rate.png);\n            background-size: 13px 13px;\n            width: 64px;\n            background-position: left center;\n            background-repeat: repeat-x;\n        }\n\n        .new-request .rate_line>div:first-child>div{\n            background-image: url(assets/star_active.png);\n            height: 20px;\n            background-size: 13px 13px;\n            background-position: left center;\n            background-repeat: repeat-x;\n        }\n    "],
        template: "\n\n        <div class=\"tab-button fixed-button\" (click)=\"toggleLeftPane()\">\n            <span [ngClass]=\"{'icon-arrow-right': paneHidden, 'icon-arrow-left': !paneHidden}\"></span>\n        </div>\n\n        <div class=\"new-request\" [hidden]=\"!newRequest\">\n            <div class=\"header\">\n                <div class=\"header-label\">{{ tab.header }}</div>\n                <div class=\"search-form\" [class.table-mode]=\"tableMode\">\n                    <div class=\"search-box with-button\">\n                        <input type=\"text\" class=\"\" placeholder=\"\" [(ngModel)]=\"request.request\" (keydown)=\"offer_search_keydown($event)\"\n                            style=\"height: 28px; background-color: rgb(247, 247, 247); border: 1px solid rgba(204, 204, 204, 0.47);\"\n                        >\n                        <span class=\"icon-search\" style=\"position: absolute; right: 190px;\"></span>\n                        <a (click)=\"toggleDraw()\"><span>\u041E\u0431\u0432\u0435\u0441\u0442\u0438</span></a>\n                        <div class=\"search-button\" (click)=\"createRequest()\">\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C</div>\n                    </div>\n                    <div class=\"tool-box\">\n                        <div class=\"pull-left\">\n                            <div class=\"inline-select\">\n                                <ui-select class=\"view-value edit-value\"\n                                    [options] = \"offerTypeCodeOptions\"\n                                    [value]=\"request.offerTypeCode\"\n                                    [config]=\"{icon: 'icon-', draw_arrow: true}\"\n                                    (onChange)=\"request.offerTypeCode = $event.selected.value; offer_search();\"\n                                    >\n                                </ui-select>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n\n            <!-- \u0441\u0438\u043B\u044C\u043D\u043E\u0435 \u043A\u043E\u043B\u0434\u0443\u043D\u0441\u0442\u0432\u043E, \u0441\u0432-\u0432\u043E right \u043F\u043E\u043B\u0443\u0447\u0430\u0435\u043C \u0438\u0437 HubService -->\n            <!-- TODO: \u0441\u0434\u0435\u043B\u0430\u0442\u044C \u044D\u0442\u043E \u043E\u0442\u0434\u0435\u043B\u044C\u043D\u044B\u043C \u043A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442\u043E\u043C -->\n            <div  style=\"position: absolute; top: 114px; z-index: 1; \" [style.right]=\"_hubService.shared_var['nb_width']\">\n                <div style=\"width: 370px; background-color: #fff; height: 500px; overflow: hidden;\">\n                    <div class=\"head\">\n                        <input type=\"text\" style=\"width: 319px; margin-left: 10px; border: none; margin-top: 10px;\"\n                            (keydown)=\"offer_search_keydown($event)\"\n                        >\n                        <span class=\"icon-search\" style=\"margin-left: 10px; cursor: pointer;\"\n                            (click)=\"offer_search()\"\n                        ></span>\n                        <div style=\"margin-top: 8px; margin-right: 35px; margin-left: auto; width: 126px; display: flex; align-items: center;\">\n                            <span style=\"margin-top: 0;margin-right: 5px;color: rgb(80, 80, 80);font-size: 10pt;\">\u041E\u0431\u0449\u0430\u044F \u0431\u0430\u0437\u0430</span>\n                            <ui-switch-button (newValue)=\"toggleSource($event)\" [value]=\"source > 1 ? true : false\"> </ui-switch-button>\n                        </div>\n\n                    </div>\n                    <div class=\"\" style=\"width: 100%; overflow-y: scroll; height: 427px;\">\n                        <digest-offer *ngFor=\"let offer of offers\"\n                            [offer]=\"offer\"\n                            [compact]=\"true\"\n                            (dblclick)=\"openOffer(offer)\"\n                        >\n                        </digest-offer>\n                    </div>\n                </div>\n                <div class=\"rate\">\n                    <div>\u0420\u0435\u0439\u0442\u0438\u043D\u0433 \u043B\u043E\u043A\u0430\u0446\u0438\u0438</div>\n                    <div class=\"rate_line\" *ngFor=\"let rat of rate; let i = index\">\n                        <div on-mousemove ='inRate($event, i)' on-mouseout='outRate($event, i)' on-click='estimate($event,i)'>\n                            <div [ngStyle]=\"{'width': rat.persent+'%'}\"></div>\n                        </div>\n                        <div>{{rat.text}}</div>\n                    </div>\n                </div>\n            </div>\n            <google-map\n                [latitude]=\"lat\"\n                [longitude]=\"lon\"\n                [zoom]=\"zoom\"\n                [objects]=\"offers\"\n                [draw_allowed]=\"mapDrawAllowed\"\n                (drawFinished)=\"drawFinished($event)\"\n            >\n            </google-map>\n        </div>\n\n\n        <!------------------>\n\n        <div class=\"request\" (window:resize)=\"onResize($event)\" [hidden]=\"newRequest\">\n\n            <!-- \u041B\u0415\u0412\u0410\u042F \u0421\u0422\u0412\u041E\u0420\u041A\u0410: \u041D\u0410\u0427\u0410\u041B\u041E -->\n\n            <div class=\"pane\" [hidden]=\"paneHidden\" [style.width.px]=\"paneWidth\">\n                <div class=\"header\">\n                    <div class=\"header-label\">{{ tab.header }}</div>\n                </div>\n\n                <div style=\"overflow: scroll; overflow-x: hidden; height: calc(100% - 111px);\n                        border-right: 1px solid #cccccc;\">\n                    <div class = \"person_face\">\n                        <img src=\"/assets/offer_icon/district.png\">\n                        <div class=\"view-group\" style=\"flex-wrap: wrap;margin-top: -1px;\">\n                            <div class=\"view-value name\" style=\"text-transform: uppercase;\"> {{ '\u0417\u0430\u044F\u0432\u043A\u0430'}}</div>\n                            <div class=\"view-value name\" style=\"font-size: 14pt; margin-top: 3px;\"> </div>\n                        </div>\n                        <div class=\"rate\"></div>\n                    </div>\n                    <div class=\"pull-container\" style=\"margin: 20px 10px 0px;\">\n                        <div class=\"pull-right\" [hidden]=\"editEnabled\" (click)=\"toggleEdit()\"><a href=\"#\" >\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C</a></div>\n                        <div class=\"pull-right\" [hidden]=\"!editEnabled\" (click)=\"save()\"><a href=\"#\" >\u0413\u043E\u0442\u043E\u0432\u043E</a></div>\n                    </div>\n\n                    <div class=\"request-prop\">\n                        <!-- \u0420\u0415\u0416\u0418\u041C \u0420\u0415\u0414\u0410\u041A\u0422\u0418\u0420\u041E\u0412\u0410\u041D\u0418\u042F: \u041D\u0410\u0427\u0410\u041B\u041E -->\n\n                        <div class=\"edit-block\" [hidden]=\"!editEnabled\" style=\"margin: 10px 10px 10px 0px;\">\n                            <div class=\"header_col\">\u041A\u043E\u043D\u0442\u0430\u043A\u0442\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/date_start.png)'\"></div>\n                            <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                                <ui-input-line [placeholder] = \"'\u0414\u0430\u0442\u0430 \u0437\u0430\u044F\u0432\u043A\u0438:'\" [value] = \"request.changeDate | formatDate\"\n                                    [width] = \"'225px'\" (onChange)= \"request.changeDate = $event\">\n                                </ui-input-line>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/phone.png)'\"></div>\n                            <div class=\"view-group\" style='position: relative; display: block;'>\n                                <ui-input-line [placeholder] = \"'\u0422\u0435\u043B\u0435\u0444\u043E\u043D:'\" [value] = \"person.name\"\n                                    [width] = \"'225px'\" (onChange)= \"person = $event\" [queryTipe]=\"'person'\">\n                                </ui-input-line>\n                            </div>\n                            <div class=\"header_col\">\u0421\u043E\u043F\u0440\u043E\u0432\u043E\u0434\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/user.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u041E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439</span>\n                                <ui-slidingMenu class=\"view-value edit-value\"\n                                    [options] = \"agentOpts\"\n                                    [value]=\"agent?.id\"\n                                    (onChange)=\"agentChanged($event)\"\n                                >\n                                </ui-slidingMenu>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/status.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0421\u0442\u0430\u0434\u0438\u044F:</span>\n                                <ui-slidingMenu class=\"view-value edit-value\"\n                                    [options] = \"[\n                                        {value: 'NO', label: '-'},\n                                        {value: 'ACTIVE', label: '\u0410\u043A\u0442\u0438\u0432\u043D\u043E'},\n                                        {value: 'NOT_ACTIVE', label: '\u041D\u0435 \u0430\u043A\u0442\u0438\u0432\u043D\u043E'},\n                                        {value: 'ARCHIVE', label: '\u0410\u0440\u0445\u0438\u0432'}\n                                    ]\"\n                                    [value]=\"request.stateCode\"\n                                    (onChange)=\"request.stateCode = $event.selected.value\">\n                                </ui-slidingMenu>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/person_icon/source.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0418\u0441\u0442\u043E\u0447\u043D\u0438\u043A:</span>\n                                <ui-slidingMenu class=\"view-value edit-value\"\n                                    [options] = \"[\n                                        {value: 'CALL', label: '\u0412\u0445\u043E\u0434\u044F\u0449\u0438\u0439 \u0437\u0432\u043E\u043D\u043E\u043A'},\n                                        {value: 'INTERNET', label: '\u0418\u043D\u0442\u0435\u0440\u043D\u0435\u0442'},\n                                        {value: 'PRINT', label: '\u041F\u0435\u0447\u0430\u0442\u043D\u043E\u0435 \u0438\u0437\u0434\u0430\u043D\u0438\u0435'},\n                                        {value: 'PARTHER', label: '\u0420\u0430\u0441\u0441\u044B\u043B\u043A\u0430'},\n                                        {value: 'CL_RECOMMEND', label: '\u0420\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0430\u0446\u0438\u044F \u043A\u043B\u0438\u0435\u043D\u0442\u0430'},\n                                        {value: 'PAR_RECOMMEND', label: '\u0420\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0430\u0446\u0438\u044F \u043F\u0430\u0440\u0442\u043D\u0435\u0440\u0430'},\n                                        {value: 'SOCIAL', label: '\u0421\u043E\u0446. \u0441\u0435\u0442\u0438'},\n                                        {value: 'OTHER', label: '\u0423\u0441\u043F\u0435\u0448\u043D\u044B\u0439 \u043E\u043F\u044B\u0442 \u0441\u043E\u0442\u0440\u0443\u0434\u043D\u0438\u0447\u0435\u0441\u0442\u0432\u0430'}\n                                    ]\"\n                                    [value]=\"request.stageCode\"\n                                    (onChange)=\"request.stageCode = $event.selected.value\">\n                                </ui-slidingMenu>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/offer.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0422\u0438\u043F:</span>\n                                <ui-slidingMenu class=\"view-value edit-value\"\n                                    [options] = \"[\n                                        {value: 'sale', label: '\u041F\u0440\u043E\u0434\u0430\u0436\u0430'},\n                                        {value: 'rent', label: '\u0410\u0440\u0435\u043D\u0434\u0430'}\n                                    ]\"\n                                    [value]=\"request.offerTypeCode\"\n                                    (onChange)=\"request.offerTypeCode = $event.selected.value\">\n                                </ui-slidingMenu>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/date_start.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0417\u0430\u044F\u0432\u043A\u0430:</span>\n                                <input type=\"text\" class=\"view-value edit-value\" readonly [(ngModel)]=\"request.request\">\n                            </div>\n\n                            <div class=\"header_col\">\u0422\u044D\u0433\u0438</div>\n                            <div style=\"margin: 0 0 20px 20px;\">\n                                <ui-tag-block\n                                    [value] = \"person.tag\"\n                                    (valueChange) = \"person.tag = $event.value\"\n                                ></ui-tag-block>\n                            </div>\n\n                            <div class=\"header_col\">\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                            <div class=\"view-group\" style=\"flex-wrap: wrap; height: 50px; margin-left: 20px;\">\n                                <textarea class=\"view-value text-value\"\n                                placeholder=\"\" [(ngModel)]=\"request.info\"\n                                style=\"text-align: left;\"></textarea>\n                            </div>\n                        </div>\n\n                        <!-- \u0420\u0415\u0416\u0418\u041C \u0420\u0415\u0414\u0410\u041A\u0422\u0418\u0420\u041E\u0412\u0410\u041D\u0418\u042F: \u041A\u041E\u041D\u0415\u0426 -->\n                        <!-- \u0420\u0415\u0416\u0418\u041C \u041E\u0422\u041E\u0411\u0420\u0410\u0416\u0415\u041D\u0418\u042F: \u041D\u0410\u0427\u0410\u041B\u041E -->\n\n                        <div class=\"view-block\" [hidden]=\"editEnabled\" style=\"margin: 10px 10px 10px 0px;\">\n                            <div class=\"header_col\">\u041A\u043E\u043D\u0442\u0430\u043A\u0442\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/date_start.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0414\u0430\u0442\u0430 \u0437\u0430\u044F\u0432\u043A\u0438:</span>\n                                <span class=\"view-value\"> {{ request.changeDate | formatDate }} </span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/person_icon/category.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u0422\u0438\u043F:</span>\n                                <ui-view-value\n                                    [options] = \"[\n                                        {value: 'NOT', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'},\n                                        {value: 'client', label: '\u041A\u043B\u0438\u0435\u043D\u0442'},\n                                        {value: 'realtor', label: '\u041A\u043E\u043D\u043A\u0443\u0440\u0435\u043D\u0442'},\n                                        {value: 'company', label: '\u041D\u0430\u0448\u0430 \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u044F'},\n                                        {value: 'partner', label: '\u041F\u0430\u0440\u0442\u043D\u0435\u0440'}\n                                    ]\"\n                                    [value]=\"person?.typeCode\"\n                                >\n                                </ui-view-value>\n                            </div>\n                            <hr>\n                            <div *ngIf='person'>\n                                <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/user.png)'\"></div>\n                                <div class=\"view-group\">\n                                    <span class=\"view-label\">\u0424\u0418\u041E:</span>\n                                    <span class=\"view-value\" [class.link] = \"person?.id\" (click)=\"openPerson()\">{{person?.name  || '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u043E'}}</span>\n                                </div>\n                            </div>\n                            <hr  *ngIf='person'>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/phone.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0422\u0435\u043B\u0435\u0444\u043E\u043D:</span>\n                                <span class=\"view-value\">{{person.phoneBlock?.main || person.phoneBlock?.cellphone || person.phoneBlock?.office}}</span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/email.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">E-mail:</span>\n                                <span class=\"view-value\">{{person.emailBlock?.main || person.emailBlock?.work }}</span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/website.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">Web-\u0441\u0430\u0439\u0442:</span>\n                                <span class=\"view-value\">\n                                    <span *ngIf=\"!person?.webSite\" class=\"view-value\">\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D</span>\n                                    <a *ngIf=\"person?.webSite\" [href]=\"'http://'+person.webSite\" target=\"_blank\">{{person?.webSite}}</a>\n                                </span>\n                            </div>\n                            <hr *ngIf=\"person?.organisation\">\n                            <div  *ngIf=\"person?.organisation\" class='view_icon' [style.background-image]=\"'url(assets/user_icon/office.png)'\"></div>\n                            <div  *ngIf=\"person?.organisation\" class=\"view-group\" >\n                                <span class=\"view-label\">\u041E\u0440\u0433\u0430\u043D\u0438\u0437\u0430\u0446\u0438\u044F:</span>\n                                <span class=\"view-value\" [class.link] = \"person?.organisation?.id\" (click)=\"openOrganisation()\">\n                                    {{person?.organisation.type}}{{ person?.organisation.name ? (' \"' +person?.organisation.name+ '\"') : '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u043E'}}\n                                </span>\n                            </div>\n\n                            <div class=\"header_col\">\u0421\u043E\u043F\u0440\u043E\u0432\u043E\u0434\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/post.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u041E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439:</span>\n                                <span class=\"view-value\" [class.link] = \" agent?.id\" (click)=\"openUser()\">{{ agent?.name || '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'}}</span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/person_icon/contract.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u0414\u043E\u0433\u043E\u0432\u043E\u0440:</span>\n                                <span class=\"view-value\">{{person.contract}}</span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/status.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0421\u0442\u0430\u0434\u0438\u044F:</span>\n                                <ui-view-value\n                                    [options] = \"[\n                                        {value: 'NO', label: '-'},\n                                        {value: 'ACTIVE', label: '\u0410\u043A\u0442\u0438\u0432\u043D\u043E'},\n                                        {value: 'NOT_ACTIVE', label: '\u041D\u0435 \u0430\u043A\u0442\u0438\u0432\u043D\u043E'},\n                                        {value: 'ARCHIVE', label: '\u0410\u0440\u0445\u0438\u0432'}\n                                    ]\"\n                                    [value]=\"request.stateCode\"\n                                >\n                                </ui-view-value>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/person_icon/source.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0418\u0441\u0442\u043E\u0447\u043D\u0438\u043A:</span>\n                                <ui-view-value\n                                    [options] = \"[\n                                        {value: 'CALL', label: '\u0412\u0445\u043E\u0434\u044F\u0449\u0438\u0439 \u0437\u0432\u043E\u043D\u043E\u043A'},\n                                        {value: 'INTERNET', label: '\u0418\u043D\u0442\u0435\u0440\u043D\u0435\u0442'},\n                                        {value: 'PRINT', label: '\u041F\u0435\u0447\u0430\u0442\u043D\u043E\u0435 \u0438\u0437\u0434\u0430\u043D\u0438\u0435'},\n                                        {value: 'PARTHER', label: '\u0420\u0430\u0441\u0441\u044B\u043B\u043A\u0430'},\n                                        {value: 'CL_RECOMMEND', label: '\u0420\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0430\u0446\u0438\u044F \u043A\u043B\u0438\u0435\u043D\u0442\u0430'},\n                                        {value: 'PAR_RECOMMEND', label: '\u0420\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0430\u0446\u0438\u044F \u043F\u0430\u0440\u0442\u043D\u0435\u0440\u0430'},\n                                        {value: 'SOCIAL', label: '\u0421\u043E\u0446. \u0441\u0435\u0442\u0438'},\n                                        {value: 'OTHER', label: '\u0423\u0441\u043F\u0435\u0448\u043D\u044B\u0439 \u043E\u043F\u044B\u0442 \u0441\u043E\u0442\u0440\u0443\u0434\u043D\u0438\u0447\u0435\u0441\u0442\u0432\u0430'}\n                                    ]\"\n                                    [value]=\"request.stageCode\"\n                                >\n                                </ui-view-value>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/offer_icon/offer.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0422\u0438\u043F:</span>\n                                <ui-view-value\n                                    [options] = \"[\n                                        {value: 'sale', label: '\u041F\u0440\u043E\u0434\u0430\u0436\u0430'},\n                                        {value: 'rent', label: '\u0410\u0440\u0435\u043D\u0434\u0430'}\n                                    ]\"\n                                    [value]=\"request.offerTypeCode\"\n                                >\n                                </ui-view-value>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/date_end.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u0417\u0430\u044F\u0432\u043A\u0430:</span>\n                                <span class=\"view-value\"> {{ request.request }}</span>\n                            </div>\n\n                            <div class=\"header_col\">\u0422\u044D\u0433\u0438</div>\n                            <div style=\"margin: 0 0 20px 20px;\">\n                                <ui-tag-block\n                                    [value] = \"person.tag\"\n                                    (valueChange) = \"person.tag = $event.value\"\n                                ></ui-tag-block>\n                            </div>\n\n                            <div class=\"header_col\">\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                            <div class=\"view-group\">\n                                <span class=\"view-value\" style=\"height: initial;\"> {{ request.info }} </span>\n                            </div>\n                        </div>\n\n                    <!-- \u0420\u0415\u0416\u0418\u041C \u041E\u0422\u041E\u0411\u0420\u0410\u0416\u0415\u041D\u0418\u042F: \u041A\u041E\u041D\u0415\u0426 -->\n\n                    </div>\n                </div>\n            </div>\n\n            <!-- \u041B\u0435\u0432\u0430\u044F \u0421\u0422\u0412\u041E\u0420\u041A\u0410: \u041A\u041E\u041D\u0415\u0426 -->\n            <!-- \u0420\u0410\u0411\u041E\u0427\u0410\u042F \u041E\u0411\u041B\u0410\u0421\u0422\u042C: \u041D\u0410\u0427\u0410\u041B\u041E -->\n\n            <div class=\"work-area\" [style.width.px]=\"mapWidth\">\n                <ui-tabs\n                    [headerMode]=\"!paneHidden\"\n                    [iconUrls]=\"['assets/main_offers.png', 'assets/analitic.png', 'assets/history.png']\"\n                >\n                    <ui-tab\n                        [title]=\"'\u0413\u043B\u0430\u0432\u043D\u0430\u044F'\"\n                        (tabSelect)=\"offersSelected()\"\n                    >\n                        <!-- \u0441\u0438\u043B\u044C\u043D\u043E\u0435 \u043A\u043E\u043B\u0434\u0443\u043D\u0441\u0442\u0432\u043E, \u0441\u0432-\u0432\u043E right \u043F\u043E\u043B\u0443\u0447\u0430\u0435\u043C \u0438\u0437 HubService -->\n                        <!-- TODO: \u0441\u0434\u0435\u043B\u0430\u0442\u044C \u044D\u0442\u043E \u043E\u0442\u0434\u0435\u043B\u044C\u043D\u044B\u043C \u043A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442\u043E\u043C -->\n                        <div  style=\"position: absolute; z-index: 1; border-left: 1px solid #ccc;\" [style.right]=\"_hubService.shared_var['nb_width']\">\n                            <div style=\"width: 370px; background-color: #fff;\">\n                                    <div class=\"head\">\n                                        <input type=\"text\" style=\"width: 319px; margin-left: 10px; border: none; margin-top: 10px;\"\n                                            (keydown)=\"offer_search_keydown($event)\"\n                                        >\n                                        <span class=\"icon-search\" style=\"margin-left: 10px; cursor: pointer;\"\n                                            (click)=\"offer_search()\"\n                                        ></span>\n                                        <div style=\"margin-top: 8px; margin-right: 35px; margin-left: auto; width: 126px; display: flex; align-items: center;\">\n                                            <span style=\"margin-top: 0;margin-right: 5px;color: rgb(80, 80, 80);font-size: 10pt;\">\u041E\u0431\u0449\u0430\u044F \u0431\u0430\u0437\u0430</span>\n                                            <ui-switch-button (newValue)=\"toggleSource($event)\" [value]=\"source > 1 ? true : false\"> </ui-switch-button>\n                                        </div>\n                                    </div>\n                                <div class=\"\" style=\"width: 100%; overflow-y: scroll;\" [style.height]=\"paneHeight\">\n                                    <digest-offer *ngFor=\"let offer of offers\"\n                                        [offer]=\"offer\"\n                                        [compact]=\"true\"\n                                    >\n                                    </digest-offer>\n                                </div>\n                            </div>\n                        </div>\n                        <google-map\n                            [latitude]=\"lat\"\n                            [longitude]=\"lon\"\n                            [zoom]=\"zoom\"\n                            [objects]=\"offers\"\n                            [polygone_points]=\"request?.searchArea\"\n                        >\n                        </google-map>\n                    </ui-tab>\n                    <ui-tab [title]=\"'\u0410\u043D\u0430\u043B\u0438\u0442\u0438\u043A\u0430'\"\n                        (tabSelect)=\"analysisSelected()\"\n                    >\n                        <div class=\"\" style=\"max-width: 910px; overflow-y: scroll;\" [style.height]=\"paneHeight\">\n                            <div style=\"padding: 15px;\">\n                                <div class=\"tile bg-gred fg-white\">\n                                    <div class=\"tile-content iconic\">\n                                        <span class=\"icon\">{{ ch1_data_v1 }}</span>\n                                    </div>\n                                    <span class=\"tile-label\">\u0412\u0441\u0435\u0433\u043E \u0437\u0430\u0434\u0430\u0447</span>\n                                </div>\n                                <div class=\"chart-block\">\n                                    <div class=\"chart-header bg-gred\">\n                                        <span style=\"margin-left: 25px;\">\u0410\u043A\u0442\u0438\u0432\u043D\u043E\u0441\u0442\u044C</span>\n                                    </div>\n                                    <div>\n                                        <ui-pie-chart\n                                            [title]=\"''\"\n                                            [data]=\"ch1_data\"\n                                        >\n                                        </ui-pie-chart>\n                                    </div>\n                                </div>\n                            </div>\n                            <div style=\"padding: 15px;\">\n                                <div style=\"float: left; display: flex; flex-direction: column;\">\n                                    <div class=\"tile bg-gorange fg-white\" style=\"margin-bottom: 5px;\">\n                                        <div class=\"tile-content iconic\">\n                                            <span class=\"icon\" style=\"font-size: 48px;\">{{ ch4_data_v1 }}</span>\n                                        </div>\n                                        <span class=\"tile-label\">\u0412\u0441\u0435\u0433\u043E \u043E\u0431\u044A\u044F\u0432\u043B\u0435\u043D\u0438\u0439</span>\n                                    </div>\n                                    <div class=\"tile bg-gorange fg-white\" >\n                                        <div class=\"tile-content iconic\">\n                                            <span class=\"icon\" style=\"font-size: 48px;\">{{ ch4_data_v2 }}</span>\n                                        </div>\n                                        <span class=\"tile-label\">\u041F\u043E\u0442\u0440\u0430\u0447\u0435\u043D\u043E \u0440\u0443\u0431.</span>\n                                    </div>\n                                </div>\n                                <div class=\"chart-block\">\n                                    <div class=\"chart-header bg-gorange\">\n                                        <span style=\"margin-left: 25px;\">\u0420\u0435\u043A\u043B\u0430\u043C\u0430</span>\n                                    </div>\n                                    <div>\n                                        <ui-bar-chart\n                                            [title]=\"''\"\n                                            [data]=\"ch4_data\"\n                                        >\n                                        </ui-bar-chart>\n                                    </div>\n                                </div>\n                            </div>\n                            <div style=\"padding: 15px;\">\n                                <div class=\"tile bg-gblue fg-white\">\n                                    <div class=\"tile-content iconic\">\n                                        <span class=\"icon\">{{ ch2_data_v1 }}</span>\n                                    </div>\n                                    <span class=\"tile-label\">\u0412\u0441\u0435\u0433\u043E \u0437\u0430\u044F\u0432\u043E\u043A</span>\n                                </div>\n                                <div class=\"chart-block\">\n                                    <div class=\"chart-header bg-gblue\">\n                                        <span style=\"margin-left: 25px;\">\u0417\u0430\u044F\u0432\u043A\u0438</span>\n                                    </div>\n                                    <div>\n                                        <ui-line-chart\n                                            [title]=\"''\"\n                                            [data]=\"ch2_data\"\n                                        >\n                                        </ui-line-chart>\n                                    </div>\n                                </div>\n                            </div>\n                            <div style=\"padding: 15px;\">\n                                <div style=\"float: left; display: flex; flex-direction: column;\">\n                                    <div class=\"tile bg-ggreen fg-white\" style=\"margin-bottom: 5px;\">\n                                        <div class=\"tile-content iconic\">\n                                            <span class=\"icon\">{{ ch3_data_v1 }}</span>\n                                        </div>\n                                        <span class=\"tile-label\">\u0423\u0441\u043F\u0435\u0448\u043D\u043E</span>\n                                    </div>\n                                    <div class=\"tile bg-ggreen fg-white\">\n                                        <div class=\"tile-content iconic\">\n                                            <span class=\"icon\">{{ ch3_data_v2 }}</span>\n                                        </div>\n                                        <span class=\"tile-label\">\u041D\u0435 \u0443\u0441\u043F\u0435\u0448\u043D\u043E</span>\n                                    </div>\n                                </div>\n                                <div class=\"chart-block\">\n                                    <div class=\"chart-header bg-ggreen\">\n                                        <span style=\"margin-left: 25px;\">\u041F\u043E\u043A\u0430\u0437\u044B</span>\n                                    </div>\n                                    <div>\n                                        <ui-line-chart\n                                            [title]=\"''\"\n                                            [data]=\"ch3_data\"\n                                        >\n                                        </ui-line-chart>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </ui-tab>\n                    <ui-tab\n                        [title]=\"'\u0418\u0441\u0442\u043E\u0440\u0438\u044F'\"\n                        (tabSelect)=\"historySelected()\"\n                    >\n                        <div class=\"\" style=\"max-width: 910px; overflow-y: scroll;\" [style.height]=\"paneHeight\">\n                            <digest-history *ngFor=\"let record of historyRecs\"\n                                [historyRecord]=\"record\"\n                            >\n                            </digest-history>\n                        </div>\n                    </ui-tab>\n                </ui-tabs>\n            </div>\n            <!-- \u0420\u0410\u0411\u041E\u0427\u0410\u042F \u041E\u0411\u041B\u0410\u0421\u0422\u042C: \u041A\u041E\u041D\u0415\u0426 -->\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_4__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__service_hub_service__["a" /* HubService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_5__service_config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__service_config_service__["a" /* ConfigService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_6__service_offer_service__["b" /* OfferService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__service_offer_service__["b" /* OfferService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_7__service_request_service__["a" /* RequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_7__service_request_service__["a" /* RequestService */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_8__service_task_service__["a" /* TaskService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_8__service_task_service__["a" /* TaskService */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_12__service_analysis_service__["a" /* AnalysisService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_12__service_analysis_service__["a" /* AnalysisService */]) === "function" && _f || Object, typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_9__service_history_service__["a" /* HistoryService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_9__service_history_service__["a" /* HistoryService */]) === "function" && _g || Object, typeof (_h = typeof __WEBPACK_IMPORTED_MODULE_10__service_person_service__["a" /* PersonService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_10__service_person_service__["a" /* PersonService */]) === "function" && _h || Object, typeof (_j = typeof __WEBPACK_IMPORTED_MODULE_11__service_user_service__["a" /* UserService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_11__service_user_service__["a" /* UserService */]) === "function" && _j || Object, typeof (_k = typeof __WEBPACK_IMPORTED_MODULE_13__service_session_service__["a" /* SessionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_13__service_session_service__["a" /* SessionService */]) === "function" && _k || Object])
], TabRequestComponent);

var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;
//# sourceMappingURL=tab-request.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/tab/tab-root.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TabRootComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var TabRootComponent = (function () {
    function TabRootComponent() {
    }
    return TabRootComponent;
}());
TabRootComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'tab-root',
        inputs: ['tab'],
        template: "\n    <div [ngSwitch]=\"tab.type\">\n        <tab-main [tab]=\"tab\" *ngSwitchCase=\"'main'\"></tab-main>\n        <tab-list-offer [tab]=\"tab\" *ngSwitchCase=\"'list_offer'\"></tab-list-offer>\n        <tab-offer [tab]=\"tab\" *ngSwitchCase=\"'offer'\"></tab-offer>\n        <tab-list-person [tab]=\"tab\" *ngSwitchCase=\"'list_person'\"></tab-list-person>\n        <tab-person [tab]=\"tab\" *ngSwitchCase=\"'person'\"></tab-person>\n        <tab-list-organisation [tab]=\"tab\" *ngSwitchCase=\"'list_organisation'\"></tab-list-organisation>\n        <tab-organisation [tab]=\"tab\" *ngSwitchCase=\"'organisation'\"></tab-organisation>\n        <tab-list-request [tab]=\"tab\" *ngSwitchCase=\"'list_request'\"></tab-list-request>\n        <tab-request [tab]=\"tab\" *ngSwitchCase=\"'request'\"></tab-request>\n        <tab-advertising [tab]=\"tab\" *ngSwitchCase=\"'advertising'\"></tab-advertising>\n        <tab-list-user [tab]=\"tab\" *ngSwitchCase=\"'list_users'\"></tab-list-user>\n        <tab-user [tab]=\"tab\" *ngSwitchCase=\"'user'\"></tab-user>\n        <tab-list-activity [tab]=\"tab\" *ngSwitchCase=\"'list_activity'\"></tab-list-activity>\n        <tab-activity [tab]=\"tab\" *ngSwitchCase=\"'activity'\"></tab-activity>\n        <tab-daily [tab]=\"tab\" *ngSwitchCase=\"'daily'\"></tab-daily>\n        <div *ngSwitchDefault>tab.type == {{ tab.type }}</div>\n    </div>\n    "
    })
], TabRootComponent);

//# sourceMappingURL=tab-root.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/tab/tab-user.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__entity_user__ = __webpack_require__("../../../../../src/app/entity/user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__entity_offer__ = __webpack_require__("../../../../../src/app/entity/offer.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_user_service__ = __webpack_require__("../../../../../src/app/service/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__service_offer_service__ = __webpack_require__("../../../../../src/app/service/offer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_request_service__ = __webpack_require__("../../../../../src/app/service/request.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__service_task_service__ = __webpack_require__("../../../../../src/app/service/task.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__service_history_service__ = __webpack_require__("../../../../../src/app/service/history.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__service_person_service__ = __webpack_require__("../../../../../src/app/service/person.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__service_organisation_service__ = __webpack_require__("../../../../../src/app/service/organisation.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__service_analysis_service__ = __webpack_require__("../../../../../src/app/service/analysis.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__service_session_service__ = __webpack_require__("../../../../../src/app/service/session.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TabUserComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};














var TabUserComponent = (function () {
    function TabUserComponent(_hubService, _userService, _configService, _offerService, _requestService, _taskService, _analysisService, _historyService, _personService, _organisationService, _sessionService) {
        var _this = this;
        this._hubService = _hubService;
        this._userService = _userService;
        this._configService = _configService;
        this._offerService = _offerService;
        this._requestService = _requestService;
        this._taskService = _taskService;
        this._analysisService = _analysisService;
        this._historyService = _historyService;
        this._personService = _personService;
        this._organisationService = _organisationService;
        this._sessionService = _sessionService;
        this.getDateUser = __WEBPACK_IMPORTED_MODULE_1__entity_user__["a" /* User */].getData;
        this.superior = new __WEBPACK_IMPORTED_MODULE_1__entity_user__["a" /* User */]();
        this.superiorOpts = [];
        this.userPhone = [];
        this.userEmail = [];
        this.userAddress = [];
        this.addressStr = '';
        this.agentOpts = [];
        this.paneHidden = false;
        this.editEnabled = false;
        this.requestOfferType = 'sale';
        this.ch1_data = [];
        this.ch2_data = [];
        this.ch3_data = [];
        this.ch4_data = [];
        _userService.list(null, null, "").subscribe(function (agents) {
            for (var i = 0; i < agents.length; i++) {
                var a = agents[i];
                _this.agentOpts.push({
                    value: a.id,
                    label: a.name
                });
            }
        });
    }
    TabUserComponent.prototype.getRole = function (val) {
        switch (val) {
            case 'AGENT': return null;
            case 'MANAGER': return 'Менеджер';
            case 'TOP': return 'Директор';
        }
    };
    TabUserComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.user = this.tab.args.user;
        var c = this._configService.getConfig();
        var loc = this._sessionService.getAccount().location;
        if (c.map[loc]) {
            this.lat = c.map[loc].lat;
            this.lon = c.map[loc].lon;
            this.zoom = c.map[loc].zoom;
        }
        else {
            this.lat = c.map['default'].lat;
            this.lon = c.map['default'].lon;
            this.zoom = c.map['default'].zoom;
        }
        if (this.user.id == null) {
            this.editEnabled = true;
        }
        this.updateArrays();
        this._userService.list(null, null, "").subscribe(function (managers) {
            for (var _i = 0, managers_1 = managers; _i < managers_1.length; _i++) {
                var m = managers_1[_i];
                _this.superiorOpts.push({
                    value: m.id,
                    label: m.name
                });
            }
        });
        if (this.user.superiorId != null) {
            this._userService.get(this.user.superiorId).subscribe(function (superior) {
                _this.superior = superior;
            });
        }
        this.calcSize();
    };
    TabUserComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        setTimeout(function () {
            if (_this.user.id) {
                _this.tab.header = 'Пользователь ';
            }
            else {
                _this.tab.header = 'Новый пользователь';
            }
        });
    };
    TabUserComponent.prototype.onResize = function (e) {
        this.calcSize();
    };
    TabUserComponent.prototype.calcSize = function () {
        if (this.paneHidden) {
            this.paneWidth = 0;
        }
        else {
            this.paneWidth = 370;
        }
        this.mapWidth = document.body.clientWidth - (31) - this.paneWidth;
        this.paneHeight = document.body.clientHeight - 31;
    };
    TabUserComponent.prototype.toggleLeftPane = function () {
        this.paneHidden = !this.paneHidden;
        this.calcSize();
    };
    TabUserComponent.prototype.toggleEdit = function () {
        this.editEnabled = !this.editEnabled;
    };
    TabUserComponent.prototype.superiorChanged = function (e) {
        var _this = this;
        this.user.superiorId = e.selected.value;
        if (this.user.superiorId != null) {
            this._userService.get(this.user.superiorId).subscribe(function (superior) {
                _this.superior = superior;
            });
        }
    };
    TabUserComponent.prototype.save = function () {
        var _this = this;
        var tem = this.getIndex(this.userPhone, "MOBILE");
        this.user.phoneBlock.cellphone = tem > -1 ? this.userPhone[tem].value : null;
        tem = this.getIndex(this.userPhone, "HOME");
        this.user.phoneBlock.home = tem > -1 ? this.userPhone[tem].value : null;
        tem = this.getIndex(this.userPhone, "WORK");
        this.user.phoneBlock.office = tem > -1 ? this.userPhone[tem].value : null;
        tem = this.getIndex(this.userPhone, "MAIN");
        this.user.phoneBlock.main = tem > -1 ? this.userPhone[tem].value : null;
        tem = this.getIndex(this.userPhone, "SAME");
        this.user.phoneBlock.other = tem > -1 ? this.userPhone[tem].value : null;
        tem = this.getIndex(this.userPhone, "FAX");
        this.user.phoneBlock.fax = tem > -1 ? this.userPhone[tem].value : null;
        tem = this.getIndex(this.userAddress, "KRAY");
        this.user.fullAddress.region = tem > -1 ? this.userAddress[tem].value : undefined;
        tem = this.getIndex(this.userAddress, "CITY");
        this.user.fullAddress.city = tem > -1 ? this.userAddress[tem].value : undefined;
        tem = this.getIndex(this.userAddress, "DISTRICT");
        this.user.fullAddress.admArea = tem > -1 ? this.userAddress[tem].value : undefined;
        tem = this.getIndex(this.userAddress, "STREET");
        this.user.fullAddress.street = tem > -1 ? this.userAddress[tem].value : undefined;
        tem = this.getIndex(this.userAddress, "HOUSE");
        this.user.fullAddress.house = tem > -1 ? this.userAddress[tem].value : undefined;
        tem = this.getIndex(this.userAddress, "HOUSING");
        this.user.fullAddress.housing = tem > -1 ? this.userAddress[tem].value : undefined;
        tem = this.getIndex(this.userAddress, "FLAT");
        this.user.fullAddress.apartment = tem > -1 ? this.userAddress[tem].value : undefined;
        tem = this.getIndex(this.userEmail, "MAIN");
        this.user.emailBlock.main = tem > -1 ? this.userEmail[tem].value : null;
        tem = this.getIndex(this.userEmail, "WORK");
        this.user.emailBlock.work = tem > -1 ? this.userEmail[tem].value : null;
        this._userService.save(this.user).subscribe(function (user) {
            setTimeout(function () {
                _this.user = user;
            });
            _this.toggleEdit();
        });
        setTimeout(function () {
            _this.updateArrays();
        }, 1000);
    };
    TabUserComponent.prototype.offersSelected = function () {
        this.getOffers(1, 16);
    };
    TabUserComponent.prototype.requestsSelected = function () {
        this.getRequests(0, 32);
    };
    TabUserComponent.prototype.analysisSelected = function () {
        var a_data = this._analysisService.getObjAnalysis();
        this.ch1_data = a_data.ch1_data;
        this.ch1_data_v1 = a_data.ch1_data_v1;
        this.ch2_data = a_data.ch2_data;
        this.ch2_data_v1 = a_data.ch2_data_v1;
        this.ch3_data = a_data.ch3_data;
        this.ch3_data_v1 = a_data.ch3_data_v1;
        this.ch3_data_v2 = a_data.ch3_data_v2;
        this.ch4_data = [
            ['media', 'подано'],
            ['avito', 7],
            ['из рук в руки', 4],
            ['презент', 6],
            ['фарпост', 8],
            ['ВНХ', 6],
        ];
        this.ch4_data_v1 = 31;
        this.ch4_data_v2 = 5000;
    };
    TabUserComponent.prototype.historySelected = function () {
        this.historyRecs = this._historyService.getObjHistory();
    };
    TabUserComponent.prototype.getOffers = function (page, perPage) {
        var _this = this;
        this._offerService.list(0, 32, __WEBPACK_IMPORTED_MODULE_6__service_offer_service__["a" /* OfferSource */].LOCAL, { agentId: this.user.id, offerTypeCode: this.requestOfferType }, null, "", []).subscribe(function (offers) {
            _this.offers = offers.list;
        });
    };
    TabUserComponent.prototype.getRequests = function (page, perPage) {
        var _this = this;
        this._requestService.list(0, 32, this.requestOfferType, "all", this.user.id, null, "").subscribe(function (requests) {
            _this.requests = requests;
        });
    };
    TabUserComponent.prototype.offerSearchKeydown = function (e) {
        if (e.keyCode == 13) {
            this.getOffers(0, 16);
        }
    };
    TabUserComponent.prototype.markerClick = function (r) {
        //r.selected = !r.selected;
        // scroll to object ???
    };
    TabUserComponent.prototype.toggleOffer = function (offer_type) {
        this.requestOfferType = offer_type;
        this.getOffers(0, 16);
        this.getRequests(0, 32);
    };
    TabUserComponent.prototype.getOfferDigest = function (r) {
        return __WEBPACK_IMPORTED_MODULE_2__entity_offer__["a" /* Offer */].getDigest(r);
    };
    TabUserComponent.prototype.showMenu = function (event) {
        var parent = event.currentTarget.parentElement;
        var height = parent.getElementsByTagName('input').length * 35;
        if (parent.offsetHeight == 30) {
            parent.style.setProperty('height', "" + (height + 60) + 'px');
            parent.style.setProperty('overflow', "visible");
            event.currentTarget.style.setProperty('transform', 'rotate(180deg)');
        }
        else {
            parent.style.setProperty('height', "30px");
            parent.style.setProperty('overflow', "hidden");
            event.currentTarget.style.setProperty('transform', 'rotate(0deg)');
        }
    };
    TabUserComponent.prototype.agentChanged = function (e) {
        var _this = this;
        this.user.superiorId = e.selected.value;
        this._userService.get(this.user.superiorId).subscribe(function (agent) {
            _this.superior = agent;
        });
    };
    TabUserComponent.prototype.parseArray = function (values, obj, isAddress) {
        for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {
            var val = values_1[_i];
            var no = true;
            for (var _a = 0, obj_1 = obj; _a < obj_1.length; _a++) {
                var en = obj_1[_a];
                if (val.type == en.type) {
                    en.value = val.value;
                    no = false;
                }
            }
            if (no && val.value)
                obj.push(val);
        }
        for (var i = 0; i < obj.length; ++i) {
            if (obj[i].value === undefined || obj[i].value === null) {
                obj.splice(i, 1);
                i--;
            }
        }
        if (isAddress) {
            this.getAddressStr();
        }
    };
    TabUserComponent.prototype.getIndex = function (array, str) {
        for (var i = 0; i < array.length; ++i) {
            if (array[i].type == str)
                if (array[i].value && array[i].value.trim() != '')
                    return i;
                else
                    return -1;
        }
        return -1;
    };
    TabUserComponent.prototype.setDate = function (value, place) {
        value = value.replace('/', '.');
        if (value.split('.').length == 3 && value.split('.')[2]) {
            if (value.split('.')[2].length > 3) {
                if (place)
                    this.user.recruitmentDate = Math.round(new Date(value.split('.')[2], value.split('.')[1] - 1, value.split('.')[0]).getTime());
                else
                    this.user.dismissalDate = Math.round(new Date(value.split('.')[2], value.split('.')[1] - 1, value.split('.')[0]).getTime());
            }
        }
    };
    TabUserComponent.prototype.getAddressStr = function () {
        this.addressStr = this.user.fullAddress.city !== undefined ? "" + this.user.fullAddress.city : '';
        this.addressStr += this.user.fullAddress.street !== undefined ? ", " + this.user.fullAddress.street : '';
        this.addressStr += this.user.fullAddress.house !== undefined ? ", " + this.user.fullAddress.house : '';
        if (this.userAddress.length == 0)
            this.addressStr = '';
    };
    TabUserComponent.prototype.updateArrays = function () {
        this.userPhone = [
            { type: 'MOBILE', value: this.user.phoneBlock.cellphone },
            { type: 'HOME', value: this.user.phoneBlock.home },
            { type: 'WORK', value: this.user.phoneBlock.office },
            { type: 'MAIN', value: this.user.phoneBlock.main },
            { type: 'SAME', value: this.user.phoneBlock.other },
            { type: 'FAX', value: this.user.phoneBlock.fax }
        ];
        this.userEmail = [
            { type: 'WORK', value: this.user.emailBlock.work },
            { type: 'MAIN', value: this.user.emailBlock.main }
        ];
        this.userAddress = [
            { type: 'KRAY', value: this.user.fullAddress.region },
            { type: 'CITY', value: this.user.fullAddress.city },
            { type: 'DISTRICT', value: this.user.fullAddress.admArea },
            { type: 'STREET', value: this.user.fullAddress.street },
            { type: 'HOUSE', value: this.user.fullAddress.house },
            { type: 'HOUSING', value: this.user.fullAddress.housing },
            { type: 'FLAT', value: this.user.fullAddress.apartment }
        ];
        this.getAddressStr();
    };
    TabUserComponent.prototype.openUser = function () {
        if (this.superior.id) {
            var tab_sys = this._hubService.getProperty('tab_sys');
            tab_sys.addTab('user', { user: this.superior });
        }
    };
    return TabUserComponent;
}());
TabUserComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'tab-user',
        inputs: ['tab'],
        styles: ["\n        .header1{\n            width: 100%;\n            height: 110px;\n            line-height: 30px;\n            border-bottom: 4px solid rgb(11, 151, 0);\n            display: flex;\n        }\n        .header_col{\n            width: calc(100% - 10px);\n            height: 40px;\n            background-color: #f7f7f7;\n            padding-left: 20px;\n            text-transform: uppercase;\n            font-size: 10pt;\n            color: #5f5d5d;\n            line-height: 40px;\n            margin-bottom: 10px;\n        }\n        .pane {\n            float: left;\n            width: 370px;\n            height: 100%;\n        }\n\n        .work-area {\n            float: left;\n            width: 100%;\n            height: 100%;\n        }\n\n        .tab-button {\n            width: 30px;\n            height: 30px;\n            text-align: center;\n            line-height: 30px;\n            font-size: 12px !important;\n            cursor: pointer;\n            color: #666;\n        }\n\n        .fixed-button {\n            position: fixed;\n            top: 0;\n            left: 0;\n        }\n\n        .sebm-google-map-container {\n            height: 100%;\n        }\n\n        .offer-prop {\n            overflow-y: scroll;\n        }\n\n        .view-group {\n            margin-bottom: 5px;\n            display: flex;\n            justify-content: space-between;\n            align-items: flex-start;\n            height: 30px;\n        }\n\n        .view-label {\n            white-space: nowrap;\n            color: rgb(80, 80, 80);\n            margin-top: 5px;\n            font-size: 10pt;\n            margin-right: 5px;\n        }\n\n        .view-value {\n            width: 100%;\n            text-align: right;\n            color: #696969;\n            font-size: 10pt;\n            margin-top: 5px;\n            height: 19px; /* \u043A\u043E\u0441\u0442\u044B\u043B\u044C */\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            overflow: hidden;\n        }\n\n        .edit-value {\n            width: 100%;\n            text-align: right;\n            color: #696969;\n            font-size: 10pt;\n            height: 19px; /* \u043A\u043E\u0441\u0442\u044B\u043B\u044C */\n            border: none !important;\n            overflow: visible;\n        }\n\n        .text-value {\n            height: 3rem;\n            border: 1px solid #E5E5E5 !important;\n        }\n\n        .edit-block > .view-group, .view-block > .view-group {\n            height: 30px;\n            margin-left: 57px;\n        }\n\n        .tile-x {\n            margin-right: 10px;\n            width: 150px;\n            height: 150px;\n            color: #fff;\n            position: relative;\n        }\n\n        .tile {\n            margin: 0;\n            margin-right: 10px;\n        }\n\n        .icon {\n            line-height: 64px;\n        }\n\n        .tile-content.iconic .icon {\n            width: 128px;\n            margin-left: -64px;\n        }\n\n        .chart-block {\n            overflow:hidden;\n            border: 1px solid #e5e5e5;\n        }\n\n        .chart-header {\n            swidth: 100%;\n            height: 30px;\n            border-bottom: 1px solid #e5e5e5;\n            line-height: 30px;\n            color: #fff;\n        }\n\n        .array-container{\n            display: flex;\n            flex-wrap: wrap;\n            justify-content: flex-end;\n        }\n\n        .array-container > span {\n            display: block;\n            margin-bottom: 5px;\n        }\n\n        .array-container > input {\n            margin-bottom: 5px;\n            width: 80%;\n        }\n\n        .two-way-switch {\n            display: table;\n            border: 1px solid #3366cc;\n            cursor: pointer;\n            display: none;\n        }\n\n        .two-way-switch > div {\n            display: table-cell;\n            width: 90px;\n            text-align: center;\n            padding: 5px 15px;\n            background-color: #fff;\n            color: #333;\n        }\n\n        .two-way-switch > div.active {\n            background-color: #3366cc;\n            color: #fff;\n        }\n\n        .button {\n            text-align: center;\n            padding: 5px 15px;\n            background-color: #3366cc;\n            color: #fff;\n            cursor: pointer;\n        }\n\n        .person_face{\n            height: 220px;\n            background-color: #f7f7f7;\n        }\n\n        .person_face > .rate{\n            height: 20px;\n            background-image: url(assets/star_active.png);\n            background-size: contain;\n            width: 100px;\n            margin-left: 20px;\n            margin-top: 10px;\n        }\n\n        .person_face > img{\n            width: 120px;\n            height: 90px;\n            margin: 20px 0 10 20px;\n        }\n\n        .person_face  .name{\n            margin: 0 0 0 20px;\n            border: 0 !important;\n            font-size: 16pt;\n            text-align: left;\n            background-color: transparent;\n            color: #595a5a;\n            height: 23px;\n            line-height: 23px;\n        }\n\n        .head{\n            width: 100%;\n            height: 31px;\n            display: block;\n            border-bottom: 4px solid rgba(61, 155, 233, 1);\n        }\n\n        .view_icon{\n            width: 28px;\n            height: 25px;\n            background-size: contain;\n            float: left;\n            background-repeat: no-repeat;\n            background-position: center;\n            margin-right: 12px;\n            margin-top: 2px;\n            margin-left: 17px;\n        }\n\n        .edit-block >hr, .view-block >hr{\n                margin: 5px -10px 5px 55px;\n        }\n\n        .arrow{\n            background-image: url(assets/arrow.png);\n            width: 18px;\n            height: 10px;\n            background-size: cover;\n            margin: 0 10px;\n            background-position: center;\n            flex: 0 0 18px;\n            position: absolute;\n            top: 5px;\n            right: -10px;\n        }\n\n        .show_value{\n            flex: 0 0 190px;\n            margin-right: 30px;\n            position: relative;\n            text-align: right;\n            height: 30px;\n            display: flex;\n            flex-direction: column;\n        }\n\n        .show_value > span:first-child{\n            height: 10px;\n            font-size: 8pt;\n        }\n        .show_value > span:last-child{\n            font-size: 10pt;\n            color: #959595;\n        }\n\n        .add_button{\n            height: 25px;\n            margin-left: 0;\n            margin-right: auto;\n            font-size: 10pt;\n            text-align: right;\n            line-height: 25px;\n            color: #29ac3b;\n        }\n\n        .multiply{\n            position: relative;\n            display: block;\n            height: 30px;\n            width: 280px;\n            margin-right: 15px;\n            margin-left: 0;\n            overflow: hidden;\n        }\n\n    "],
        template: "\n        <div class=\"tab-button fixed-button\" (click)=\"toggleLeftPane()\">\n            <span [ngClass]=\"{'icon-arrow-right': paneHidden, 'icon-arrow-left': !paneHidden}\"></span>\n        </div>\n\n        <div class=\"person\" (window:resize)=\"onResize($event)\">\n\n            <!-- \u041B\u0415\u0412\u0410\u042F \u0421\u0422\u0412\u041E\u0420\u041A\u0410: \u041D\u0410\u0427\u0410\u041B\u041E -->\n\n            <div class=\"pane\" [hidden]=\"paneHidden\" [style.width.px]=\"paneWidth\">\n                <div class=\"header1\">\n                    <div class=\"header-label\">{{ tab.header }}</div>\n                </div>\n\n                <div style=\"overflow: scroll; overflow-x: hidden; height: calc(100% - 111px);\n                        border-right: 1px solid #cccccc;\">\n                    <div class = \"person_face\">\n                        <img src=\"\">\n                        <div style=\"flex-wrap: wrap;margin-top: -1px;\">\n                            <div class=\"view-value name\" style=\"text-transform: uppercase;\"> {{ (user.name?.split(' ')[0] === undefined ? \" \" : user.name?.split(' ')[0])}}</div>\n                            <div class=\"view-value name\" style=\"font-size: 14pt; margin-top: 3px;\">\n                                {{ (user.name?.split(' ')[1] === undefined ? \" \" : user.name?.split(' ')[1]) }} {{(user.name?.split(' ')[2] === undefined ? \" \" : user.name?.split(' ')[2])}}\n                            </div>\n                        </div>\n                        <div class=\"rate\"></div>\n                    </div>\n                    <div class=\"pull-container\">\n                        <div class=\"font-sz-2 pull-left\"><span class=\"color-g1\" ><a  href=\"\" target=\"_blank\"></a></span></div>\n                        <div class=\"font-sz-1 color-g2 pull-right\"> {{ user.addDate | formatDate }} </div>\n                    </div>\n                    <div class=\"pull-container\" style=\"margin: 20px 10px 0px;\">\n                        <div class=\"pull-right\" [hidden]=\"editEnabled\" (click)=\"toggleEdit()\" style=\"font-size: 10pt;\"><a href=\"#\" >\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C</a></div>\n                        <div class=\"pull-right\" [hidden]=\"!editEnabled\" (click)=\"save()\" style=\"font-size: 10pt;\"><a href=\"#\" >\u0413\u043E\u0442\u043E\u0432\u043E</a></div>\n                    </div>\n                    <div class=\"person-prop\">\n                        <!-- \u0420\u0415\u0416\u0418\u041C \u0420\u0415\u0414\u0410\u041A\u0422\u0418\u0420\u041E\u0412\u0410\u041D\u0418\u042F: \u041D\u0410\u0427\u0410\u041B\u041E -->\n\n                        <div class=\"edit-block\" [hidden]=\"!editEnabled\" style=\"margin: 10px 10px 10px 0px;\">\n                            <div class=\"header_col\">\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/user.png)'\"></div>\n                            <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                                <ui-input-line [placeholder] = \"'\u0424\u0418\u041E'\" [value] = \"user.name\"\n                                    [width] = \"'225px'\" (onChange)= \"user.name = $event\">\n                                </ui-input-line>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/office.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u041E\u0444\u0438\u0441:</span>\n                                <ui-slidingMenu class=\"view-value edit-value\"\n                                    [options] = \"[\n                                        {value: 'NO', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'},\n                                        {value: 'CENTRAL', label: '\u0426\u0435\u043D\u0442\u0440\u0430\u043B\u044C\u043D\u044B\u0439'},\n                                        {value: 'MAIN', label: '\u0413\u043E\u043B\u043E\u0432\u043D\u043E\u0439'}\n                                    ]\"\n                                    [value]=\"user.office\"\n                                    (onChange)=\"user.office = $event.selected.value\">\n                                </ui-slidingMenu>\n\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/department.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u041E\u0442\u0434\u0435\u043B:</span>\n                                <ui-slidingMenu class=\"view-value edit-value\"\n                                    [options] = \"[\n                                        {value: 'NOT', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'},\n                                        {value: 'LIVING', label: '\u0416\u0438\u043B\u0430\u044F \u043D\u0435\u0434\u0432\u0438\u0436\u0438\u043C\u043E\u0441\u0442\u044C'},\n                                        {value: 'COMMERSIAL', label: '\u041A\u043E\u043C\u043C\u0435\u0440\u0447\u0435\u0441\u043A\u0430\u044F \u043D\u0435\u0434\u0432\u0438\u0436\u0438\u043C\u043E\u0441\u0442\u044C'},\n                                        {value: 'SUBURBAN', label: '\u0417\u0430\u0433\u043E\u0440\u043E\u0434\u043D\u0430\u044F \u043D\u0435\u0434\u0432\u0438\u0436\u0438\u043C\u043E\u0441\u0442\u044C'}\n                                    ]\"\n                                    [value]=\"user.departmentCode\"\n                                    (onChange)=\"user.departmentCode = $event.selected.value\">\n                                </ui-slidingMenu>\n\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/post.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0421\u0442\u0430\u0442\u0443\u0441:</span>\n                                <ui-slidingMenu class=\"view-value edit-value\"\n                                    [options] = \"[\n                                        {value: 'NOT', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'},\n                                        {value: 'TRAINEE', label: '\u0421\u0442\u0430\u0436\u0435\u0440'},\n                                        {value: 'OPERATOR', label: '\u041E\u043F\u0435\u0440\u0430\u0442\u043E\u0440 Call-\u0446\u0435\u043D\u0442\u0440\u0430'},\n                                        {value: 'AGENT', label: '\u0410\u0433\u0435\u043D\u0442'},\n                                        {value: 'MANAGER', label: '\u041C\u0435\u043D\u0435\u0434\u0436\u0435\u0440'},\n                                        {value: 'TOP_MANAGER', label: '\u0422\u043E\u043F \u041C\u0435\u043D\u0435\u0434\u0436\u0435\u0440'},\n                                        {value: 'DIRECTOR', label: '\u0414\u0438\u0440\u0435\u043A\u0442\u043E\u0440'}\n                                    ]\"\n                                    [value]=\"user.positionCode\"\n                                    (onChange)=\"user.positionCode = $event.selected.value\">\n                                </ui-slidingMenu>\n                            </div>\n                            <hr>\n\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/date_start.png)'\"></div>\n                            <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                                <ui-input-line [placeholder] = \"'\u0414\u0430\u0442\u0430 \u043F\u0440\u0438\u0451\u043C\u0430'\" [value] = \"user.recruitmentDate |  date:'dd.MM.yyyy'\"\n                                    [width] = \"'225px'\" (onChange)= \"setDate($event, true)\">\n                                </ui-input-line>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/date_end.png)'\"></div>\n                            <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                                <ui-input-line [placeholder] = \"'\u0414\u0430\u0442\u0430 \u0443\u0432\u043E\u043B\u044C\u043D\u0435\u043D\u0438\u044F'\" [value] = \"user.dismissalDate |  date:'dd.MM.yyyy'\"\n                                    [width] = \"'225px'\" (onChange)= \"setDate($event, false)\">\n                                </ui-input-line>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/responsible.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u041E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439:</span>\n                                <ui-slidingMenu class=\"view-value edit-value\"\n                                    [options] = \"agentOpts\"\n                                    [value]=\"superior.id\"\n                                    (onChange)=\"agentChanged($event)\"\n                                >\n                                </ui-slidingMenu>\n\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/status.png)'\"></div>\n                            <div class=\"view-group\" >\n                                <span class=\"view-label\">\u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435:</span>\n                                <ui-slidingMenu class=\"view-value edit-value\"\n                                    [options] = \"[\n                                        {value: 'NOT', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u043E'},\n                                        {value: 'ACTIVE', label: '\u0410\u043A\u0442\u0438\u0432\u043D\u043E'},\n                                        {value: 'NOT_ACTIVE', label: '\u041D\u0435 \u0430\u043A\u0442\u0438\u0432\u043D\u043E'},\n                                        {value: 'ARCHIVE', label: '\u0410\u0440\u0445\u0438\u0432'}\n                                    ]\"\n                                [value]=\"user.statusCode\"\n                                (onChange)=\"user.statusCode = $event.selected.value\">\n                                >\n                                </ui-slidingMenu>\n                            </div>\n\n                            <div class=\"header_col\">\u041A\u043E\u043D\u0442\u0430\u043A\u0442\u044B</div>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/phone.png)'\"></div>\n                            <div class=\"view-group multiply\">\n                                <span class=\"view-label pull-left\">\u0422\u0435\u043B\u0435\u0444\u043E\u043D\u044B:</span>\n                                <div class=\"show_value\">{{\" \"}}</div>\n                                <div class='arrow' (click)=\"showMenu($event)\"></div>\n                                <ui-multiselect class=\"view-value edit-value\" style=\"\"\n                                    [options] = \"[\n                                        {value: 'MOBILE', label: '\u041C\u043E\u0431\u0438\u043B\u044C\u043D\u044B\u0439'},\n                                        {value: 'HOME', label: '\u0414\u043E\u043C\u0430\u0448\u043D\u0438\u0439'},\n                                        {value: 'WORK', label: '\u0420\u0430\u0431\u043E\u0447\u0438\u0439'},\n                                        {value: 'MAIN', label: '\u041E\u0441\u043D\u043E\u0432\u043D\u043E\u0439'},\n                                        {value: 'SAME', label: '\u0414\u0440\u0443\u0433\u043E\u0439'}\n                                    ]\"\n                                    [masks] = \"['+_ (___) ___-__-__',\n                                                '+_ (____) __-__-__',\n                                                '+_ (___) ___-__-__',\n                                                '+_ (____) ___-___',\n                                                '+_ (____) __-__-__']\"\n                                    [values]=\"userPhone\"\n                                    [width]=\"'43%'\"\n                                    (onChange)=\"parseArray($event, userPhone)\">\n                                </ui-multiselect>\n                            </div>\n\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/email.png)'\"></div>\n                            <div class=\"view-group multiply\">\n                                <span class=\"view-label pull-left\">E-mail:</span>\n                                <div class=\"show_value\">{{\" \"}}</div>\n                                <div class='arrow' (click)=\"showMenu($event)\"></div>\n                                <ui-multiselect class=\"view-value edit-value\" style=\"\"\n                                    [options] = \"[\n                                        {value: 'WORK', label: '\u0420\u0430\u0431\u043E\u0447\u0438\u0439'},\n                                        {value: 'MAIN', label: '\u041B\u0438\u0447\u043D\u044B\u0439'}\n                                    ]\"\n                                    [masks] = \"['', '']\"\n                                    [values]=\"userEmail\"\n                                    [width]=\"'36%'\"\n                                    (onChange)=\"parseArray($event, userEmail)\">\n                                </ui-multiselect>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/website.png)'\"></div>\n                            <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                                <ui-input-line [placeholder] = \"'WEB-\u0441\u0430\u0439\u0442:'\" [value] = \"user.webSite\"\n                                    [width] = \"'225px'\" (onChange)= \"user.webSite = $event\">\n                                </ui-input-line>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/address.png)'\"></div>\n                            <div class=\"view-group multiply\">\n                                <ui-input-line [placeholder] = \"'\u0410\u0434\u0440\u0435\u0441 \u043F\u0440\u043E\u0436\u0438\u0432\u0430\u043D\u0438\u044F:'\" [value] = \"addressStr\"\n                                    [width] = \"'225px'\" (onChange)= \"parseArray($event, userAddress, true)\" [queryTipe]=\"'address'\" (clicked)=\"showMenu($event)\">\n                                </ui-input-line >\n                                <div class='arrow' (click)=\"showMenu($event)\" *ngIf=\"userAddress[0] && userAddress[0]?.value\"></div>\n                                <ui-multiselect class=\"view-value edit-value\" style=\"\"\n                                    [options] = \"[\n                                        {value: 'KRAY', label: '\u0420\u0435\u0433\u0438\u043E\u043D'},\n                                        {value: 'CITY', label: '\u041D\u0430\u0441. \u043F\u0443\u043D\u043A\u0442'},\n                                        {value: 'DISTRICT', label: '\u0420\u0430\u0439\u043E\u043D'},\n                                        {value: 'STREET', label: '\u0423\u043B\u0438\u0446\u0430'},\n                                        {value: 'HOUSE', label: '\u0414\u043E\u043C'},\n                                        {value: 'HOUSING', label: '\u041A\u043E\u0440\u043F\u0443\u0441'},\n                                        {value: 'FLAT', label: '\u041A\u0432\u0430\u0440\u0442\u0438\u0440\u0430'}\n                                    ]\"\n                                    [masks] = \"['','','','','','','']\"\n                                    [values]=\"userAddress\"\n                                    [width]=\"'36%'\"\n                                    (onChange)=\"parseArray($event, userAddress)\">\n                                </ui-multiselect>\n                            </div>\n\n                            <div class=\"header_col\">\u0412\u0445\u043E\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043C\u0443</div>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/login.png)'\"></div>\n                            <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                                <ui-input-line [placeholder] = \"'\u041B\u043E\u0433\u0438\u043D'\" [value] = \"user.login\"\n                                    [width] = \"'225px'\" (onChange)= \"user.login = $event\">\n                                </ui-input-line>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/password.png)'\"></div>\n                            <div class=\"view-group\" style='overflow: hidden; position: relative; display: block;'>\n                                <ui-input-line [placeholder] = \"'\u041F\u0430\u0440\u043E\u043B\u044C'\" [value] = \"user.password\"\n                                    [width] = \"'225px'\" (onChange)= \"user.password = $event\">\n                                </ui-input-line>\n                            </div>\n\n                            <div class=\"header_col\">\u0422\u044D\u0433\u0438</div>\n                            <div style=\"margin: 0 0 20px 20px;\">\n                                <ui-tag-block\n                                    [value] = \"user.tag\"\n                                    (valueChange) = \"user.tag = $event.value\"\n                                ></ui-tag-block>\n                            </div>\n\n                            <div class=\"header_col\">\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                            <div class=\"view-group\" style=\"flex-wrap: wrap; height: 50px; margin-left: 20px;\">\n                                <textarea class=\"view-value text-value\"\n                                    placeholder=\"\" [(ngModel)]=\"user.info\"\n                                    style=\"text-align: left;\">\n                                </textarea>\n                            </div>\n                        </div>\n\n                        <!-- \u0420\u0415\u0416\u0418\u041C \u0420\u0415\u0414\u0410\u041A\u0422\u0418\u0420\u041E\u0412\u0410\u041D\u0418\u042F: \u041A\u041E\u041D\u0415\u0426 -->\n                        <!-- \u0420\u0415\u0416\u0418\u041C \u041E\u0422\u041E\u0411\u0420\u0410\u0416\u0415\u041D\u0418\u042F: \u041D\u0410\u0427\u0410\u041B\u041E -->\n\n                        <div class=\"view-block\" [hidden]=\"editEnabled\" style=\"margin: 10px 10px 10px 0px;\">\n                            <div class=\"header_col\">\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/user.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0424\u0418\u041E:</span>\n                                <span class=\"view-value\" > {{ user.name || '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'}}</span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/office.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u041E\u0444\u0438\u0441:</span>\n                                <ui-view-value\n                                    [options] = \"[\n                                        {value: 'NO', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'},\n                                        {value: 'CENTRAL', label: '\u0426\u0435\u043D\u0442\u0440\u0430\u043B\u044C\u043D\u044B\u0439'},\n                                        {value: 'MAIN', label: '\u0413\u043E\u043B\u043E\u0432\u043D\u043E\u0439'}\n                                    ]\"\n                                    [value]=\"user.office\"\n                                >\n                                </ui-view-value>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/department.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u041E\u0442\u0434\u0435\u043B:</span>\n                                <ui-view-value\n                                    [options] = \"[\n                                        {value: 'NOT', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'},\n                                        {value: 'LIVING', label: '\u0416\u0438\u043B\u0430\u044F \u043D\u0435\u0434\u0432\u0438\u0436\u0438\u043C\u043E\u0441\u0442\u044C'},\n                                        {value: 'COMMERSIAL', label: '\u041A\u043E\u043C\u043C\u0435\u0440\u0447\u0435\u0441\u043A\u0430\u044F \u043D\u0435\u0434\u0432\u0438\u0436\u0438\u043C\u043E\u0441\u0442\u044C'},\n                                        {value: 'SUBURBAN', label: '\u0417\u0430\u0433\u043E\u0440\u043E\u0434\u043D\u0430\u044F \u043D\u0435\u0434\u0432\u0438\u0436\u0438\u043C\u043E\u0441\u0442\u044C'}\n                                    ]\"\n                                    [value]=\"user.departmentCode\"\n                                >\n                                </ui-view-value>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/post.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0421\u0442\u0430\u0442\u0443\u0441:</span>\n                                <ui-view-value\n                                    [options] = \"[\n                                        {value: 'NOT', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D'},\n                                        {value: 'TRAINEE', label: '\u0421\u0442\u0430\u0436\u0435\u0440'},\n                                        {value: 'OPERATOR', label: '\u041E\u043F\u0435\u0440\u0430\u0442\u043E\u0440 Call-\u0446\u0435\u043D\u0442\u0440\u0430'},\n                                        {value: 'AGENT', label: '\u0410\u0433\u0435\u043D\u0442'},\n                                        {value: 'MANAGER', label: '\u041C\u0435\u043D\u0435\u0434\u0436\u0435\u0440'},\n                                        {value: 'TOP_MANAGER', label: '\u0422\u043E\u043F \u041C\u0435\u043D\u0435\u0434\u0436\u0435\u0440'},\n                                        {value: 'DIRECTOR', label: '\u0414\u0438\u0440\u0435\u043A\u0442\u043E\u0440'}\n                                    ]\"\n                                    [value]=\"user.positionCode\"\n                                >\n                                </ui-view-value>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/date_start.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0414\u0430\u0442\u0430 \u043F\u0440\u0438\u0451\u043C\u0430:</span>\n                                <span class=\"view-value\"> {{ (user.recruitmentDate | date:'dd.MM.yyyy') || '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043Da'}}</span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/date_end.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0414\u0430\u0442\u0430 \u0443\u0432\u043E\u043B\u044C\u043D\u0435\u043D\u0438\u044F:</span>\n                                <span class=\"view-value\"> {{ (user.dismissalDate | date:'dd.MM.yyyy') || '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043Da'}}</span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/responsible.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u041E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439:</span>\n                                <span class=\"view-value\" [class.link] = \"superior.id\" (click)=\"openUser()\"> {{ superior.name || '\u041D\u0435 \u043D\u0430\u0437\u043D\u0430\u0447\u0435\u043D'}}</span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/status.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435:</span>\n                                <ui-view-value\n                                    [options] = \"[\n                                        {value: 'NOT', label: '\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u043E'},\n                                        {value: 'ACTIVE', label: '\u0410\u043A\u0442\u0438\u0432\u043D\u043E'},\n                                        {value: 'NOT_ACTIVE', label: '\u041D\u0435 \u0430\u043A\u0442\u0438\u0432\u043D\u043E'},\n                                        {value: 'ARCHIVE', label: '\u0410\u0440\u0445\u0438\u0432'}\n                                    ]\"\n                                    [value]=\"user.statusCode\"\n                                >\n                                </ui-view-value>\n                            </div>\n\n                            <div class=\"header_col\">\u041A\u043E\u043D\u0442\u0430\u043A\u0442\u044B</div>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/phone.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">\u0422\u0435\u043B\u0435\u0444\u043E\u043D:</span>\n                                <ui-multi-view\n                                    [options] = \"[\n                                        {value: 'MOBILE', label: '\u041C\u043E\u0431\u0438\u043B\u044C\u043D\u044B\u0439'},\n                                        {value: 'HOME', label: '\u0414\u043E\u043C\u0430\u0448\u043D\u0438\u0439'},\n                                        {value: 'WORK', label: '\u0420\u0430\u0431\u043E\u0447\u0438\u0439'},\n                                        {value: 'MAIN', label: '\u041E\u0441\u043D\u043E\u0432\u043D\u043E\u0439'},\n                                        {value: 'SAME', label: '\u0414\u0440\u0443\u0433\u043E\u0439'}\n                                    ]\"\n                                    [values] = \"[\n                                        {type: getDateUser(userPhone).type, value: getDateUser(userPhone).value}\n                                    ]\"\n                                >\n                                </ui-multi-view>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/email.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label pull-left\">E-mail:</span>\n                                <ui-multi-view\n                                    [options] = \"[\n                                        {value: 'WORK', label: '\u0420\u0430\u0431\u043E\u0447\u0438\u0439'},\n                                        {value: 'MAIN', label: '\u041B\u0438\u0447\u043D\u044B\u0439'}\n                                    ]\"\n                                    [values] = \"[\n                                        {type: getDateUser(userEmail).type, value: getDateUser(userEmail).value}\n                                    ]\"\n                                >\n                                </ui-multi-view>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/email.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">WEB-\u0441\u0430\u0439\u0442:</span>\n                                <span class=\"view-value\">\n                                    <span *ngIf=\"!user?.webSite\" class=\"view-value\">\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D</span>\n                                    <a *ngIf=\"user?.webSite\" [href]=\"'http://'+user.webSite\" target=\"_blank\">{{user?.webSite}}</a>\n                                </span>\n                            </div>\n                            <hr>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/address.png)'\"></div>\n                            <div class=\"view-group\">\n                                <ui-view-line\n                                    [placeholder]= \"'\u0410\u0434\u0440\u0435\u0441 \u043F\u0440\u043E\u0436\u0438\u0432\u0430\u043D\u0438\u044F:'\" [value]=\"addressStr\"\n                                >\n                                </ui-view-line>\n                            </div>\n                            <div class=\"header_col\">\u0412\u0445\u043E\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043C\u0443</div>\n                            <div class='view_icon' [style.background-image]=\"'url(assets/user_icon/login.png)'\"></div>\n                            <div class=\"view-group\">\n                                <span class=\"view-label\">\u041B\u043E\u0433\u0438\u043D</span>\n                                <span class=\"view-value\"> {{ user.login }}</span>\n                            </div>\n\n                            <div class=\"header_col\">\u0422\u044D\u0433\u0438</div>\n                            <div style=\"margin: 0 0 20px 20px;\">\n                                <ui-tag-block\n                                    [value] = \"user.tag\"\n                                    (valueChange) = \"user.tag = $event.value\"\n                                ></ui-tag-block>\n                            </div>\n\n                            <div class=\"header_col\">\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</div>\n                            <div class=\"view-group\">\n                                <span class=\"view-value\" style=\"height: initial;\"> {{ user.info }} </span>\n                            </div>\n                        </div>\n\n                        <!-- \u0420\u0415\u0416\u0418\u041C \u041E\u0422\u041E\u0411\u0420\u0410\u0416\u0415\u041D\u0418\u042F: \u041A\u041E\u041D\u0415\u0426 -->\n                </div>\n            </div>\n            </div>\n\n            <!-- \u041B\u0435\u0432\u0430\u044F \u0421\u0422\u0412\u041E\u0420\u041A\u0410: \u041A\u041E\u041D\u0415\u0426 -->\n            <!-- \u0420\u0410\u0411\u041E\u0427\u0410\u042F \u041E\u0411\u041B\u0410\u0421\u0422\u042C: \u041D\u0410\u0427\u0410\u041B\u041E -->\n\n            <div class=\"work-area\" [style.width.px]=\"mapWidth\">\n                <ui-tabs\n                    [headerMode]=\"!paneHidden\"\n                    [iconUrls]=\"['assets/main_offers.png', 'assets/analitic.png', 'assets/history.png']\"\n                    [color] = \"'#0b9700'\"\n                >\n                    <!--<ui-tab\n                        [title]=\"'\u041F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F'\"\n                        (tabSelect)=\"offersSelected()\"\n                    >\n\n                        <div class=\"\" style=\"position: absolute; top: 15px; left: 15px; z-index: 1;\">\n                            <div class=\"two-way-switch\">\n                                <div [class.active]=\"requestOfferType == 'sale'\" (click)=\"toggleOffer('sale')\">\u041F\u0440\u043E\u0434\u0430\u0436\u0430</div>\n                                <div [class.active]=\"requestOfferType == 'rent'\" (click)=\"toggleOffer('rent')\">\u0410\u0440\u0435\u043D\u0434\u0430</div>\n                            </div>\n                        </div>\n\n                        <!-- \u0441\u0438\u043B\u044C\u043D\u043E\u0435 \u043A\u043E\u043B\u0434\u0443\u043D\u0441\u0442\u0432\u043E, \u0441\u0432-\u0432\u043E right \u043F\u043E\u043B\u0443\u0447\u0430\u0435\u043C \u0438\u0437 HubService -->\n                        <!-- TODO: \u0441\u0434\u0435\u043B\u0430\u0442\u044C \u044D\u0442\u043E \u043E\u0442\u0434\u0435\u043B\u044C\u043D\u044B\u043C \u043A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442\u043E\u043C -->\n                        <!--<div  style=\"position: absolute; top: 0px; z-index: 1; border-left: 1px solid #ccc;\" [style.right]=\"_hubService.shared_var['nb_width']\">\n                            <div style=\"width: 330px; background-color: #fff;\">\n                                <div class=\"head\">\n                                    <input type=\"text\" style=\"width: 280px; margin-left: 10px; border: 1px solid silver;\n                                                                background-color: #f7f7f7;\"\n                                        (keydown)=\"offerSearchKeydown($event)\"\n                                    >\n                                    <span class=\"icon-search\" style=\"margin-left: 10px; cursor: pointer;\"\n                                        (click)=\"offerSearch()\"\n                                    ></span>\n                                </div>\n                                <div class=\"\" style=\"width: 100%; overflow-y: scroll;\" [style.height]=\"paneHeight\">\n\n                                    <digest-offer *ngFor=\"let offer of offers\"\n                                        [offer]=\"offer\"\n                                        [compact]=\"true\"\n                                    >\n                                    </digest-offer>\n                                </div>\n                            </div>\n                        </div>\n                        <!--<google-map [latitude]=\"lat\" [longitude]=\"lon\" [objects]=\"offers\" [zoom]=\"zoom\">\n                        </google-map>\n                    </ui-tab>-->\n\n                    <ui-tab\n                        [title]=\"'\u0413\u043B\u0430\u0432\u043D\u0430\u044F'\"\n                        (tabSelect)=\"requestsSelected()\"\n                    >\n                        <div class=\"\" style=\"margin: 15px;\">\n                            <div class=\"two-way-switch\">\n                                <div [class.active]=\"requestOfferType == 'sale'\" (click)=\"toggleOffer('sale')\">\u041F\u0440\u043E\u0434\u0430\u0436\u0430</div>\n                                <div [class.active]=\"requestOfferType == 'rent'\" (click)=\"toggleOffer('rent')\">\u0410\u0440\u0435\u043D\u0434\u0430</div>\n                            </div>\n                        </div>\n                        <div class=\"\" style=\"max-width: 910px; overflow-y: scroll; \" [style.height]=\"paneHeight\">\n\n                            <digest-request *ngFor=\"let request of requests\"\n                                [request]=\"request\"\n                            >\n                            </digest-request>\n                        </div>\n                    </ui-tab>\n\n                    <ui-tab [title]=\"'\u0410\u043D\u0430\u043B\u0438\u0442\u0438\u043A\u0430'\"\n                        (tabSelect)=\"analysisSelected()\"\n                    >\n                        <div class=\"\" style=\"max-width: 910px; overflow-y: scroll;\" [style.height]=\"paneHeight\">\n                            <div style=\"padding: 15px;\">\n                                <div class=\"tile bg-gred fg-white\">\n                                    <div class=\"tile-content iconic\">\n                                        <span class=\"icon\">{{ ch1_data_v1 }}</span>\n                                    </div>\n                                    <span class=\"tile-label\">\u0412\u0441\u0435\u0433\u043E \u0437\u0430\u0434\u0430\u0447</span>\n                                </div>\n                                <div class=\"chart-block\">\n                                    <div class=\"chart-header bg-gred\">\n                                        <span style=\"margin-left: 25px;\">\u0410\u043A\u0442\u0438\u0432\u043D\u043E\u0441\u0442\u044C</span>\n                                    </div>\n                                    <div>\n                                        <ui-pie-chart\n                                            [title]=\"''\"\n                                            [data]=\"ch1_data\"\n                                        >\n                                        </ui-pie-chart>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div style=\"padding: 15px;\">\n                                <div style=\"float: left; display: flex; flex-direction: column;\">\n                                    <div class=\"tile bg-gorange fg-white\" style=\"margin-bottom: 5px;\">\n                                        <div class=\"tile-content iconic\">\n                                            <span class=\"icon\" style=\"font-size: 48px;\">{{ ch4_data_v1 }}</span>\n                                        </div>\n                                        <span class=\"tile-label\">\u0412\u0441\u0435\u0433\u043E \u043E\u0431\u044A\u044F\u0432\u043B\u0435\u043D\u0438\u0439</span>\n                                    </div>\n                                    <div class=\"tile bg-gorange fg-white\" >\n                                        <div class=\"tile-content iconic\">\n                                            <span class=\"icon\" style=\"font-size: 48px;\">{{ ch4_data_v2 }}</span>\n                                        </div>\n                                        <span class=\"tile-label\">\u041F\u043E\u0442\u0440\u0430\u0447\u0435\u043D\u043E \u0440\u0443\u0431.</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"chart-block\">\n                                    <div class=\"chart-header bg-gorange\">\n                                        <span style=\"margin-left: 25px;\">\u0420\u0435\u043A\u043B\u0430\u043C\u0430</span>\n                                    </div>\n                                    <div>\n                                        <ui-bar-chart\n                                            [title]=\"''\"\n                                            [data]=\"ch4_data\"\n                                        >\n                                        </ui-bar-chart>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div style=\"padding: 15px;\">\n                                <div class=\"tile bg-gblue fg-white\">\n                                    <div class=\"tile-content iconic\">\n                                        <span class=\"icon\">{{ ch2_data_v1 }}</span>\n                                    </div>\n                                    <span class=\"tile-label\">\u0412\u0441\u0435\u0433\u043E \u0437\u0430\u044F\u0432\u043E\u043A</span>\n                                </div>\n                                <div class=\"chart-block\">\n                                    <div class=\"chart-header bg-gblue\">\n                                        <span style=\"margin-left: 25px;\">\u0417\u0430\u044F\u0432\u043A\u0438</span>\n                                    </div>\n                                    <div>\n                                        <ui-line-chart\n                                            [title]=\"''\"\n                                            [data]=\"ch2_data\"\n                                        >\n                                        </ui-line-chart>\n                                    </div>\n                                </div>\n                            </div>\n                            <div style=\"padding: 15px;\">\n                                <div style=\"float: left; display: flex; flex-direction: column;\">\n                                    <div class=\"tile bg-ggreen fg-white\" style=\"margin-bottom: 5px;\">\n                                        <div class=\"tile-content iconic\">\n                                            <span class=\"icon\">{{ ch3_data_v1 }}</span>\n                                        </div>\n                                        <span class=\"tile-label\">\u0423\u0441\u043F\u0435\u0448\u043D\u043E</span>\n                                    </div>\n                                    <div class=\"tile bg-ggreen fg-white\">\n                                        <div class=\"tile-content iconic\">\n                                            <span class=\"icon\">{{ ch3_data_v2 }}</span>\n                                        </div>\n                                        <span class=\"tile-label\">\u041D\u0435 \u0443\u0441\u043F\u0435\u0448\u043D\u043E</span>\n                                    </div>\n                                </div>\n                                <div class=\"chart-block\">\n                                    <div class=\"chart-header bg-ggreen\">\n                                        <span style=\"margin-left: 25px;\">\u041F\u043E\u043A\u0430\u0437\u044B</span>\n                                    </div>\n                                    <div>\n                                        <ui-line-chart\n                                            [title]=\"''\"\n                                            [data]=\"ch3_data\"\n                                        >\n                                        </ui-line-chart>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </ui-tab>\n                    <ui-tab\n                        [title]=\"'\u0418\u0441\u0442\u043E\u0440\u0438\u044F'\"\n                        (tabSelect)=\"historySelected()\"\n                    >\n                        <div class=\"\" style=\"max-width: 910px; overflow-y: scroll;\" [style.height]=\"paneHeight\">\n                            <digest-history *ngFor=\"let record of historyRecs\"\n                                [historyRecord]=\"record\"\n                            >\n                            </digest-history>\n                        </div>\n                    </ui-tab>\n                </ui-tabs>\n            </div>\n            <!-- \u0420\u0410\u0411\u041E\u0427\u0410\u042F \u041E\u0411\u041B\u0410\u0421\u0422\u042C: \u041A\u041E\u041D\u0415\u0426 -->\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_3__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__service_hub_service__["a" /* HubService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_4__service_user_service__["a" /* UserService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__service_user_service__["a" /* UserService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_5__service_config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__service_config_service__["a" /* ConfigService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_6__service_offer_service__["b" /* OfferService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__service_offer_service__["b" /* OfferService */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_7__service_request_service__["a" /* RequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_7__service_request_service__["a" /* RequestService */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_8__service_task_service__["a" /* TaskService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_8__service_task_service__["a" /* TaskService */]) === "function" && _f || Object, typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_12__service_analysis_service__["a" /* AnalysisService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_12__service_analysis_service__["a" /* AnalysisService */]) === "function" && _g || Object, typeof (_h = typeof __WEBPACK_IMPORTED_MODULE_9__service_history_service__["a" /* HistoryService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_9__service_history_service__["a" /* HistoryService */]) === "function" && _h || Object, typeof (_j = typeof __WEBPACK_IMPORTED_MODULE_10__service_person_service__["a" /* PersonService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_10__service_person_service__["a" /* PersonService */]) === "function" && _j || Object, typeof (_k = typeof __WEBPACK_IMPORTED_MODULE_11__service_organisation_service__["a" /* OrganisationService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_11__service_organisation_service__["a" /* OrganisationService */]) === "function" && _k || Object, typeof (_l = typeof __WEBPACK_IMPORTED_MODULE_13__service_session_service__["a" /* SessionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_13__service_session_service__["a" /* SessionService */]) === "function" && _l || Object])
], TabUserComponent);

var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;
//# sourceMappingURL=tab-user.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/ui/chart/google-chart.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GoogleChartComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var GoogleChartComponent = (function () {
    function GoogleChartComponent(element) {
        this.element = element;
        this._element = this.element.nativeElement;
    }
    Object.defineProperty(GoogleChartComponent.prototype, "data", {
        set: function (c) {
            this.chartData = c;
            this.drawGraph(this.chartOptions, this.chartType, this.chartData, this._element);
        },
        enumerable: true,
        configurable: true
    });
    GoogleChartComponent.prototype.ngOnInit = function () {
        var _this = this;
        setTimeout(function () {
            google.charts.load('current', { 'packages': ['corechart'] });
            setTimeout(function () {
                _this.drawGraph(_this.chartOptions, _this.chartType, _this.chartData, _this._element);
            }, 10);
        }, 10);
    };
    GoogleChartComponent.prototype.ngOnChanges = function () {
        this.drawGraph(this.chartOptions, this.chartType, this.chartData, this._element);
    };
    GoogleChartComponent.prototype.drawGraph = function (chartOptions, chartType, chartData, ele) {
        setTimeout(function () {
            google.charts.setOnLoadCallback(drawChart);
            function drawChart() {
                var wrapper;
                wrapper = new google.visualization.ChartWrapper({
                    chartType: chartType,
                    dataTable: chartData,
                    options: chartOptions || {},
                    containerId: ele.id
                });
                wrapper.draw();
            }
        }, 10);
    };
    return GoogleChartComponent;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["i" /* Input */])('chartType'),
    __metadata("design:type", String)
], GoogleChartComponent.prototype, "chartType", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["i" /* Input */])('chartOptions'),
    __metadata("design:type", Object)
], GoogleChartComponent.prototype, "chartOptions", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["i" /* Input */])(),
    __metadata("design:type", Array),
    __metadata("design:paramtypes", [Array])
], GoogleChartComponent.prototype, "data", null);
GoogleChartComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["f" /* Directive */])({
        selector: '[GoogleChart]'
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["g" /* ElementRef */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["g" /* ElementRef */]) === "function" && _a || Object])
], GoogleChartComponent);

var _a;
//# sourceMappingURL=google-chart.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/ui/off-click.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OffClickDirective; });
/**
 * Created by Aleksandr on 23.11.16.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var OffClickDirective = (function () {
    function OffClickDirective(_elementRef) {
        this._elementRef = _elementRef;
        this.offClick = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
    }
    OffClickDirective.prototype.onClick = function (event, targetElement) {
        if (!targetElement) {
            return;
        }
        var clickedInside = this._elementRef.nativeElement.contains(targetElement);
        if (!clickedInside) {
            this.offClick.emit(event);
        }
    };
    return OffClickDirective;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", Object)
], OffClickDirective.prototype, "offClick", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["e" /* HostListener */])('document:click', ['$event', '$event.target']),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Object, Object]),
    __metadata("design:returntype", void 0)
], OffClickDirective.prototype, "onClick", null);
OffClickDirective = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["f" /* Directive */])({
        selector: '[offClick]'
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["g" /* ElementRef */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["g" /* ElementRef */]) === "function" && _a || Object])
], OffClickDirective);

var _a;
//# sourceMappingURL=off-click.js.map

/***/ }),

/***/ "../../../../../src/app/component/ui/ui-advertising.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UIAdvertising; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var UIAdvertising = (function () {
    function UIAdvertising() {
        this.platforms = [
            { select1: false, select2: false, select3: false, name: 'Из рук в руки' },
            { select: false, select2: false, select3: false, name: 'Презент' },
            { select: false, select2: false, select3: false, name: 'Авито' },
            { select: false, select2: false, select3: false, name: 'Циан' },
            { select: false, select2: false, select3: false, name: 'ВНХ' },
            { select: false, select2: false, select3: false, name: 'Фарпост' },
            { select: false, select2: false, select3: false, name: 'Домофонд' },
            { select1: false, select2: false, select3: false, name: 'Из рук в руки' },
            { select: false, select2: false, select3: false, name: 'Презент' },
            { select: false, select2: false, select3: false, name: 'Авито' },
            { select: false, select2: false, select3: false, name: 'Циан' },
            { select: false, select2: false, select3: false, name: 'ВНХ' },
            { select: false, select2: false, select3: false, name: 'Фарпост' },
            { select: false, select2: false, select3: false, name: 'Домофонд' },
            { select1: false, select2: false, select3: false, name: 'Из рук в руки' },
            { select: false, select2: false, select3: false, name: 'Презент' },
            { select: false, select2: false, select3: false, name: 'Авито' },
            { select: false, select2: false, select3: false, name: 'Циан' },
            { select: false, select2: false, select3: false, name: 'ВНХ' },
            { select: false, select2: false, select3: false, name: 'Фарпост' },
            { select: false, select2: false, select3: false, name: 'Домофонд' },
            { select1: false, select2: false, select3: false, name: 'Из рук в руки' },
            { select: false, select2: false, select3: false, name: 'Презент' },
            { select: false, select2: false, select3: false, name: 'Авито' },
            { select: false, select2: false, select3: false, name: 'Циан' },
            { select: false, select2: false, select3: false, name: 'ВНХ' },
            { select: false, select2: false, select3: false, name: 'Фарпост' },
            { select: false, select2: false, select3: false, name: 'Домофонд' }
        ];
    }
    UIAdvertising.prototype.ngOnInit = function () {
        this.platforms = [].concat(this.platforms);
        this.platforms = [].concat(this.platforms);
        this.platforms = [].concat(this.platforms);
    };
    return UIAdvertising;
}());
UIAdvertising = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'ui-advertising',
        inputs: [],
        template: "\n    <div class=\"ui-advertising\">\n\n        <table cellspacing=\"0\" style=\"width: 100%; display: block;\">\n            <div class=\"head\">\n                <span class=\"text\">\u0420\u0435\u043A\u043B\u0430\u043C\u043D\u044B\u0435 \u043F\u043B\u043E\u0449\u0430\u0434\u043A\u0438</span>\n                <span class=\"edit\">\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C</span>\n                <!--<div class=\"search\"></div>-->\n            </div>\n            <thead>\n                <tr>\n                    <td>\u041F\u043B\u043E\u0449\u0430\u0434\u043A\u0430</td>\n                    <td>\u041D\u0435\u0434\u0435\u043B\u044F</td>\n                    <td>2 \u041D\u0435\u0434\u0435\u043B\u0438</td>\n                    <td>\u041C\u0435\u0441\u044F\u0446</td>\n                </tr>\n            </thead>\n            <tbody>\n                <tr *ngFor=\"let platform of platforms; let i=index\">\n                    <td width = '41%'>\n                        <div class=\"name\">{{platform.name}}</div>\n                    </td>\n                    <td width = '18%' (click)=\"platform.select = !platform.select\">\n                        <div class='button'>\n                            <div *ngIf=\"platform.select\"></div>\n                        </div>\n                    </td>\n                    <td width = '23%' (click)=\"platform.select2 = !platform.select2\">\n                        <div class='button' >\n                            <div *ngIf=\"platform.select2\"></div>\n                        </div>\n                    </td>\n                    <td width = '18%' (click)=\"platform.select3 = !platform.select3\">\n                        <div class='button' >\n                            <div *ngIf=\"platform.select3\"></div>\n                        </div>\n                    </td>\n\n                </tr>\n            </tbody>\n        </table>\n    </div>\n  ",
        styles: ["\n      .ui-advertising{\n          height: 100%;\n          background-color: white;\n          overflow: hidden;\n      }\n      .ui-advertising>div{\n          height: 30px;\n          display: flex;\n          justify-content: flex-start;\n          align-items: center;\n      }\n\n      .ui-advertising>div:nth-child(odd){\n\n      }\n      .ui-advertising>div:nth-child(even){\n          background-color: #f1f3ef;\n      }\n      .button{\n          width: 10px;\n          height: 10px;\n          margin: 10 auto;\n          background-color: #d4d4d4;\n          border: 1px solid #b2b2b2;\n          border-radius: 2px;\n      }\n      .button > div{\n          width: 15px;\n          height: 15px;\n          background-image: url(assets/tick1.png);\n          background-size: cover;\n          position: relative;\n          top: -6px;\n          left: 1px;\n      }\n      .name{\n          font-size: 12px;\n          color: #5f5d5d;\n          text-align: left;\n          padding-left: 5px;\n      }\n\n      thead, tbody{\n          display: block;\n      }\n\n      tbody tr:nth-child(odd){\n          background-color: #f6f8f0;\n      }\n\n      tbody tr:nth-child(even){\n\n      }\n\n      tr{\n          width: calc(100% - 20px);\n          display: flex;\n          height: 35px;\n          padding: 0 10px 0 10px;\n          line-height: 35px;\n      }\n\n      tbody{\n          overflow: auto;\n          height: calc(100% - 75px);\n      }\n\n      thead tr{\n          justify-content: center;\n          height: 22px;\n          line-height: 22px;\n      }\n\n      thead tr td {\n          font-size: 12px;\n          color: #74a14e;;\n      }\n\n      tr td  {\n          flex: 0 0 20%;\n          text-align: center;\n      }\n      tr td:first-child {\n          flex: 0 0 38%;\n      }\n\n      .head{\n          display: flex;\n          flex-wrap: wrap;\n          justify-content: space-between;\n      }\n\n      .head > span{\n\n      }\n\n      .search{\n          width: calc(100% - 40px);\n          height: 20px;\n          background-color: #f7f7f7;\n          margin: 22px 40 5 10px;\n          border: 1px solid #e3e3e3;\n      }\n\n      .text{\n          text-transform: uppercase;\n          color: #4c4c4c;\n          margin: 12px 0 0px 15px;\n          position: relative;\n          z-index: 10;\n          height: 43px;\n          display: flex;\n          justify-content: space-between;\n          font-size: 16px;\n      }\n      .edit{\n          flex: 0 0 100px;\n          font-size: 12px;\n          margin: 5px 10px 5px 0;\n          text-align: end;\n          color: #0575b5;\n      }\n  "]
    })
], UIAdvertising);

//# sourceMappingURL=ui-advertising.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/ui/ui-bar-chart.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UIBarChart; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var UIBarChart = (function () {
    function UIBarChart(_elem, renderer) {
        this._elem = _elem;
        this.data = [];
        //renderer.setElementClass(elem, 'wtf-class', true);
    }
    UIBarChart.prototype.ngOnChanges = function () {
        if (!this.container) {
            this.container = this._elem.nativeElement.querySelector('.ui-bar-chart');
        }
        this.draw();
    };
    UIBarChart.prototype.draw = function () {
        // Create the data table.
        //var data = google.visualization.arrayToDataTable(this.data);
        var options = {
            legend: { position: "none" },
            height: 272,
            hAxis: {
                format: '#'
            }
        };
        //var chart = new google.visualization.BarChart(this.container);
        //chart.draw(data, options);
    };
    return UIBarChart;
}());
UIBarChart = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'ui-bar-chart',
        inputs: ['title', 'data'],
        template: "\n    <div class=\"ui-bar-chart\">\n    </div>\n  ",
        styles: ["\n    .class {\n\n    }\n  "]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["g" /* ElementRef */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["g" /* ElementRef */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["R" /* Renderer */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["R" /* Renderer */]) === "function" && _b || Object])
], UIBarChart);

var _a, _b;
//# sourceMappingURL=ui-bar-chart.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/ui/ui-carousel.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UICarousel; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var UICarousel = (function () {
    function UICarousel() {
        this.setIndex = 0;
        this.position = 0;
        this.showToolbox = false;
        this.editable = false;
        this.slide_width = 235 * 1;
        this.slider_pos = 0;
        this.tr_duration = '0.4s';
        this.busy = false;
        this.getIndex = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
        this.delete = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
        this.move = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
    }
    UICarousel.prototype.ngOnInit = function () {
    };
    UICarousel.prototype.ngOnChanges = function (changes) {
        if (changes.setIndex && this.photos.length > 0) {
            if (changes.setIndex.currentValue > changes.setIndex.previousValue)
                this.slideRight(changes.setIndex.currentValue);
            else
                this.slideLeft(changes.setIndex.currentValue);
        }
        else if (changes.photos && changes.photos.currentValue != changes.photos.previousValue) {
        }
    };
    UICarousel.prototype.slideRight = function (val) {
        if (val === void 0) { val = ""; }
        var ribbon = document.getElementsByClassName("ribbon").item(0);
        var carousel = ribbon.parentElement;
        var elem = document.getElementsByClassName("image_cont").item(val);
        if (elem && elem.offsetLeft + 235 > carousel.offsetWidth) {
            this.slider_pos -= elem.offsetLeft + 235 - carousel.offsetWidth;
        }
        this.getIndex.emit(val);
        this.position = val;
    };
    UICarousel.prototype.slideLeft = function (val) {
        if (val === void 0) { val = ""; }
        var ribbon = document.getElementsByClassName("ribbon").item(0);
        var carousel = ribbon.parentElement;
        var elem = document.getElementsByClassName("image_cont").item(val);
        if (elem && elem.offsetLeft < 0) {
            this.slider_pos += -elem.offsetLeft;
        }
        this.getIndex.emit(val);
        this.position = val;
    };
    UICarousel.prototype.emitEvent = function (event, i) {
        if (event.currentTarget.tagName == 'IMG')
            this.getIndex.emit(i);
        this.position = i;
    };
    UICarousel.prototype.deleteFile = function (photo) {
        this.delete.emit(photo);
    };
    UICarousel.prototype.move_left = function (i) {
        if (i != 0) {
            var temp = this.photos[i - 1];
            this.photos[i - 1] = this.photos[i];
            this.photos[i] = temp;
        }
    };
    UICarousel.prototype.move_right = function (i) {
        if (i != this.photos.length - 1) {
            var temp = this.photos[i + 1];
            this.photos[i + 1] = this.photos[i];
            this.photos[i] = temp;
        }
    };
    return UICarousel;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _a || Object)
], UICarousel.prototype, "getIndex", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _b || Object)
], UICarousel.prototype, "delete", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _c || Object)
], UICarousel.prototype, "move", void 0);
UICarousel = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'ui-carousel',
        inputs: ['photos', 'setIndex', 'showToolbox'],
        template: "\n    <!--<div class=\"ui-carousel\">\n      <a class=\"slide-left\" style=\"color: white; display: block;\" href=\"#\" (click)=\"slideRight()\"><span class=\"icon-arrow-left\"></span></a>\n      <div class=\"ribbon\" [style.left]=\"slider_pos\" [style.transition-duration]=\"tr_duration\">\n        <div *ngFor=\"let photo of photosConf\" class=\"img-wrap pull-left image_cont\" style=\"margin-left: 10px;\">\n          <div class=\"selected_photo\" *ngIf=\"position == photo.pos\"> </div>\n          <div class=\"toolbox\" *ngIf=\"showToolbox\">\n                <div [style.background-image]=\"'url(assets/arrow.png)'\" style=\"transform: rotate(90deg);\"></div>\n                <div [style.background-image]=\"'url(assets/arrow.png)'\" style=\"transform: rotate(-90deg);\"></div>\n                <div [style.background-image]=\"'url(assets/delete_Icon.png)'\" (click)=\"deleteFile(photo)\"></div>\n          </div>\n          <div class=\"img-overlay\" style=\"position: relative; display: inline-block;\">\n            <img class=\"carousel-img\" [attr.src]=\"photo.url\" style=\"height: 165px; width: 225px;\" (click)=\"emitEvent($event, photo.pos)\">\n          </div>\n          <hr style=\"margin: 0;\">\n        </div>\n      </div>\n     <a class=\"slide-right\" style=\"color: white; display: block;\" href=\"#\" (click)=\"slideLeft()\"><span class=\"icon-arrow-right\"></span></a>\n\n    </div>-->\n\n    <div class=\"ui-carousel\">\n        <ul class=\"ribbon\" [style.marginLeft]=\"slider_pos\" [style.transition-duration]=\"tr_duration\">\n            <li *ngFor=\"let photo of photos; let i = index\" class=\"img-wrap pull-left image_cont\">\n                <div class=\"selected_photo\" *ngIf=\"position == i\"> </div>\n                <div class=\"toolbox\" *ngIf=\"showToolbox\">\n                    <div [style.background-image]=\"'url(assets/arrow.png)'\" style=\"transform: rotate(90deg);\" (click)=\"move_left(i)\"></div>\n                    <div [style.background-image]=\"'url(assets/arrow.png)'\" style=\"transform: rotate(-90deg);\" (click)=\"move_right(i)\"></div>\n                    <div [style.background-image]=\"'url(assets/delete_Icon.png)'\" (click)=\"deleteFile(photo)\"></div>\n                </div>\n                <div class=\"img-overlay\" style=\"position: relative; display: inline-block;\">\n                    <img class=\"carousel-img\" [attr.src]=\"photo\" style=\"height: 165px; width: 225px;\" (click)=\"emitEvent($event, i)\">\n                </div>\n            </li>\n        </ul>\n    </div>\n  ",
        styles: ["\n    .class {\n      position: relative;\n    }\n\n    .ui-carousel {\n      position: relative;\n      height: 100%;\n      width: 100%;\n      overflow: hidden;\n    }\n\n    .ribbon {\n      height: 100%;\n      width: 9999px;\n      padding: 0;\n      margin: 0;\n      list-style: none;\n      transition: margin-left 250ms;\n    }\n\n    .slide-left, .slide-right {\n      display: block;\n      position: absolute;\n      outline: 0;\n      cursor: pointer;\n      text-decoration: none;\n      width: 75px;\n      height: 165px;\n      line-height: 165px;\n      background: #000;\n      opacity: 0.0;\n      text-align: center;\n      -webkit-transition: opacity 500ms linear;\n      -moz-transition: opacity 500ms linear;\n      -o-transition: opacity 500ms linear;\n      transition: opacity 500ms linear;\n      z-index: 1;\n    }\n    .slide-left {\n      left: 0px;\n      top: 0px;\n    }\n    .slide-right {\n      right: 0px;\n      bottom: 0;\n    }\n\n    .ui-carousel:hover > .slide-left, .ui-carousel:hover > .slide-right {\n        opacity: 0.4;\n    }\n\n    .image_cont{\n        position: relative;\n        margin-top: 10px;\n        display: inline-block;\n        margin-right: 10px;\n    }\n\n    .toolbox{\n        position: absolute;\n        opacity: 0;\n        transition: opacity 300ms linear;\n        width: 100%;\n        height: 30px;\n        background-color: #e0e0e0;\n        z-index: 9;\n        display: flex;\n        justify-content: space-evenly;\n        align-items: center;\n    }\n\n    .toolbox div{\n        background-position: center;\n        background-size: cover;\n        background-repeat: no-repeat;\n        width: 20px;\n        height: 20px;\n    }\n\n    .image_cont:hover .toolbox{\n        opacity: 1;\n    }\n\n    .selected_photo{\n        position: absolute;\n        width: 100%;\n        height: 3px;\n        background-color: #cecbcb;\n        top: -9px;\n    }\n\n  "]
    })
], UICarousel);

var _a, _b, _c;
//# sourceMappingURL=ui-carousel.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/ui/ui-document.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UIDocument; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var UIDocument = (function () {
    function UIDocument() {
        this.fileChange = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
    }
    UIDocument.prototype.ngOnInit = function () {
    };
    return UIDocument;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _a || Object)
], UIDocument.prototype, "fileChange", void 0);
UIDocument = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'ui-document',
        inputs: ['doc'],
        template: "\n        <div>\n            <div class='icon'></div>\n            <span class=\"label\">{{doc}}</span>\n\n        <div>\n    ",
        styles: ["\n        .icon{\n            width: 87px;\n            height: 55px;\n            background-image: url(assets/document.png);\n            background-size: contain;\n            margin-top: 10px;\n            background-repeat: no-repeat;\n            background-position: center;\n        }\n\n        .label{\n            font-size: 9pt;\n            padding: 0 3px;\n            text-align: center;\n            width: 87px;\n            display: block;\n        }\n    "]
    })
], UIDocument);

var _a;
//# sourceMappingURL=ui-document.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/ui/ui-input-line.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_suggestion_service__ = __webpack_require__("../../../../../src/app/service/suggestion.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_person_service__ = __webpack_require__("../../../../../src/app/service/person.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_session_service__ = __webpack_require__("../../../../../src/app/service/session.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__service_organisation_service__ = __webpack_require__("../../../../../src/app/service/organisation.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__entity_offer__ = __webpack_require__("../../../../../src/app/entity/offer.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__entity_person__ = __webpack_require__("../../../../../src/app/entity/person.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__entity_organisation__ = __webpack_require__("../../../../../src/app/entity/organisation.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UIInputLine; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var UIInputLine = (function () {
    function UIInputLine(_suggestionService, _personService, _sessionService, _organisationService, _hubService) {
        this._suggestionService = _suggestionService;
        this._personService = _personService;
        this._sessionService = _sessionService;
        this._organisationService = _organisationService;
        this._hubService = _hubService;
        this.type = "text";
        this.sgList = [];
        this.opacity = 1;
        this.onChange = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
    }
    UIInputLine.prototype.isClick = function (event) {
        if (this.queryTipe && this.queryTipe == "address") {
            var parent = event.currentTarget.parentElement;
            while (parent.className.indexOf('view-group') == -1 && parent.className !== null) {
                parent = parent.parentElement;
            }
            var field = parent.getElementsByTagName('ui-multiselect').item(0);
            if (field.style.getPropertyValue('visibility') == 'hidden') {
                field.style.setProperty('visibility', 'visible');
            }
            else if (field.style.getPropertyValue('visibility') == '') {
                field.style.setProperty('visibility', 'hidden');
            }
            var height = void 0;
            if (parent.getElementsByTagName('input').length > 0)
                height = parent.getElementsByTagName('input').length * 35;
            else
                height = (parent.getElementsByTagName('input').length - 1) * 35;
            if (parent.offsetHeight == 30) {
                //parent.style.setProperty('height', ""+(height+15)+'px');
                parent.style.setProperty('overflow', "visible");
            }
        }
    };
    UIInputLine.prototype.isClick1 = function (event) {
        console.log("fsdf");
        if (this.queryTipe && this.queryTipe == "address") {
            var parent = event.currentTarget.parentElement;
            while (parent.className.indexOf('view-group') == -1 && parent.className !== null) {
                parent = parent.parentElement;
            }
            var field = parent.getElementsByTagName('ui-multiselect').item(0);
            var inputs = field.getElementsByTagName('input');
            if (inputs.length < 1) {
                if (field.style.getPropertyValue('visibility') == '') {
                    field.style.setProperty('visibility', 'hidden');
                }
                var height = void 0;
                if (parent.getElementsByTagName('input').length > 0)
                    height = parent.getElementsByTagName('input').length * 35;
                else
                    height = (parent.getElementsByTagName('input').length - 1) * 35;
                if (parent.offsetHeight == 30) {
                    //parent.style.setProperty('height', ""+(height+15)+'px');
                    parent.style.setProperty('overflow', "visible");
                }
            }
        }
    };
    UIInputLine.prototype.ngOnInit = function () {
        if (this.value)
            this.opacity = 1;
        else
            this.opacity = 0;
        this.searchQuery = this.value;
    };
    UIInputLine.prototype.getOpacity = function () {
        return this.opacity;
    };
    UIInputLine.prototype.setOpacity = function () {
        this.opacity = 1;
    };
    UIInputLine.prototype.editOpacity = function (event) {
        if (this.queryTipe) {
            this.searchParamChanged(event);
        }
        if (event.target.value == "")
            this.opacity = 0;
        else if (!this.queryTipe) {
            if (event.keyCode == 13 && this.on_enter_save || !this.on_enter_save)
                this.onChange.emit(event.target.value);
        }
    };
    UIInputLine.prototype.ngOnChanges = function () {
        this.searchQuery = this.value;
    };
    UIInputLine.prototype.docClick = function () {
        this.sgList = [];
    };
    UIInputLine.prototype.searchParamChanged = function (e) {
        var _this = this;
        if (this.searchQuery && this.searchQuery.length > 0) {
            var sq = this.searchQuery.split(" ");
            var lp = sq.pop();
            var q = sq.join(" ");
            this.sgList = [];
            if (lp.length > 0) {
                if (this.queryTipe == "address") {
                    this._suggestionService.list(this.searchQuery).subscribe(function (sgs) {
                        sgs.forEach(function (e) {
                            _this.sgList.push(e);
                        });
                    });
                }
                else if (this.queryTipe == "person") {
                    this._personService.list(this._sessionService.getUser(), null, this.searchQuery).subscribe(function (sgs) {
                        sgs.forEach(function (e) {
                            _this.sgList.push(e);
                        });
                    });
                }
                else if (this.queryTipe == "organisation") {
                    this._organisationService.list(this.searchQuery).subscribe(function (sgs) {
                        sgs.forEach(function (e) {
                            _this.sgList.push(e);
                        });
                    });
                }
            }
        }
        else if (this.queryTipe == "address") {
            var nullAddress = [
                { type: 'KRAY', value: null },
                { type: 'CITY', value: null },
                { type: 'DISTRICT', value: null },
                { type: 'STREET', value: null },
                { type: 'HOUSE', value: null },
                { type: 'HOUSING', value: null },
                { type: 'FLAT', value: null }
            ];
            this.onChange.emit(nullAddress);
            var parent = event.target.parentElement.parentElement.parentElement;
            parent.style.setProperty('height', "" + (35) + 'px');
            var field = parent.getElementsByTagName('ui-multiselect').item(0);
            field.style.setProperty('visibility', 'hidden');
            parent.style.setProperty('overflow', "visible");
        }
    };
    UIInputLine.prototype.select = function (itm, event) {
        this.searchQuery = itm;
        if (this.queryTipe && this.queryTipe == "address") {
            this.isClick(event);
            var fullAddress = __WEBPACK_IMPORTED_MODULE_6__entity_offer__["a" /* Offer */].parseAddress(itm);
            this.onChange.emit(fullAddress.reverse());
            var parent = event.target.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement;
            var height = fullAddress.length * 36;
            parent.style.setProperty('height', "" + (height + 56) + 'px');
        }
        else if (this.queryTipe && this.queryTipe == "person") {
            this.onChange.emit(itm);
        }
        else if (this.queryTipe && this.queryTipe == "organisation") {
            this.onChange.emit(itm);
        }
        this.sgList = [];
    };
    UIInputLine.prototype.addPerson = function () {
        var _this = this;
        var tab_sys = this._hubService.getProperty('tab_sys');
        this.person = new __WEBPACK_IMPORTED_MODULE_7__entity_person__["a" /* Person */]();
        tab_sys.addTab('person', { person: this.person });
        setTimeout(function () {
            _this.onChange.emit(_this.person);
        }, 10000);
    };
    UIInputLine.prototype.addOrganisation = function () {
        var _this = this;
        var tab_sys = this._hubService.getProperty('tab_sys');
        this.organisation = new __WEBPACK_IMPORTED_MODULE_8__entity_organisation__["a" /* Organisation */]();
        tab_sys.addTab('organisation', { organisation: this.organisation });
        setTimeout(function () {
            _this.onChange.emit(_this.organisation);
        }, 10000);
    };
    return UIInputLine;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["i" /* Input */])(),
    __metadata("design:type", String)
], UIInputLine.prototype, "value", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _a || Object)
], UIInputLine.prototype, "onChange", void 0);
UIInputLine = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'ui-input-line',
        inputs: ['placeholder', 'width', 'queryTipe', 'type', 'on_enter_save', 'input_style', 'label_style'],
        template: "\n        <div class=\"ui-input-line\">\n            <span class=\"label\" [style.opacity]=\"getOpacity()\" [ngStyle]=\"label_style\">{{placeholder}}</span>\n            <input type=\"{{type}}\" value = \"{{ value }}\" style = \"width: {{width}}\" class = \"input_line\" [(ngModel)]=\"searchQuery\"\n                (keydown) = \"setOpacity()\" (keyup) = \"editOpacity($event)\" placeholder = \"{{placeholder}}\"\n                (click) =\"isClick1($event)\" [class.short_field]=\"queryTipe\" [ngStyle]=\"input_style\"\n            >\n\n            <div class=\"suggestions\" (document:click)=\"docClick()\" *ngIf=\"sgList.length > 0 && queryTipe \">\n                <ul *ngFor=\"let item of sgList\" >\n                    <li >\n                        <a (click)=\"select(item, $event)\" *ngIf=\"this.queryTipe == 'address'\">{{item}}</a>\n                        <a (click)=\"select(item, $event)\" *ngIf=\"this.queryTipe == 'organisation'\">{{item.name}}</a>\n                        <a (click)=\"select(item, $event)\" *ngIf=\"this.queryTipe == 'person'\">{{item.name}}</a>\n                    </li>\n                </ul>\n                <div class=\"add_button\" (click)=\"addPerson()\" *ngIf=\"this.queryTipe == 'person'\">\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u043A\u043E\u043D\u0442\u0430\u043A\u0442\u044B</div>\n                <div class=\"add_button\" (click)=\"addOrganisation()\" *ngIf=\"this.queryTipe == 'organisation'\">\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u043A\u043E\u043D\u0442\u0440\u0430\u0433\u0435\u043D\u0442\u044B</div>\n            </div>\n        </div>\n    ",
        styles: ["\n        .short_field{\n            width: 250px;\n        }\n        .input_line{\n            border: 0;\n            margin-top: 0px;\n            height: 19px;\n            color: dimgrey;\n            text-overflow: ellipsis;\n            background-color: transparent;\n        }\n        .label{\n            font-size: 8pt;\n        }\n\n        .ui-input-line {\n            display: flex;\n            flex-direction: column;\n            height: inherit;\n            margin-top: -3px;\n        }\n\n        .option_field{\n            height: 25px;\n            width: 100%;\n            display: flex;\n            justify-content: space-between;\n            border-bottom: 1px solid silver;\n            margin-bottom: 10px;\n            align-items: center;\n        }\n        .suggestions{\n            position: absolute;\n            z-index: 100;\n            background-color: white;\n            left: -57px;\n            width: 370px;\n            margin-top: 35px;\n            border-bottom: 1px solid silver;\n            font-size: 10pt;\n        }\n\n        .suggestions ul{\n            list-style-type: none;\n            padding: 0 15px;\n            text-align: left;\n            margin: 0 0 10px 0;\n        }\n\n        .suggestions ul li{\n            cursor: default;\n        }\n        .suggestions  ul:hover {\n            background: #f7f7f7;\n            cursor: default;\n        }\n        .finder{\n            height: 28px;\n            position: relative;\n            left: -45px;\n            width: 125%;\n            background-color: rgb(247, 247, 247);\n            border: 1px solid rgba(204, 204, 204, 0.47);\n            font-size: 10pt;\n        }\n\n        .add_button{\n            height: 30px;\n            width: calc(100% - 30px);\n            background-color: #0b9700;\n            color: white;\n            line-height: 30px;\n            text-align: center;\n            margin: auto;\n            margin-bottom: 10px;\n        }\n    "]
    }),
    __metadata("design:paramtypes", [typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__service_suggestion_service__["a" /* SuggestionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_suggestion_service__["a" /* SuggestionService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_2__service_person_service__["a" /* PersonService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__service_person_service__["a" /* PersonService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_3__service_session_service__["a" /* SessionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__service_session_service__["a" /* SessionService */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_4__service_organisation_service__["a" /* OrganisationService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__service_organisation_service__["a" /* OrganisationService */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_5__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__service_hub_service__["a" /* HubService */]) === "function" && _f || Object])
], UIInputLine);

var _a, _b, _c, _d, _e, _f;
//# sourceMappingURL=ui-input-line.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/ui/ui-line-chart.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UILineChart; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

//import {google} from "./chart/ui-chart";
var UILineChart = (function () {
    function UILineChart(_elem) {
        this._elem = _elem;
        this.data = [];
    }
    UILineChart.prototype.ngOnChanges = function () {
        if (!this.container) {
            this.container = this._elem.nativeElement.querySelector('.ui-line-chart');
        }
        this.draw();
    };
    UILineChart.prototype.draw = function () {
        // Create the data table.
        //var data = google.visualization.arrayToDataTable(this.data);
        // Set chart options
        var options = {
            title: this.title,
            //curveType: 'function',
            legend: { position: 'none' },
            height: 272,
            hAxis: {
                baseline: 0,
                format: '#'
            },
            vAxis: {
                baseline: 0,
                format: '#'
            }
        };
        //var chart = new google.visualization.LineChart(this.container);
        //chart.draw(data, options);
    };
    return UILineChart;
}());
UILineChart = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'ui-line-chart',
        inputs: ['title', 'data'],
        template: "\n    <div class=\"ui-line-chart\">\n    </div>\n  ",
        styles: ["\n    .class {\n\n    }\n  "]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["g" /* ElementRef */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["g" /* ElementRef */]) === "function" && _a || Object])
], UILineChart);

var _a;
//# sourceMappingURL=ui-line-chart.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/ui/ui-multi-view.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UIMultiView; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var UIMultiView = (function () {
    function UIMultiView() {
    }
    UIMultiView.prototype.ngOnInit = function () {
        var temp = [];
        for (var _i = 0, _a = this.values; _i < _a.length; _i++) {
            var val = _a[_i];
            if (val.value)
                temp.push(val);
        }
        this.values = temp;
        if (this.options) {
            for (var _b = 0, _c = this.options; _b < _c.length; _b++) {
                var opt = _c[_b];
                if (opt.value == this.values[0].type) {
                    this.type = opt.label;
                }
            }
        }
    };
    UIMultiView.prototype.ngOnChanges = function () {
        this.ngOnInit();
    };
    return UIMultiView;
}());
UIMultiView = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'ui-multi-view',
        inputs: ['values', 'options'],
        template: "\n            <div style= \"margin-top: -6px;\"><div class=\"total\" *ngFor=\"let val of values\">\n                <span *ngIf=\"val.value && !options\">{{ val.type }}</span>\n                <span *ngIf=\"val.value && options\">{{ type }}</span>\n\n            </div></div>\n    ",
        styles: ["\n\n        .total{\n            display: flex;\n            flex-direction: column;\n            height: 32px;\n            margin-right: 15px;\n            color: dimgrey;\n            float: left;\n            align-items: flex-end;\n        }\n\n        div>span:last-child{\n            margin-right: 0;\n            font-size: 9pt;\n            margin-top: -3px;\n        }\n\n        .total span:first-child{\n            font-size: 8pt;\n            color: #c0c0c0;\n            display: block;\n        }\n\n        .total:last-child{\n            margin-right: 0;\n        }\n        .empty{\n            margin-top: 10px !important;\n            font-size: 10pt !important;\n        }\n    "]
    })
], UIMultiView);

//# sourceMappingURL=ui-multi-view.js.map

/***/ }),

/***/ "../../../../../src/app/component/ui/ui-multiselect.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UIMultiSelect; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var UIMultiSelect = (function () {
    function UIMultiSelect() {
        this.onChange = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
    }
    UIMultiSelect.prototype.ngOnInit = function () {
        for (var i = 0; i < this.values.length; ++i) {
            if (!this.values[i].value || this.values[i].value == "" || this.values[i].value === undefined || this.values[i].value.length == 0) {
                this.values.splice(i, 1);
                i--;
            }
        }
        if (this.values.length == 1 && this.values[0].value === undefined) {
            this.values.pop();
        }
    };
    UIMultiSelect.prototype.ngOnChanges = function () {
        this.ngOnInit();
    };
    UIMultiSelect.prototype.ngDoCheck = function () {
        this.ngOnInit();
    };
    UIMultiSelect.prototype.add_field = function (event) {
        var parent = event.target.parentElement.parentElement.parentElement;
        var height = parent.getElementsByClassName('input_field').length * 36;
        parent.style.setProperty('height', "" + (height + 90) + 'px');
        this.values.push({ type: this.options[0].value, value: ' ' });
    };
    //Array.prototype.forEach.call(document.body.querySelectorAll("*[data-mask]"), applyDataMask);
    UIMultiSelect.prototype.selectValue = function (event, i) {
        //event.selected.value + '&' +
    };
    UIMultiSelect.prototype.changed = function (event, mas, i) {
        var field = event.target;
        if (this.masks[i] != '') {
            var mask = this.masks[i].split('');
            var oldStart = field.selectionStart;
            var oldEnd = field.selectionEnd;
            field.value = this.applyMask(this.stripMask(field.value), mask);
            field.selectionStart = oldStart;
            field.selectionEnd = oldEnd;
            field.setSelectionRange(field.value.length, field.value.length);
            field.focus();
            //this.values[i] = +field.value;
        }
        this.values[this.values.indexOf(mas)].value = field.value;
        this.onChange.emit(this.values);
    };
    UIMultiSelect.prototype.applyMask = function (data, mask) {
        return mask.map(function (char) {
            if (char != '_')
                return char;
            if (data.length == 0)
                return char;
            return data.shift();
        }).join('');
    };
    UIMultiSelect.prototype.stripMask = function (maskedData) {
        function isDigit(char) {
            return /\d/.test(char);
        }
        return maskedData.split('').filter(isDigit);
    };
    UIMultiSelect.prototype.delete = function (event, i) {
        if (i >= 0) {
            this.values[i].value = null;
            this.onChange.emit(this.values);
            this.values.splice(i, 1);
        }
        this.resize_min(event);
    };
    UIMultiSelect.prototype.getValue = function (temp) {
        if (temp.indexOf(":") > -1)
            return temp.split(":")[1];
        else
            return temp;
    };
    UIMultiSelect.prototype.getPlaceholder = function (val) {
        return this.masks[0];
        //masks[values[i].split('.')[0]]
    };
    UIMultiSelect.prototype.resize_min = function (event) {
        var parent = event.currentTarget.parentElement.parentElement.parentElement.parentElement;
        ;
        var height = parent.getElementsByClassName('input_field').length * 35;
        var arrow = parent.getElementsByClassName('arrow').length;
        if (arrow > 0 && this.values.length == 0) {
            parent.getElementsByClassName('input_line').item(0).value = "";
            parent.style.setProperty('height', "" + (height) + 'px');
            var field = parent.getElementsByTagName('ui-multiselect').item(0);
            var inputs = field.getElementsByTagName('input');
            if (inputs.length == 1) {
                field.style.setProperty('visibility', 'hidden');
            }
        }
        else {
            parent.style.setProperty('height', "" + (height + 18) + 'px');
        }
        parent.style.setProperty('overflow', "visible");
    };
    UIMultiSelect.prototype.resize_max = function (event) {
        var parent = event.currentTarget.parentElement.parentElement.parentElement.parentElement;
        ;
        var height = parent.getElementsByClassName('input_field').length * 35;
        parent.style.setProperty('height', "" + (height + 18) + 'px');
        parent.style.setProperty('overflow', "visible");
    };
    return UIMultiSelect;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _a || Object)
], UIMultiSelect.prototype, "onChange", void 0);
UIMultiSelect = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'ui-multiselect',
        inputs: ['options', 'values', 'masks', 'width'],
        template: "\n        <div class=\"ui-multiselect\">\n            <div class=\"option_field\" *ngFor=\"let value of values; let i = index\" >\n                <ui-select class=\"value\" [style.width] = \"width\"\n                    [options] = \"options\"\n                    [value]=\"value.type\"\n                    [config] = \"{icon: 'select_arrow', drawArrow: false}\"\n                    (onChange)=\"value.type = $event.selected.value\">\n                </ui-select>\n                <input class = \"input_field\" type=\"text\" (keyup)=\"changed($event, value, i)\"\n                    placeholder=\"{{getPlaceholder(values[i])}}\" value=\"{{value.value}}\">\n                <div class=\"remove\" (click)=\"delete($event, i)\"></div>\n            </div>\n            <div class=\"add_button\" (click)=\"add_field($event)\" style=\"color: #3bb24b;\n                text-align: left;\n                cursor: pointer;\">\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C</div>\n        </div>\n    ",
        styles: ["\n        .remove{\n            background-image: url(assets/cross.png);\n            background-size: contain;\n            width: 15px;\n            height: 15px;\n        }\n\n        .input_field{\n            width: 130px;\n            border: 0;\n            color: #505050;\n        }\n        .label{\n            margin-right: 30px;\n        }\n\n        .ui-multiselect {\n            position: relative;\n        }\n\n        .option_field{\n            height: 25px;\n            width: 100%;\n            display: flex;\n            justify-content: space-between;\n            border-bottom: 1px solid silver;\n            margin-bottom: 10px;\n        align-items: center;\n        }\n\n        .value{\n            width: 40%;\n            height: 20px;\n            padding-right: 10px;\n            border-right: 1px solid silver;\n        }\n\n        .dropdown-menu {\n            position: absolute;\n            top: 100%;\n            left: 0;\n            z-index: 1000;\n            float: left;\n            min-width: 160px;\n            padding: 5px 0;\n            margin: 5px 0 0;\n            font-size: 14px;\n            list-style: none;\n            //background-color: #fff;\n            //border: 1px solid #ccc;\n            //border: 1px solid rgba(0,0,0,0.15);\n            background-clip: padding-box;\n        }\n\n        .dropdown-menu.pull-right {\n            right: 0;\n            left: auto;\n            width: 345px;\n        }\n\n        .dropdown-toggle {\n            display: inline-block;\n            width: 100%;\n            height: 100%;\n            max-width: 200px;\n            white-space: nowrap;\n            overflow: hidden;\n            text-align: right;\n            background: #fff;\n            cursor: pointer;\n            margin-top: 5px;\n        }\n\n        .dropdown-menu>li>label {\n            display: block;\n            padding: 3px 20px;\n            clear: both;\n            font-weight: 400;\n            line-height: 1.42857143;\n            color: #333;\n            white-space: nowrap;\n        }\n\n        .dropdown-menu>li:hover {\n            background-color: #efefef;\n        }\n\n        .dropdown-menu>li.selected>label {\n            background-color: #3366CC;\n            color: #fff;\n        }\n\n        .inline {\n            width: 120px;\n            display: inline-block;\n        }\n\n        .inline > .dropdown-toggle {\n            font-weight: 200;\n            font-size: 14px;\n        }\n\n        .arrow{\n            background-image: url(assets/arrow.png);\n            width: 23px;\n            height: 15px;\n            background-size: cover;\n            margin: 0 10px;\n            background-position: center;\n            flex: 0 0 23px;\n            position: absolute;\n            top: 5px;\n            right: -10px;\n        }\n    "]
    })
], UIMultiSelect);

var _a;
//# sourceMappingURL=ui-multiselect.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/ui/ui-pie-chart.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UIPieChart; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var UIPieChart = (function () {
    function UIPieChart(_elem) {
        this._elem = _elem;
        this.data = [];
    }
    UIPieChart.prototype.ngOnChanges = function () {
        if (!this.container) {
            this.container = this._elem.nativeElement.querySelector('.ui-pie-chart');
        }
        this.draw();
    };
    UIPieChart.prototype.draw = function () {
        // Create the data table.
        //var data = google.visualization.arrayToDataTable(this.data);
        var options = {
            title: this.title,
            is3D: true,
            height: 500,
            legend: {
                position: 'labeled',
                labeledValueText: 'value'
            }
        };
        //var chart = new google.visualization.PieChart(this.container);
        //chart.draw(data, options);
    };
    return UIPieChart;
}());
UIPieChart = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'ui-pie-chart',
        inputs: ['title', 'data'],
        template: "\n    <div class=\"ui-pie-chart\">\n    </div>\n  ",
        styles: ["\n    .class { \n\n    }\n  "]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["g" /* ElementRef */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["g" /* ElementRef */]) === "function" && _a || Object])
], UIPieChart);

var _a;
//# sourceMappingURL=ui-pie-chart.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/ui/ui-select.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UISelect; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var UISelect = (function () {
    function UISelect() {
        this.hidden = true;
        this.onChange = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
    }
    UISelect.prototype.ngOnInit = function () {
    };
    UISelect.prototype.toggleHidden = function (e) {
        this.hidden = !this.hidden;
    };
    UISelect.prototype.clickedOutside = function () {
        this.hidden = true;
    };
    UISelect.prototype.select = function (opt) {
        this.value = opt.value;
        this.selected = opt;
        this.hidden = true;
        this.onChange.emit({ selected: opt });
    };
    UISelect.prototype.ngOnChanges = function () {
        for (var _i = 0, _a = this.options; _i < _a.length; _i++) {
            var o = _a[_i];
            if (this.value == o.value) {
                this.selected = o;
            }
        }
        if (this.selected == null && this.options.length > 0) {
            this.selected = this.options[0];
        }
    };
    return UISelect;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _a || Object)
], UISelect.prototype, "onChange", void 0);
UISelect = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'ui-select',
        inputs: ['options', 'config', 'value'],
        template: "\n        <div class=\"ui-select\">\n            <div class=\"dropdown-toggle\"\n                (click)=\"toggleHidden($event)\"\n                (offClick)=\"clickedOutside($event)\"\n            >\n                <span *ngIf=\"config?.icon\" class=\"{{ config?.icon }}\"></span>\n                {{ selected?.label }}\n                <span *ngIf=\"config?.drawArrow\" class=\"icon-triangle-down\"></span>\n            </div>\n            <ul class=\"dropdown-menu pull-right\" [hidden]=\"hidden\">\n                <li *ngFor=\"let opt of options\"\n                    [class.bold]=\"opt.bold == true\"\n                    [class.selected]=\"opt.value == selected?.value\"\n                    (click)=\"select(opt)\"\n                >\n                    <label><span *ngIf=\"opt?.icon\" class=\"{{ opt?.icon }}\"></span> {{ opt.label }} </label>\n                </li>\n            </ul>\n        </div>\n    ",
        styles: ["\n\n        .ui-select {\n            position: relative;\n        }\n\n        .dropdown-menu {\n            position: absolute;\n            top: 100%;\n            left: 0;\n            z-index: 1000;\n            float: left;\n            min-width: 160px;\n            padding: 5px 0;\n            margin: 2px 0 0;\n            font-size: 14px;\n            list-style: none;\n            background-color: #fff;\n            border: 1px solid #ccc;\n            border: 1px solid rgba(0,0,0,0.15);\n            background-clip: padding-box;\n        }\n\n        .dropdown-menu.pull-right {\n            right: 0;\n            left: auto;\n        }\n\n        .dropdown-toggle {\n            display: inline-block;\n            width: 100%;\n            height: 100%;\n\n            max-width: 200px;\n            white-space: nowrap;\n            overflow: hidden;\n\n            text-align: right;\n\n            background: #fff;\n            cursor: pointer;\n            color: #78797a;\n            font-size: 11px;\n        }\n\n        .bold>label {\n            font-weight: 600 !important;\n        }\n\n        .dropdown-menu>li>label {\n            display: block;\n            padding: 3px 20px;\n            clear: both;\n            font-weight: 400;\n            line-height: 1.42857143;\n            color: #333;\n            white-space: nowrap;\n            font-size: 12px;\n        }\n\n        .dropdown-menu>li:hover {\n            background-color: #efefef;\n        }\n\n        .dropdown-menu>li.selected>label {\n            background-color: #3366CC;\n            color: #fff;\n        }\n\n        .inline {\n            width: 120px;\n            display: inline-block;\n        }\n\n        .inline > .dropdown-toggle {\n            font-weight: 200;\n            font-size: 14px;\n        }\n\n    "]
    }),
    __metadata("design:paramtypes", [])
], UISelect);

var _a;
//# sourceMappingURL=ui-select.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/ui/ui-slidingMenu.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UISlidingMenu; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var UISlidingMenu = (function () {
    function UISlidingMenu() {
        this.hidden = true;
        this.onChange = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
    }
    UISlidingMenu.prototype.ngOnInit = function () {
    };
    UISlidingMenu.prototype.toggleHidden = function (e) {
        this.hidden = !this.hidden;
        var parent = event.target.parentElement.parentElement.parentElement.parentElement;
        if (parent.offsetHeight == 30 || !parent.style.height) {
            parent.style.setProperty('height', '' + (this.options.length * 26 + 30) + 'px');
        }
        else
            parent.style.height = '';
    };
    UISlidingMenu.prototype.clickedOutside = function () {
        //this.closePanel();
        //this.hidden = true;
    };
    UISlidingMenu.prototype.select = function (opt, event) {
        this.value = opt.value;
        this.selected = opt;
        this.hidden = true;
        this.onChange.emit({ selected: opt });
        var parent = event.target.parentElement.parentElement.parentElement.parentElement.parentElement;
        if (parent.offsetHeight == 30 || !parent.style.height) {
            parent.style.setProperty('height', '80px');
        }
        else
            parent.style.height = '';
    };
    UISlidingMenu.prototype.ngOnChanges = function () {
        var con = true;
        for (var _i = 0, _a = this.options; _i < _a.length; _i++) {
            var o = _a[_i];
            if (this.value == o.value) {
                this.selected = o;
                con = false;
            }
        }
        if ((this.selected == null && this.options.length > 0) || con) {
            this.selected = this.options[0];
        }
    };
    return UISlidingMenu;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _a || Object)
], UISlidingMenu.prototype, "onChange", void 0);
UISlidingMenu = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'ui-slidingMenu',
        inputs: ['options', 'config', 'value', 'isUndependent', 'toggle_style'],
        template: "\n        <div class=\"ui-select\">\n            <div class=\"dropdown-toggle\" [ngStyle]=\"toggle_style\"\n\n            >\n                <span *ngIf=\"config?.icon\" class=\"{{ config?.icon }}\"></span>\n                <span class = 'label'>{{ selected?.label }}</span>\n                <div class='arrow' (click)=\"toggleHidden($event)\"\n                (offClick)=\"clickedOutside($event)\"></div>\n                <span *ngIf=\"config?.drawArrow\" class=\"icon-triangle-down\"></span>\n            </div>\n            <ul class=\"dropdown-menu pull-right\" [hidden]=\"hidden\">\n                <li *ngFor=\"let opt of options\"\n                    [class.selected]=\"opt.value == selected?.value\"\n                    (click)=\"select(opt, $event)\"\n                >\n                    <label><span *ngIf=\"opt?.icon\" class=\"{{ opt?.icon }}\"></span> {{ opt.label }} </label>\n                </li>\n            </ul>\n        </div>\n    ",
        styles: ["\n        .label{\n            margin-right: 30px;\n            width: 143px;\n            display: inline-block;\n            overflow: hidden;\n            text-overflow: ellipsis;\n        }\n\n        .ui-select {\n            position: relative;\n        }\n\n        .dropdown-menu {\n            position: absolute;\n            top: 100%;\n            left: 0;\n            z-index: 1000;\n            float: left;\n            min-width: 160px;\n            padding: 5px 0;\n            margin: 5px 0 0;\n            font-size: 14px;\n            list-style: none;\n            background-clip: padding-box;\n        }\n\n        .dropdown-menu.pull-right {\n            right: 0;\n            left: auto;\n            width: 345px;\n        }\n\n        .dropdown-toggle {\n            display: inline-block;\n            width: 100%;\n            height: 100%;\n            max-width: 200px;\n            white-space: nowrap;\n            overflow: hidden;\n            text-align: right;\n            background: #fff;\n            cursor: pointer;\n        }\n\n        .dropdown-menu>li>label {\n            display: block;\n            padding: 3px 20px;\n            clear: both;\n            font-weight: 400;\n            line-height: 1.42857143;\n            color: #0575b5;\n            white-space: nowrap;\n        }\n\n        .dropdown-menu>li:hover {\n            background-color: #efefef;\n        }\n\n        .dropdown-menu>li.selected>label {\n            background-color: #3366CC;\n            color: #fff;\n        }\n\n        .inline {\n            width: 120px;\n            display: inline-block;\n        }\n\n        .inline > .dropdown-toggle {\n            font-weight: 200;\n            font-size: 14px;\n        }\n\n        .arrow{\n            background-image: url(assets/arrow.png);\n            width: 18px;\n            height: 10px;\n            background-size: cover;\n            margin: 0 10px;\n            background-position: center;\n            flex: 0 0 23px;\n            position: absolute;\n            top: 5px;\n            right: -10px;\n        }\n    "]
    }),
    __metadata("design:paramtypes", [])
], UISlidingMenu);

var _a;
//# sourceMappingURL=ui-slidingMenu.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/ui/ui-switch-button.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UISwitchButton; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var UISwitchButton = (function () {
    function UISwitchButton() {
        this.value = false;
        this.newValue = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
    }
    UISwitchButton.prototype.ngOnInit = function () {
    };
    UISwitchButton.prototype.ngOnChanges = function () {
    };
    UISwitchButton.prototype.reverse = function () {
        this.value = !this.value;
        this.newValue.emit(this.value);
    };
    return UISwitchButton;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _a || Object)
], UISwitchButton.prototype, "newValue", void 0);
UISwitchButton = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'ui-switch-button',
        inputs: ['value'],
        template: "\n        <div class=\"ui-switch\" (click)=\"reverse()\" [class.on]='value'>\n            <div [class.reverse]='value'>   </div>\n        </div>\n\n    ",
        styles: ["\n        .ui-switch{\n            width: 41px;\n            height: 20px;\n            background-color: silver;\n            border-radius: 20px;\n            cursor: pointer;\n            transition: all 0.5s;\n        }\n        \n        .ui-switch > div{\n            width: 17px;\n            height: 17px;\n            background-color: white;\n            border-radius: 20px;\n            position: relative;\n            top: 1px;\n            transform: translate(10%, 0);\n            transition: all 0.5s;\n        }\n\n        .ui-switch > .reverse{\n            position: relative;\n            transform: translate(133%, 0);\n        }\n        .on{\n            background-color: #3d9be9;\n            transition: all 0.5s;\n        }\n    "]
    })
], UISwitchButton);

var _a;
//# sourceMappingURL=ui-switch-button.js.map

/***/ }),

/***/ "../../../../../src/app/component/ui/ui-tab.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UITab; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var UITab = (function () {
    function UITab() {
        this.active = false;
        this.tabSelect = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
    }
    UITab.prototype.selectTab = function () {
        this.tabSelect.emit({ bla: "bla" });
        this.active = true;
    };
    return UITab;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _a || Object)
], UITab.prototype, "tabSelect", void 0);
UITab = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'ui-tab',
        inputs: [
            'title',
            'active'
        ],
        styles: [""],
        template: "\n        <div [hidden]=\"!active\" style=\"position: relative;\n    overflow: scroll;\n    height: calc(100% - 114px);\">\n            <ng-content></ng-content>\n        </div>\n    "
    })
], UITab);

var _a;
//# sourceMappingURL=ui-tab.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/ui/ui-tabs.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ui_tab_component__ = __webpack_require__("../../../../../src/app/component/ui/ui-tab.component.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UITabs; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var UITabs = (function () {
    function UITabs() {
        var _this = this;
        this.iconUrls = [];
        this.active_color = '#1061c4';
        this.currentUrl = [];
        this.color = '#3d9be9';
        setTimeout(function () {
            if (_this.iconUrls) {
                for (var i = 1; i < _this.iconUrls.length; ++i) {
                    _this.currentUrl.push(_this.iconUrls[i]);
                }
            }
        }, 100);
    }
    UITabs.prototype.ngAfterContentInit = function () {
        if (!_hasActiveTab(this.tabs)) {
            this.selectTab(this.tabs.first);
        }
        function _hasActiveTab(tabs) {
            var activeTabs = tabs.filter(function (tab) { return tab.active; });
            return Boolean(activeTabs.length);
        }
    };
    UITabs.prototype.selectTab = function (tab) {
        this._deactivateAllTabs(this.tabs.toArray());
        tab.selectTab();
    };
    UITabs.prototype._deactivateAllTabs = function (tabs) {
        tabs.forEach(function (tab) { return tab.active = false; });
    };
    UITabs.prototype.getColor = function (act) {
        if (act)
            return this.active_color;
        else
            return '#bcbfc1';
    };
    return UITabs;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_3" /* ContentChildren */])(__WEBPACK_IMPORTED_MODULE_1__ui_tab_component__["a" /* UITab */]),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["_4" /* QueryList */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["_4" /* QueryList */]) === "function" && _a || Object)
], UITabs.prototype, "tabs", void 0);
UITabs = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'ui-tabs',
        inputs: ['headerMode', 'iconUrls', 'active_color', 'color'],
        template: "\n        <div class=\"head\" [style.border-bottom-color] = \"color\">\n            <div class=\"tabs\" [class.align-left]=\"headerMode\">\n                <div *ngFor=\"let tab of tabs; let i = index;\" class=\"tab-header\"\n                    (click)=\"selectTab(tab)\" [class.active]=\"tab.active\" [style.background-color]=\"getColor(tab.active)\" [style.border-color]=\"getColor(tab.active)\"\n                    [style.background-image]=\"'url(' + iconUrls[i] + ')'\"\n                 >\n                    {{tab.title}}\n                </div>\n            </div>\n        </div>\n        <ng-content></ng-content>\n    ",
        styles: ["\n        .head{\n            height: 110px;\n            display: flex;\n            border-bottom: 4px solid;\n        }\n        .tabs {\n            display: flex;\n            margin-top: 15px;\n            height: 70px;\n            width: 170px;\n            justify-content: center;\n            margin-left: 50px;\n        }\n        .tabs.align-left {\n            justify-content: space-between;\n        }\n        .tab-header {\n            height: 50px;\n            width: 50px;\n            border-radius: 40px;\n            cursor: pointer;\n            font-size: 11px;\n            line-height: 120px;\n            background-size: cover;\n            background-color: #bcbfc1;\n            color: #807982;\n            border: 2px solid #bcbfc1;\n            text-align: center;\n        }\n        .tab-header:first-child {\n            //width: 80px;\n        }\n\n        .tab-header:hover {\n            border-color: #1061c4 !important;\n            background-color: #1061c4 !important;\n            color: #1061c4 !important;\n        }\n\n        .tab-header > span {\n            color: #aaa;\n            margin-top: 40px;\n            margin-left: -15px;\n            display: block;\n        }\n\n        .tab-header.active {\n\n            color: #157ad3;\n        }\n\n        .tab-header.active > a {\n            color: #157ad3;\n        }\n        .tab-header.active::after {\n            /*content: '';\n            position: absolute;\n            left: 0;\n            top: 26px;\n            width: 80%;\n            margin-left: 10%;\n            height: 2px;\n            background-color: #157ad3;/*\n        }\n  "]
    }),
    __metadata("design:paramtypes", [])
], UITabs);

var _a;
//# sourceMappingURL=ui-tabs.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/ui/ui-tag-block.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UITagBlock; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var UITagBlock = (function () {
    function UITagBlock() {
        this.tags = [
            { id: 1, color: 'rgb(253, 123, 126)', selected_color: 'rgb(203, 73, 76)' },
            { id: 2, color: 'rgb(254, 188, 70)', selected_color: 'rgb(204, 138, 20)' },
            { id: 3, color: 'rgb(244, 229, 77)', selected_color: 'rgb(194, 179, 27)' },
            { id: 4, color: 'rgb(180, 224, 66)', selected_color: 'rgb(130, 174, 16)' },
            { id: 5, color: 'rgb(131, 201, 252)', selected_color: 'rgb(81, 151, 202)' },
            { id: 6, color: 'rgb(228, 166, 252)', selected_color: 'rgb(178, 116, 202)' },
            { id: 7, color: 'rgb(200, 200, 200)', selected_color: 'rgb(150, 150, 150)' }
        ];
        this.valueChange = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
    }
    UITagBlock.prototype.ngOnInit = function () {
        for (var i = 0; i < this.tags.length; i++) {
            if (this.tags[i].id == this.value) {
                this.selected = this.tags[i];
                return;
            }
        }
    };
    UITagBlock.prototype.getBorderColor = function (tag) {
        var val = 'rgb(255,255,255)';
        if (this.selected == tag) {
            val = tag.selected_color;
        }
        return val;
    };
    UITagBlock.prototype.select = function (tag) {
        var val = null;
        if (this.selected == tag) {
            this.selected = null;
        }
        else {
            this.selected = tag;
            val = tag.id;
        }
        this.valueChange.emit({ value: val }); // из за этого эмита не срабатывает [class.selected]="v === value"
    };
    return UITagBlock;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _a || Object)
], UITagBlock.prototype, "valueChange", void 0);
UITagBlock = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'ui-tag-block',
        inputs: ['value'],
        template: "\n    <div class=\"ui-tag-block\">\n      <div *ngFor=\"let tag of tags\" class=\"tag\" \n        [style.background-color]=\"tag.color\"\n        [style.border-color]=\"getBorderColor(tag)\"\n        (click)=\"select(tag)\"\n      >\n      </div>\n    </div>\n  ",
        styles: ["\n    .ui-tag-block {\n      overflow: hidden;\n    }\n    .tag {\n      height: 14px;\n      width: 14px;\n      border-radius: 14px;\n      margin-right: 5px;\n      float: left;\n      border: 2px solid #fff;\n    }\n  "]
    })
], UITagBlock);

var _a;
//# sourceMappingURL=ui-tag-block.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/ui/ui-tag.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UITag; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var UITag = (function () {
    function UITag() {
        this.tags = [
            { id: 1, color: 'rgb(253, 123, 126)', selected_color: 'rgb(203, 73, 76)' },
            { id: 2, color: 'rgb(254, 188, 70)', selected_color: 'rgb(204, 138, 20)' },
            { id: 3, color: 'rgb(244, 229, 77)', selected_color: 'rgb(194, 179, 27)' },
            { id: 4, color: 'rgb(180, 224, 66)', selected_color: 'rgb(130, 174, 16)' },
            { id: 5, color: 'rgb(131, 201, 252)', selected_color: 'rgb(81, 151, 202)' },
            { id: 6, color: 'rgb(228, 166, 252)', selected_color: 'rgb(178, 116, 202)' },
            { id: 7, color: 'rgb(200, 200, 200)', selected_color: 'rgb(150, 150, 150)' }
        ];
    }
    UITag.prototype.getColor = function (id) {
        for (var i = 0; i < this.tags.length; i++) {
            if (this.tags[i].id == id) {
                return this.tags[i].color;
            }
        }
        return 'rgba(255, 255, 255, 0)';
    };
    return UITag;
}());
UITag = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'ui-tag',
        inputs: ['value'],
        template: "\n    <div class=\"tag\" \n        [style.background-color]=\"getColor(value)\"\n    >\n    </div>\n  ",
        styles: ["\n    .tag {\n      height: 14px;\n      width: 14px;\n      border-radius: 14px;\n      margin-right: 5px;\n      float: left;\n      border: 0px solid #fff;\n    }\n  "]
    })
], UITag);

//# sourceMappingURL=ui-tag.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/ui/ui-upload-file.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_user_service__ = __webpack_require__("../../../../../src/app/service/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_upload_service__ = __webpack_require__("../../../../../src/app/service/upload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UIUploadFile; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var UIUploadFile = (function () {
    function UIUploadFile(_hubService, _userService, _uploadService) {
        this._hubService = _hubService;
        this._userService = _userService;
        this._uploadService = _uploadService;
        this.activeColor = 'green';
        this.baseColor = '#ccc';
        this.overlayColor = 'rgba(255,255,255,0.5)';
        this.type = 'image';
        this.dragging = false;
        this.loaded = false;
        this.imageLoaded = false;
        this.fileSrc = [];
        this.fileChange = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
        this.addNewFile = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]();
    }
    ;
    UIUploadFile.prototype.ngOnInit = function () {
        if (this.type == 'image') {
            this.format = 'image/*';
            this.pattern = /image-*/;
            this.multiple = true;
        }
        else if (this.type == 'document') {
            this.format = 'application/pdf, .doc, .docx';
            this.pattern = /(application\/pdf)|(application\/vnd\.openxmlformats-officedocument)/;
            this.multiple = false;
        }
    };
    UIUploadFile.prototype.handleDragEnter = function () {
        this.dragging = true;
    };
    UIUploadFile.prototype.handleDragLeave = function () {
        this.dragging = false;
    };
    UIUploadFile.prototype.handleDrop = function (e) {
        e.preventDefault();
        this.dragging = false;
        this.handleInputChange(e);
    };
    UIUploadFile.prototype.handleImageLoad = function () {
        this.imageLoaded = true;
        //this.iconColor = this.overlayColor;
    };
    UIUploadFile.prototype.handleInputChange = function (e) {
        var files = e.dataTransfer ? e.dataTransfer.files : e.target.files;
        var pattern = this.pattern;
        var reader = new FileReader();
        var type = this.type;
        var _uploadService = this._uploadService;
        var addNewFile = this.addNewFile;
        reader.onloadstart = (function (event) {
        });
        reader.onprogress = (function (event) {
        });
        reader.onloadend = (function (event) {
        });
        function readFile(index) {
            if (index >= files.length)
                return;
            var file = files[index];
            if (!file.type.match(pattern))
                return;
            reader.onload = (function (e) {
                if (type == 'image') {
                    _uploadService.uploadPhoto(null, [reader.result], "offers").subscribe(function (data) {
                        addNewFile.emit(data);
                    });
                }
                readFile(index + 1);
            });
            if (type == 'image')
                reader.readAsDataURL(file);
            else if (type == 'document')
                reader.readAsText(file);
        }
        readFile(0);
    };
    UIUploadFile.prototype._setActive = function () {
        if (this.fileSrc.length === 0) {
        }
    };
    UIUploadFile.prototype._setInactive = function () {
        if (this.fileSrc.length === 0) {
        }
    };
    UIUploadFile.prototype.remove = function (index) {
        //this.fileSrc.splice(index,1);
    };
    UIUploadFile.prototype.clk = function (e) {
        if (e.target.className == "load_buttom" || e.target.className == "image")
            e.preventDefault();
    };
    return UIUploadFile;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _a || Object)
], UIUploadFile.prototype, "fileChange", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["d" /* Output */])(),
    __metadata("design:type", typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["c" /* EventEmitter */]) === "function" && _b || Object)
], UIUploadFile.prototype, "addNewFile", void 0);
UIUploadFile = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'ui-upload-file',
        inputs: ['activeColor', 'baseColor', 'overlayColor', 'type'],
        template: "\n        <label class=\"ui-upload-file\" ondragover=\"return false;\"\n            [class.loaded]=\"loaded\"\n            [style.outlineColor]=\"dragging ? activeColor : baseColor\"\n            (dragenter)=\"handleDragEnter()\"\n            (dragleave)=\"handleDragLeave()\"\n            (drop)=\"handleDrop($event)\"\n            (click)=\"clk($event)\"\n        >\n\n            <span *ngIf=\"type=='image'\">\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0444\u043E\u0442\u043E</span>\n            <span *ngIf=\"type=='document'\"[style.font-size]=\"'9pt'\"></span>\n            <!--<div class=\"image_contain\" *ngIf=\"type=='image'\">\n                <div class='image' *ngFor=\"let image of fileSrc\" (click)=\"remove(image.index)\">\n                    <img  [src]=\"image.src\" (load)=\"handleImageLoad()\" [class.loaded]=\"imageLoaded\"/>\n                    <div style=\"height: 4px; background-color: #54b947; border-radius: 10px; position: absolute; bottom: 0; left: 0;\"\n                        [style.width]=\"image.load_pers\"\n                    ></div>\n                </div>\n            </div>-->\n            <div class=\"doc_contain\" *ngIf=\"type=='document'\">\n                <div class='document' *ngFor=\"let image of fileSrc\">\n                    <span style=\"position: relative;display: block;width: 100%;text-align: center;margin: 5px;\"\n                        >\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0444\u0430\u0439\u043B\u0430...\n                    </span>\n                    <progress\n                         [value]=\"image.load_pers\" max=\"300\"\n                    ></progress>\n                </div>\n            </div>\n            <input type=\"file\" name=\"file\" [accept]=\"format\" [multiple]=\"multiple\"\n                (change)=\"handleInputChange($event)\">\n        </label>\n    ",
        styles: ["\n        .ui-upload-file input {\n            display: none;\n        }\n\n        .ui-upload-file {\n            align-items: center;\n            background-color: #bdbdbd;\n            cursor: pointer;\n            display: flex;\n            flex-direction: column;\n            height: 100%;\n            justify-content: flex-start;\n            width: 100%;\n            transition: all 100ms ease-in;\n        }\n\n        .ui-upload-file img {\n            pointer-events: none;\n        }\n\n        .ui-upload-file span {\n            color: #fff;\n            font-size: 15pt;\n            position: absolute;\n            margin-top: 30px;\n        }\n\n        .ui-upload-file span:after {\n            content: \"+\";\n            font-size: 63px;\n            height: 35px;\n            line-height: 35px;\n            width: 35px;\n            display: block;\n            margin: 20px auto;\n        }\n\n        .ui-upload-file img {\n            opacity: 0;\n            max-height: 100%;\n            max-width: 100%;\n            transition: all 300ms ease-in;\n            z-index: -1;\n        }\n\n        .ui-upload-file img.loaded {\n            opacity: 1;\n        }\n\n        .image_contain{\n            width: calc(100% - 10px);\n            height: calc(100% - 75px);\n            display: flex;\n            flex-wrap: wrap;\n            justify-content: space-around;\n            align-items: center;\n        }\n\n        .image_contain>.image{\n            width: 175px;\n            height: 130px;\n            /* border: 2px solid silver; */\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            position: relative;\n        }\n        .image_contain>.image:hover{\n            transition: all 250ms linear;\n            background-color: rgba(107, 107, 107, 0.79);\n        }\n        .image_contain>.image:hover:before{\n            content: \"\u0423\u0434\u0430\u043B\u0438\u0442\u044C\";\n            color: white;\n            position: absolute;\n            font-size: 12pt;\n        }\n\n        .doc_contain{\n            width: calc(100% - 10px);\n            height: calc(100% - 10px);\n        }\n\n        .doc_contain>.document{\n            width: 100%;\n            height: 100%;\n        }\n\n        .doc_contain>.document>progress:not([value]){\n\n            background-image: url(assets/progress_bar.png);\n            background-color: #ff9900;\n        }\n\n        .doc_contain>.document>progress {\n\t        width: 355px;\n\t        height: 20px;\n            max-width: 100%;\n        \tdisplay: block;\n        \t-webkit-appearance: none;\n        \tborder: none;\n            margin-left: 2px;\n        }\n\n        .doc_contain>.document>progress::-webkit-progress-bar {\n            background: transparent;\n        }\n\n        .doc_contain>.document>progress::-webkit-progress-value {\n            background-image:\n                -webkit-linear-gradient(-45deg, transparent 33%, rgba(0, 0, 0, .1) 33%, rgba(0,0, 0, .1) 66%, transparent 66%),\n                -webkit-linear-gradient(top, rgba(255, 255, 255, .25), rgba(0, 0, 0, .25)),\n                -webkit-linear-gradient(left, #338c4e, #0dce00);\n            background-size: 35px 20px, 100% 100%, 100% 100%;\n            background-repeat: repeat-x;\n            -webkit-animation: animate-stripes 5s linear infinite;\n            animation: animate-stripes 5s linear infinite;\n        }\n\n        @-webkit-keyframes animate-stripes {\n            from { background-position: 0px 0px; }\n            to { background-position: -100px 0px; }\n        }\n\n        @keyframes animate-stripes {\n            from { background-position: 0px 0px; }\n            to { background-position: -100px 0px; }\n        }\n\n        .load_buttom{\n            width: 118px;\n            height: 30px;\n            background-color: #008cdb;\n            color: white;\n            line-height: 30px;\n            text-align: center;\n        }\n    "]
    }),
    __metadata("design:paramtypes", [typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__service_hub_service__["a" /* HubService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_1__service_user_service__["a" /* UserService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_user_service__["a" /* UserService */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_2__service_upload_service__["a" /* UploadService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__service_upload_service__["a" /* UploadService */]) === "function" && _e || Object])
], UIUploadFile);

var _a, _b, _c, _d, _e;
//# sourceMappingURL=ui-upload-file.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/ui/ui-view-line.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UIViewLine; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var UIViewLine = (function () {
    function UIViewLine() {
        this.opacity = 1;
    }
    UIViewLine.prototype.ngOnInit = function () {
        if (this.value)
            this.opacity = 1;
        else
            this.opacity = 0;
    };
    UIViewLine.prototype.ngOnChanges = function () {
    };
    return UIViewLine;
}());
UIViewLine = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'ui-view-line',
        inputs: ['placeholder', 'value'],
        template: "\n        <div class=\"ui-view-line\" [class.empty-ui]=\"value == ''\">\n            <span class=\"label\" *ngIf=\"value != ''\">{{placeholder}}</span>\n            <span class =\"value\" *ngIf=\"value != ''\">{{value}}</span>\n            <span class =\"emptyValue\" *ngIf=\"value == ''\">{{placeholder}}</span>\n            <span class =\"empty\" *ngIf=\"value == ''\">\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D</span>\n        </div>\n    ",
        styles: ["\n\n        .label{\n            font-size: 8pt;\n        }\n\n        .ui-view-line {\n            display: flex;\n            flex-direction: column;\n            width: 285;\n            height: 32px;\n            margin-top: -3px;\n        }\n\n        .value{\n            width: 100%;\n            text-align: left;\n            color: #696969;\n            font-size: 10pt;\n            height: 19px;\n        }\n\n        .empty-ui {\n            flex-direction: row;\n            justify-content: space-between;\n            width: 293px;\n        }\n\n        .emptyValue{\n            white-space: nowrap;\n            color: rgb(80, 80, 80);\n            margin-top: 8px;\n            font-size: 10pt;\n        }\n        .empty{\n            white-space: nowrap;\n            color: rgb(80, 80, 80);\n            margin-top: 8px;\n            font-size: 10pt;\n            margin-right: 10px;\n        }\n    "]
    })
], UIViewLine);

//# sourceMappingURL=ui-view-line.component.js.map

/***/ }),

/***/ "../../../../../src/app/component/ui/ui-view-value.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UIViewValue; });
/**
 * Created by Aleksandr on 23.11.16.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var UIViewValue = (function () {
    function UIViewValue() {
    }
    UIViewValue.prototype.ngOnInit = function () {
        for (var _i = 0, _a = this.options; _i < _a.length; _i++) {
            var o = _a[_i];
            if (this.value == o.value) {
                this.selected = o;
            }
        }
        if (this.selected == null && this.options.length > 0) {
            this.selected = this.options[0];
        }
    };
    UIViewValue.prototype.ngOnChanges = function () {
        this.ngOnInit();
    };
    UIViewValue.prototype.getStyle = function () {
        if (this.Style)
            return this.Style;
        else
            return "";
    };
    return UIViewValue;
}());
UIViewValue = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'ui-view-value',
        inputs: ['options', 'value', 'Style'],
        template: "\n        <div class=\"ui-view-value\" [ngStyle]=\"Style\">\n                {{ selected?.label }}\n        </div>\n    ",
        styles: ["\n        .ui-view-value{\n            width: 170px;\n            text-align: right;\n            color: #696969;\n            font-size: 10pt;\n            margin-top: 5px;\n            height: 19px;\n            text-overflow: ellipsis;\n            overflow: hidden;\n            white-space: nowrap;\n        }\n    "]
    })
], UIViewValue);

//# sourceMappingURL=ui-view-value.js.map

/***/ }),

/***/ "../../../../../src/app/entity/account.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Account; });
/**
 * Created by Aleksandr on 23.01.17.
 */
var Account = (function () {
    function Account() {
    }
    return Account;
}());

//# sourceMappingURL=account.js.map

/***/ }),

/***/ "../../../../../src/app/entity/offer.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__class_fullAddress__ = __webpack_require__("../../../../../src/app/class/fullAddress.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Offer; });

var Offer = (function () {
    function Offer() {
        // set default vals
        this.stateCode = 'raw';
        this.stageCode = 'contact';
        this.offerTypeCode = 'sale';
        this.typeCode = 'apartment';
        this.fullAddress = new __WEBPACK_IMPORTED_MODULE_0__class_fullAddress__["a" /* FullAddress */]();
    }
    Offer.getDigest = function (o) {
        var digest = [];
        digest.push('<strong>' + o.typeCode + '</strong>');
        if (o.roomsCount)
            digest.push(o.roomsCount + 'к');
        if (o.floor && o.floorsCount) {
            digest.push(o.floor + '/' + o.floorsCount + ' эт.');
        }
        else if (o.floor || o.floorsCount) {
            digest.push((o.floor || o.floorsCount) + ' эт.');
        }
        {
            var squares = [];
            if (o.squareTotal)
                squares.push(o.squareTotal);
            if (o.squareLiving)
                squares.push(o.squareLiving);
            if (o.squareKitchen)
                squares.push(o.squareKitchen);
            if (squares.length)
                digest.push(squares.join('/') + ' кв. м.');
        }
        digest.push('<br>');
        if (o.apSchemeId)
            digest.push(o.apSchemeId);
        if (o.houseTypeId)
            digest.push(o.houseTypeId);
        if (o.roomSchemeId)
            digest.push(o.roomSchemeId);
        if (o.conditionId)
            digest.push(o.conditionId);
        if (o.balconyId)
            digest.push(o.balconyId);
        if (o.bathroomId)
            digest.push(o.bathroomId);
        if (o.squareLand)
            digest.push(o.squareLand + ' га');
        if (o.description) {
            digest.push(o.description);
        }
        digest.push('<br>');
        if (o.ownerPrice)
            digest.push('<span class="text-primary">' + o.ownerPrice + ' тыс. руб.' + '</span>');
        return digest.join(' ');
    };
    Offer.parseAddress = function (itm) {
        var fullAddress = [];
        var address = itm.split(',');
        for (var i = 0; i < address.length; ++i)
            address[i] = address[i].trim();
        if (parseInt(address[1]) > 0) {
            fullAddress.push({ type: "HOUSE", value: address[1] });
            fullAddress.push({ type: "STREET", value: address[0] });
            if (address.length == 5) {
                if (address[4].indexOf("Москва") != -1) {
                    fullAddress.push({ type: "DISTRICT", value: address[2] });
                    fullAddress.push({ type: "CITY", value: address[4] });
                }
                else if (address[3].indexOf("р-н") != -1) {
                    fullAddress.push({ type: "CITY", value: address[2] });
                    fullAddress.push({ type: "DISTRICT", value: address[3].split(" ")[0] });
                    fullAddress.push({ type: "KRAY", value: address[4] });
                }
                else {
                    fullAddress.push({ type: "CITY", value: address[3] });
                    fullAddress.push({ type: "KRAY", value: address[4] });
                }
            }
            else if (address.length == 4 && address[3].indexOf("Санкт-Петербург") != -1) {
                fullAddress.push({ type: "CITY", value: address[3].split(" ")[1] });
            }
            else if (address.length == 4) {
                fullAddress.push({ type: "CITY", value: address[2] });
                fullAddress.push({ type: "KRAY", value: address[3] });
            }
        }
        else if (address.length == 4) {
            fullAddress.push({ type: "STREET", value: address[0] });
            if (address[3].indexOf("Москва") != -1) {
                fullAddress.push({ type: "DISTRICT", value: address[1] });
                fullAddress.push({ type: "CITY", value: address[3] });
            }
            else {
                fullAddress.push({ type: "CITY", value: address[1] });
                if (address[2].indexOf("р-н") != -1)
                    fullAddress.push({ type: "DISTRICT", value: address[2] });
                fullAddress.push({ type: "KRAY", value: address[3] });
            }
        }
        else if (address.length == 3) {
            if (address[1].indexOf("р-н") != -1) {
                fullAddress.push({ type: "CITY", value: address[0] });
                fullAddress.push({ type: "DISTRICT", value: address[1] });
                fullAddress.push({ type: "KRAY", value: address[2] });
            }
            else if (address[2].indexOf("Санкт-Петербург") != -1) {
                fullAddress.push({ type: "STREET", value: address[0] });
                fullAddress.push({ type: "CITY", value: address[2].split(" ")[1] });
            }
            else {
                fullAddress.push({ type: "STREET", value: address[0] });
                fullAddress.push({ type: "CITY", value: address[1] });
                fullAddress.push({ type: "KRAY", value: address[2] });
            }
        }
        return fullAddress;
    };
    return Offer;
}());

//# sourceMappingURL=offer.js.map

/***/ }),

/***/ "../../../../../src/app/entity/organisation.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__class_fullAddress__ = __webpack_require__("../../../../../src/app/class/fullAddress.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__class_requisites__ = __webpack_require__("../../../../../src/app/class/requisites.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__class_phoneBlock__ = __webpack_require__("../../../../../src/app/class/phoneBlock.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__class_emailBlock__ = __webpack_require__("../../../../../src/app/class/emailBlock.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Organisation; });




var Organisation = (function () {
    function Organisation() {
        this.fullAddress = new __WEBPACK_IMPORTED_MODULE_0__class_fullAddress__["a" /* FullAddress */]();
        this.phoneBlock = new __WEBPACK_IMPORTED_MODULE_2__class_phoneBlock__["a" /* PhoneBlock */]();
        this.emailBlock = new __WEBPACK_IMPORTED_MODULE_3__class_emailBlock__["a" /* EmailBlock */]();
        this.requisites = new __WEBPACK_IMPORTED_MODULE_1__class_requisites__["a" /* Requisites */]();
    }
    Organisation.prototype.copyFields = function (org) {
        this.id = org.id;
        this.accountId = org.accountId;
        this.name = org.name;
        this.description = org.description;
        this.addDate = org.addDate;
        this.changeDate = org.changeDate;
        this.typeCode = org.typeCode;
        this.area = org.area;
        this.fullAddress = org.fullAddress;
        this.phoneBlock = org.phoneBlock;
        this.emailBlock = org.emailBlock;
        this.webSite = org.webSite;
        this.requisites = org.requisites;
        /*
        head: Person;
        contact: Person;
        */
        this.headId = org.headId;
        this.contactId = org.contactId;
        this.contract = org.contract;
        this.stateCode = org.stateCode;
        this.sourceCode = org.sourceCode;
        this.agent = org.agent;
        this.agentId = org.agentId;
    };
    return Organisation;
}());

//# sourceMappingURL=organisation.js.map

/***/ }),

/***/ "../../../../../src/app/entity/person.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__class_fullAddress__ = __webpack_require__("../../../../../src/app/class/fullAddress.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__class_emailBlock__ = __webpack_require__("../../../../../src/app/class/emailBlock.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__class_phoneBlock__ = __webpack_require__("../../../../../src/app/class/phoneBlock.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Person; });



var Person = (function () {
    function Person() {
        this.fullAddress = new __WEBPACK_IMPORTED_MODULE_0__class_fullAddress__["a" /* FullAddress */]();
        this.phoneBlock = new __WEBPACK_IMPORTED_MODULE_2__class_phoneBlock__["a" /* PhoneBlock */]();
        this.emailBlock = new __WEBPACK_IMPORTED_MODULE_1__class_emailBlock__["a" /* EmailBlock */]();
    }
    Person.prototype.copyFields = function (person) {
        this.id = person.id;
        this.accountId = person.accountId;
        this.name = person.name;
        this.description = person.description;
        this.addDate = person.addDate;
        this.changeDate = person.changeDate;
        this.organisationId = person.organisationId;
        this.organisation = person.organisation;
        this.userId = person.userId;
        this.user = person.user;
        this.typeCode = person.typeCode;
        this.area = person.area;
        this.fullAddress = person.fullAddress;
        this.phoneBlock = person.phoneBlock;
        this.emailBlock = person.emailBlock;
        this.webSite = person.webSite;
        this.positionCode = person.positionCode;
        this.agentId = person.agentId;
        this.agent = person.agent;
        this.contract = person.contract;
        this.stateCode = person.stateCode;
        this.sourceCode = person.sourceCode;
    };
    return Person;
}());

//# sourceMappingURL=person.js.map

/***/ }),

/***/ "../../../../../src/app/entity/request.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Request; });
var Request = (function () {
    function Request() {
        // set default vals
        this.offerTypeCode = 'sale';
        this.searchArea = [];
        this.request = '';
    }
    return Request;
}());

//# sourceMappingURL=request.js.map

/***/ }),

/***/ "../../../../../src/app/entity/user.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__class_fullAddress__ = __webpack_require__("../../../../../src/app/class/fullAddress.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__class_phoneBlock__ = __webpack_require__("../../../../../src/app/class/phoneBlock.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__class_emailBlock__ = __webpack_require__("../../../../../src/app/class/emailBlock.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return User; });



var User = (function () {
    function User() {
        this.role = 'AGENT';
        this.fullAddress = new __WEBPACK_IMPORTED_MODULE_0__class_fullAddress__["a" /* FullAddress */]();
        this.phoneBlock = new __WEBPACK_IMPORTED_MODULE_1__class_phoneBlock__["a" /* PhoneBlock */]();
        this.emailBlock = new __WEBPACK_IMPORTED_MODULE_2__class_emailBlock__["a" /* EmailBlock */]();
    }
    User.getData = function (arr) {
        for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {
            var item = arr_1[_i];
            if (item.value !== null)
                return item;
        }
        return { type: "", value: "Не указан" };
    };
    return User;
}());

//# sourceMappingURL=user.js.map

/***/ }),

/***/ "../../../../../src/app/login-screen.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_session_service__ = __webpack_require__("../../../../../src/app/service/session.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoginScreenComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var LoginScreenComponent = (function () {
    function LoginScreenComponent(_sessionService, _configService) {
        this._sessionService = _sessionService;
        this._configService = _configService;
        this.authorized = _sessionService.authorized;
        this.msg = _sessionService.msg;
        this.account = "";
        this.login = "";
        this.password = "";
    }
    LoginScreenComponent.prototype.ngOnInit = function () {
        var cuStr = localStorage.getItem('currentUser');
        if (cuStr) {
            var cu = JSON.parse(cuStr);
            this.account = cu.account;
            this.login = cu.login;
        }
        this.checkSession();
    };
    LoginScreenComponent.prototype._login = function () {
        localStorage.setItem('currentUser', JSON.stringify({ account: this.account, login: this.login }));
        this._sessionService.login(this.account, this.login, this.password);
    };
    LoginScreenComponent.prototype._logout = function () {
        this._sessionService.logout();
    };
    LoginScreenComponent.prototype.checkSession = function () {
        this._sessionService.check();
    };
    return LoginScreenComponent;
}());
LoginScreenComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'login-screen',
        styles: ["\n        .login-screen {\n            position: absolute;\n            top: 0px;\n            left: 0px;\n            z-index: 2;\n\n            width: 100%;\n            height: 100%;\n        }\n\n        .login-form {\n            position: absolute;\n            top: 100px;\n            left: calc(50% - 200px);\n            background-color: #fff;\n            width: 400px;\n            padding: 20px 20px 40px 20px;\n        }\n\n        .login-form > .form-header {\n            font-size: 26px;\n        }\n\n        .input-control {\n            margin-top: 5px;\n        }\n\n        .input-control > label {\n\n        }\n\n        .input-control > input {\n            width: 100%;\n            height: 28px;\n        }\n\n        .action-block {\n            margin-top: 25px;\n        }\n\n        .button {\n            text-align: center;\n            padding: 5px 15px;\n            background-color: #3366cc;\n            color: #fff;\n            cursor: pointer;\n        }\n\n        .ver-str {\n            color: #eeeeee;\n        }\n\n        .login-msg {\n            color: #eeeeee;\n        }\n\n    "],
        template: "\n        <div class=\"login-screen bg-darkTeal\" [hidden]=\"authorized | async\">\n            <div class=\"ver-str\"><span>v: {{_configService.getConfig().version}}</span></div>\n            <div class=\"login-msg\"><span>msg: {{msg | async}}</span></div>\n            <div class=\"login-form\" (keyup.enter)=\"_login();\">\n                <div class=\"form-header\">\u0414\u043E\u0431\u0440\u043E \u043F\u043E\u0436\u0430\u043B\u043E\u0432\u0430\u0442\u044C</div>\n                <hr>\n\n                <div class=\"input-control\">\n                    <label>\u0410\u043A\u043A\u0430\u0443\u043D\u0442</label>\n                    <input [(ngModel)]=\"account\">\n                </div>\n\n                <div class=\"input-control\">\n                    <label>\u041B\u043E\u0433\u0438\u043D \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F</label>\n                    <input [(ngModel)]=\"login\">\n                </div>\n                <div class=\"input-control\">\n                    <label>\u041F\u0430\u0440\u043E\u043B\u044C</label>\n                    <input type=\"password\" [(ngModel)]=\"password\">\n                </div>\n                <div class=\"action-block\" (click)=\"_login()\">\n                    <div class=\"button\">\u0412\u0445\u043E\u0434</div>\n                </div>\n            </div>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__service_session_service__["a" /* SessionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__service_session_service__["a" /* SessionService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__service_config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_config_service__["a" /* ConfigService */]) === "function" && _b || Object])
], LoginScreenComponent);

var _a, _b;
//# sourceMappingURL=login-screen.component.js.map

/***/ }),

/***/ "../../../../../src/app/main.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_hub_service__ = __webpack_require__("../../../../../src/app/service/hub.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MainComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by Aleksandr on 25.01.17.
 */


var MainComponent = (function () {
    function MainComponent(_hubService) {
        this._hubService = _hubService;
        this._hubService.shared_var['cm_hidden'] = true;
    }
    MainComponent.prototype.contextMenu = function (e) {
        this._hubService.shared_var['cm_hidden'] = true;
    };
    MainComponent.prototype.click = function (e) {
        this._hubService.shared_var['cm_hidden'] = true;
    };
    return MainComponent;
}());
MainComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["h" /* Component */])({
        selector: 'main',
        styles: [""],
        template: "\n        <div\n            (contextmenu)=\"contextMenu($event)\"\n            (click)=\"click($event)\"\n        >\n            <context-menu\n                [menu]=\"_hubService.shared_var['cm']\"\n                [hidden]=\"_hubService.shared_var['cm_hidden']\"\n            >\n            </context-menu>\n            <tab-system onmousedown=\"return false\" onselectstart=\"return false\"></tab-system>\n            <notebook></notebook>\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__service_hub_service__["a" /* HubService */]) === "function" && _a || Object])
], MainComponent);

var _a;
//# sourceMappingURL=main.component.js.map

/***/ }),

/***/ "../../../../../src/app/pipe/format-date.pipe.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment_moment__ = __webpack_require__("../../../../moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment_moment__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormatDatePipe; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var FormatDatePipe = (function () {
    function FormatDatePipe() {
    }
    FormatDatePipe.prototype.transform = function (value, args) {
        var r = '';
        if (value) {
            var d = __WEBPACK_IMPORTED_MODULE_1_moment_moment__(value * 1000);
            r = d.format('DD.MM.YY HH:mm');
        }
        return r;
    };
    return FormatDatePipe;
}());
FormatDatePipe = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_1" /* Pipe */])({ name: 'formatDate' })
], FormatDatePipe);

//# sourceMappingURL=format-date.pipe.js.map

/***/ }),

/***/ "../../../../../src/app/pipe/phone-block-as-string.pipe.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return phoneBlockAsStringPipe; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var phoneBlockAsStringPipe = (function () {
    function phoneBlockAsStringPipe() {
    }
    phoneBlockAsStringPipe.prototype.transform = function (phoneBlock) {
        var result = "";
        var t = [];
        if (phoneBlock.office)
            t.push(phoneBlock.office);
        if (phoneBlock.home)
            t.push(phoneBlock.home);
        if (phoneBlock.cellphone)
            t.push(phoneBlock.cellphone);
        if (phoneBlock.fax)
            t.push(phoneBlock.fax);
        if (phoneBlock.main)
            t.push(phoneBlock.main);
        if (phoneBlock.other)
            t.push(phoneBlock.other);
        result = t.join(", ");
        return result;
    };
    return phoneBlockAsStringPipe;
}());
phoneBlockAsStringPipe = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_1" /* Pipe */])({ name: 'phoneBlockAsString' })
], phoneBlockAsStringPipe);

//# sourceMappingURL=phone-block-as-string.pipe.js.map

/***/ }),

/***/ "../../../../../src/app/pipe/str-nn.pipe.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return StrNnPipe; });
/**
 * Created by owl on 2/6/17.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var StrNnPipe = (function () {
    function StrNnPipe() {
    }
    StrNnPipe.prototype.transform = function (value, args) {
        if (value) {
            return value;
        }
        return '';
    };
    return StrNnPipe;
}());
StrNnPipe = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_1" /* Pipe */])({ name: 'strNn' })
], StrNnPipe);

//# sourceMappingURL=str-nn.pipe.js.map

/***/ }),

/***/ "../../../../../src/app/service/account.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__ = __webpack_require__("../../../../rxjs/AsyncSubject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AccountService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by Aleksandr on 23.01.17.
 */




var AccountService = (function () {
    function AccountService(_configService, _http) {
        this._configService = _configService;
        this._http = _http;
        this.RS = this._configService.getConfig().RESTServer + '/api/v1/account/';
    }
    ;
    AccountService.prototype.list = function () {
        console.log('account list');
        var _resourceUrl = this.RS + 'list';
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__["AsyncSubject"]();
        this._http.get(_resourceUrl, { withCredentials: true })
            .map(function (res) { return res.json(); }).subscribe(function (data) {
            var accounts = data.result;
            ret_subj.next(accounts);
            ret_subj.complete();
        }, function (err) { return console.log(err); });
        return ret_subj;
    };
    AccountService.prototype.save = function (account) {
        console.log('account save');
        var _resourceUrl = this.RS + 'save';
        var data_str = JSON.stringify(account);
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__["AsyncSubject"]();
        this._http.post(_resourceUrl, data_str, { withCredentials: true })
            .map(function (res) { return res.json(); }).subscribe(function (data) {
            var a = data.result;
            ret_subj.next(a);
            ret_subj.complete();
        }, function (err) { return console.log(err); });
        return ret_subj;
    };
    return AccountService;
}());
AccountService = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* Injectable */])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__config_service__["a" /* ConfigService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["c" /* Http */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["c" /* Http */]) === "function" && _b || Object])
], AccountService);

var _a, _b;
//# sourceMappingURL=account.service.js.map

/***/ }),

/***/ "../../../../../src/app/service/analysis.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AnalysisService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var AnalysisService = (function () {
    function AnalysisService() {
    }
    AnalysisService.prototype.getObjAnalysis = function () {
        return OBJ_ANALYSIS;
    };
    return AnalysisService;
}());
AnalysisService = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* Injectable */])()
], AnalysisService);

var OBJ_ANALYSIS = {
    ch1_data: [
        ['Задача', 'Значение'],
        ['Звонок', 42],
        ['Встреча', 28],
        ['Показ', 25],
        ['Задача А', 4],
        ['Задача Б', 2],
    ],
    ch1_data_v1: 101,
    ch2_data: [
        ['Дата', 'Запросы'],
        [0, 10],
        [1, 11],
        [2, 16],
        [3, 21],
        [4, 21],
        [5, 22],
        [6, 22],
        [7, 23],
    ],
    ch2_data_v1: 23,
    ch3_data: [
        ['День', 'успешно', 'не успешно'],
        [0, 1, 4],
        [1, 2, 8],
        [2, 2, 9],
        [3, 4, 16],
        [4, 4, 16],
        [5, 4, 17],
        [6, 5, 18],
        [7, 6, 19],
    ],
    ch3_data_v1: 6,
    ch3_data_v2: 19,
};
//# sourceMappingURL=analysis.service.js.map

/***/ }),

/***/ "../../../../../src/app/service/config.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConfigService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var ConfigService = (function () {
    function ConfigService() {
    }
    ConfigService.prototype.getConfig = function () {
        return CONFIG;
    };
    return ConfigService;
}());
ConfigService = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* Injectable */])()
], ConfigService);

var CONFIG = {
    version: "b17.9",
    map: {
        default: {
            lat: 55.755505, lon: 37.617270, zoom: 14
        },
        khv: {
            lat: 48.480228, lon: 135.071921, zoom: 14
        },
        msk: {
            lat: 55.755505, lon: 37.617270, zoom: 14
        },
        kja: {
            lat: 56.014039, lon: 92.892053, zoom: 14
        },
        vld: {
            lat: 43.119348, lon: 131.886965, zoom: 14
        },
        irkutsk: {
            lat: 52.286450, lon: 104.304856, zoom: 14
        },
        tver: {
            lat: 56.858507, lon: 35.917521, zoom: 14
        },
        rzn: {
            lat: 54.609215, lon: 39.712564, zoom: 14
        },
        kms: {
            lat: 50.546913, lon: 137.011227, zoom: 14
        },
        nahodka: {
            lat: 42.820431, lon: 132.883842, zoom: 14
        },
        p_posad: {
            lat: 55.773481, lon: 38.653316, zoom: 14
        },
        stupino: {
            lat: 54.903123, lon: 38.080785, zoom: 14
        },
        voskresensk: {
            lat: 55.322338, lon: 38.681782, zoom: 14
        },
        o_zuevo: {
            lat: 55.802349, lon: 38.966713, zoom: 14
        },
        jaroslavl: {
            lat: 57.622242, lon: 39.884425, zoom: 14
        },
        el_gorsk: {
            lat: 55.875938, lon: 38.780314, zoom: 14
        },
        el_stal: {
            lat: 55.782371, lon: 38.453338, zoom: 14
        },
        el_ugli: {
            lat: 55.714968, lon: 38.209223, zoom: 14
        },
        noginsk: {
            lat: 55.874205, lon: 38.466371, zoom: 14
        },
        surgut: {
            lat: 61.254298, lon: 73.385749, zoom: 14
        },
        pushkino: {
            lat: 55.986301, lon: 37.841615, zoom: 14
        },
        mitishi: {
            lat: 55.918564, lon: 37.764960, zoom: 14
        },
        jukovski: {
            lat: 55.595562, lon: 38.112581, zoom: 14
        },
        ramenskoe: {
            lat: 55.567335, lon: 38.221941, zoom: 14
        },
        chekhov: {
            lat: 55.151720, lon: 37.460746, zoom: 14
        },
        dmitov: {
            lat: 56.341870, lon: 37.528703, zoom: 14
        },
        balachikha: {
            lat: 55.795506, lon: 37.968072, zoom: 14
        },
        sochi: {
            lat: 43.602402, lon: 39.734203, zoom: 14
        },
        orenburg: {
            lat: 51.762391, lon: 55.098985, zoom: 14
        },
        belgorod: {
            lat: 50.598446, lon: 36.598028, zoom: 14
        },
        chimki: {
            lat: 55.893240, lon: 37.444119, zoom: 14
        },
        shelkovo: {
            lat: 55.915040, lon: 38.036131, zoom: 14
        },
        narofominsk: {
            lat: 55.390574, lon: 36.725892, zoom: 14
        },
        kolomna: {
            lat: 55.092485, lon: 38.768343, zoom: 14
        },
        u_sakhalinsk: {
            lat: 46.961504, lon: 142.734414, zoom: 14
        },
        anapa: {
            lat: 44.884441, lon: 37.320182, zoom: 14
        },
        v_novgorod: {
            lat: 58.522177, lon: 31.273314, zoom: 14
        },
        spb: {
            lat: 59.925408, lon: 30.331908, zoom: 14
        }
    },
    RESTServer: "http://maklersoft.com:4567",
};
//# sourceMappingURL=config.service.js.map

/***/ }),

/***/ "../../../../../src/app/service/history.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HistoryService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var HistoryService = (function () {
    function HistoryService() {
    }
    HistoryService.prototype.getObjHistory = function () {
        return OBJ_HISTORY;
    };
    HistoryService.prototype.putRecord = function (r) {
        OBJ_HISTORY.push(r);
    };
    return HistoryService;
}());
HistoryService = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* Injectable */])()
], HistoryService);

var OBJ_HISTORY = [
    {
        id: 6511,
        ts: 0,
        type_id: 2,
        type: 'импорт',
        text: 'Объект импортирован, источник ???, ссылка ???',
        user_id: 0,
        _user_name: 'Агент 1',
        object_type: 'offer',
        object_id: 0,
        property_name: '',
        property_id: 0,
        old_val: null,
        new_val: null,
    }, {
        id: 6512,
        ts: 0,
        type_id: 1,
        type: 'изменение значение',
        text: '',
        user_id: 0,
        _user_name: 'Агент 1',
        object_type: 'offer',
        object_id: 0,
        property_name: 'Описание',
        property_id: 0,
        old_val: 'Значимость этих проблем настолько очевидна, что дальнейшее развитие различных форм деятельности позволяет выполнять важные задания по разработке соответствующий условий активизации.',
        new_val: 'С другой стороны новая модель организационной деятельности требуют от нас анализа модели развития.',
    }, {
        id: 6513,
        ts: 0,
        type_id: 1,
        type: 'изменение значение',
        text: '',
        user_id: 0,
        _user_name: 'Агент 1',
        object_type: 'offer',
        object_id: 0,
        property_name: 'цена',
        property_id: 0,
        old_val: '1200',
        new_val: '1100',
    }, {
        id: 6514,
        ts: 0,
        type_id: 1,
        type: 'изменение значение',
        text: '',
        user_id: 0,
        _user_name: 'Агент 1',
        object_type: 'offer',
        object_id: 0,
        property_name: 'цена',
        property_id: 0,
        old_val: '1100',
        new_val: '1200',
    }, {
        id: 6515,
        ts: 0,
        type_id: 1,
        type: 'изменение значение',
        text: '',
        user_id: 0,
        _user_name: 'Агент 1',
        object_type: 'offer',
        object_id: 0,
        property_name: 'цена',
        property_id: 0,
        old_val: '1200',
        new_val: '900',
    }, {
        id: 6516,
        ts: 0,
        type_id: 1,
        type: 'изменение значение',
        text: '',
        user_id: 0,
        _user_name: 'Агент 1',
        object_type: 'offer',
        object_id: 0,
        property_name: 'цена',
        property_id: 0,
        old_val: '1200',
        new_val: '900',
    }, {
        id: 6517,
        ts: 0,
        type_id: 1,
        type: 'изменение значение',
        text: '',
        user_id: 0,
        _user_name: 'Агент 1',
        object_type: 'offer',
        object_id: 0,
        property_name: 'цена',
        property_id: 0,
        old_val: '1200',
        new_val: '900',
    }, {
        id: 6518,
        ts: 0,
        type_id: 1,
        type: 'изменение значение',
        text: '',
        user_id: 0,
        _user_name: 'Агент 1',
        object_type: 'offer',
        object_id: 0,
        property_name: 'цена',
        property_id: 0,
        old_val: '1200',
        new_val: '900',
    }, {
        id: 6519,
        ts: 0,
        type_id: 1,
        type: 'изменение значение',
        text: '',
        user_id: 0,
        _user_name: 'Агент 1',
        object_type: 'offer',
        object_id: 0,
        property_name: 'цена',
        property_id: 0,
        old_val: '1200',
        new_val: '900',
    }, {
        id: 6520,
        ts: 0,
        type_id: 1,
        type: 'изменение значение',
        text: '',
        user_id: 0,
        _user_name: 'Агент 1',
        object_type: 'offer',
        object_id: 0,
        property_name: 'цена',
        property_id: 0,
        old_val: '1200',
        new_val: '900',
    }, {
        id: 6521,
        ts: 0,
        type_id: 1,
        type: 'изменение значение',
        text: '',
        user_id: 0,
        _user_name: 'Агент 1',
        object_type: 'offer',
        object_id: 0,
        property_name: 'цена',
        property_id: 0,
        old_val: '1200',
        new_val: '900',
    }, {
        id: 6522,
        ts: 0,
        type_id: 1,
        type: 'изменение значение',
        text: '',
        user_id: 0,
        _user_name: 'Агент 1',
        object_type: 'offer',
        object_id: 0,
        property_name: 'цена',
        property_id: 0,
        old_val: '1200',
        new_val: '900',
    }, {
        id: 6523,
        ts: 0,
        type_id: 1,
        type: 'изменение значение',
        text: '',
        user_id: 0,
        _user_name: 'Агент 1',
        object_type: 'offer',
        object_id: 0,
        property_name: 'цена',
        property_id: 0,
        old_val: '1200',
        new_val: '900',
    }, {
        id: 6524,
        ts: 0,
        type_id: 1,
        type: 'изменение значение',
        text: '',
        user_id: 0,
        _user_name: 'Агент 1',
        object_type: 'offer',
        object_id: 0,
        property_name: 'цена',
        property_id: 0,
        old_val: '1200',
        new_val: '900',
    }, {
        id: 6525,
        ts: 0,
        type_id: 1,
        type: 'изменение значение',
        text: '',
        user_id: 0,
        _user_name: 'Агент 1',
        object_type: 'offer',
        object_id: 0,
        property_name: 'цена',
        property_id: 0,
        old_val: '1200',
        new_val: '900',
    }, {
        id: 6526,
        ts: 0,
        type_id: 1,
        type: 'изменение значение',
        text: '',
        user_id: 0,
        _user_name: 'Агент 1',
        object_type: 'offer',
        object_id: 0,
        property_name: 'цена',
        property_id: 0,
        old_val: '1200',
        new_val: '900',
    }, {
        id: 6527,
        ts: 0,
        type_id: 1,
        type: 'изменение значение',
        text: '',
        user_id: 0,
        _user_name: 'Агент 1',
        object_type: 'offer',
        object_id: 0,
        property_name: 'цена',
        property_id: 0,
        old_val: '1200',
        new_val: '900',
    }, {
        id: 6528,
        ts: 0,
        type_id: 1,
        type: 'изменение значение',
        text: '',
        user_id: 0,
        _user_name: 'Агент 1',
        object_type: 'offer',
        object_id: 0,
        property_name: 'цена',
        property_id: 0,
        old_val: '1200',
        new_val: '900',
    }, {
        id: 6529,
        ts: 0,
        type_id: 1,
        type: 'изменение значение',
        text: '',
        user_id: 0,
        _user_name: 'Агент 1',
        object_type: 'offer',
        object_id: 0,
        property_name: 'цена',
        property_id: 0,
        old_val: '1200',
        new_val: '900',
    }
];
//# sourceMappingURL=history.service.js.map

/***/ }),

/***/ "../../../../../src/app/service/hub.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HubService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var HubService = (function () {
    function HubService() {
        this.shared_var = {};
        this.stash = {
            some_prop: 'some_val',
            seenOffers: [],
            modifiedOffers: []
        };
    }
    HubService.prototype.getProperty = function (name) {
        return this.stash[name];
    };
    HubService.prototype.setProperty = function (name, val) {
        this.stash[name] = val;
    };
    return HubService;
}());
HubService = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* Injectable */])()
], HubService);

//# sourceMappingURL=hub.service.js.map

/***/ }),

/***/ "../../../../../src/app/service/notebook.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__ = __webpack_require__("../../../../rxjs/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NotebookService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var NotebookService = (function () {
    function NotebookService() {
        this.subject = new __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__["Subject"]();
        this.updater = new __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__["Subject"]();
    }
    NotebookService.prototype.set = function (data) {
        this.subject.next(data);
    };
    NotebookService.prototype.get = function () {
        return this.subject.asObservable();
    };
    NotebookService.prototype.save = function (person) {
    };
    NotebookService.prototype.update_field = function (dates) {
        this.updater.next(dates);
    };
    NotebookService.prototype.is_update = function () {
        return this.updater.asObservable();
    };
    return NotebookService;
}());
NotebookService = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* Injectable */])()
], NotebookService);

//# sourceMappingURL=notebook.service.js.map

/***/ }),

/***/ "../../../../../src/app/service/offer.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__ = __webpack_require__("../../../../rxjs/AsyncSubject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__session_service__ = __webpack_require__("../../../../../src/app/service/session.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__class_listResult__ = __webpack_require__("../../../../../src/app/class/listResult.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OfferSource; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return OfferService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var OfferSource;
(function (OfferSource) {
    OfferSource[OfferSource["LOCAL"] = 1] = "LOCAL";
    OfferSource[OfferSource["IMPORT"] = 2] = "IMPORT";
})(OfferSource || (OfferSource = {}));
var OfferService = (function () {
    function OfferService(_http, _configService, _sessionService) {
        this._http = _http;
        this._configService = _configService;
        this._sessionService = _sessionService;
        this.RS = "";
        this.RS = this._configService.getConfig().RESTServer + '/api/v1/offer/';
    }
    ;
    OfferService.prototype.list = function (page, perPage, source, filter, sort, searchQuery, searchArea) {
        console.log('offers list');
        var query = [];
        var user = this._sessionService.getUser();
        var source_str = 'local';
        if (source == OfferSource.IMPORT) {
            source_str = 'import';
        }
        query.push('accountId=' + user.accountId);
        query.push('page=' + page);
        query.push('per_page=' + perPage);
        query.push('source=' + source_str);
        query.push('filter=' + JSON.stringify(filter));
        if (sort) {
            query.push('sort=' + JSON.stringify(sort));
        }
        query.push('search_query=' + searchQuery);
        query.push('search_area=' + JSON.stringify(searchArea));
        var _resourceUrl = this.RS + 'list?' + query.join("&");
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__["AsyncSubject"]();
        this._http.get(_resourceUrl, { withCredentials: true })
            .map(function (res) { return res.json(); }).subscribe(function (data) {
            var obj = new __WEBPACK_IMPORTED_MODULE_5__class_listResult__["a" /* ListResult */]();
            if (data.result) {
                obj.hitsCount = data.result.hitsCount;
                obj.list = data.result.list;
                ret_subj.next(obj);
                ret_subj.complete();
            }
        }, function (err) { return console.log(err); });
        console.log(ret_subj);
        return ret_subj;
    };
    OfferService.prototype.save = function (offer) {
        console.log('offer save', offer);
        var user = this._sessionService.getUser();
        offer.accountId = user.accountId;
        var _resourceUrl = this.RS + 'save';
        var data_str = JSON.stringify(offer, function (key, value) {
            if (typeof value === 'string' && value.length == 0) {
                return undefined;
            }
            return value;
        });
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__["AsyncSubject"]();
        this._http.post(_resourceUrl, data_str, { withCredentials: true })
            .map(function (res) { return res.json(); }).subscribe(function (data) {
            var o = data.result;
            // TODO: pass copy????
            ret_subj.next(o);
            ret_subj.complete();
        }, function (err) { return console.log(err); });
        return ret_subj;
    };
    OfferService.prototype.delete = function (offer) {
        console.log('offer delete', offer);
        var user = this._sessionService.getUser();
        offer.accountId = user.accountId;
        var _resourceUrl = this.RS + 'delete/' + offer.id;
        var data_str = JSON.stringify({ accountId: user.accountId, user: user.id });
        /*offer, function(key, value) {
            if (typeof value === 'string' && value.length == 0) {
                return undefined;
            }
            return value;
        });*/
        var ret_res = new __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__["AsyncSubject"]();
        this._http.post(_resourceUrl, data_str, { withCredentials: true })
            .map(function (res) { return res.json(); }).subscribe(function (data) {
            var o = data.result;
            ret_res.next(o);
            ret_res.complete();
        }, function (err) { return console.log(err); });
        return ret_res;
    };
    OfferService.prototype.getSimilar = function (offer, page, perPage) {
        console.log('offer get similar');
        console.log(offer);
        var query = [];
        var user = this._sessionService.getUser();
        var source_str = 'local';
        query.push('accountId=' + user.accountId);
        query.push('page=' + page);
        query.push('per_page=' + perPage);
        var _resourceUrl = this.RS + 'list_similar/' + offer.id + '?' + query.join("&");
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__["AsyncSubject"]();
        this._http.get(_resourceUrl, { withCredentials: true })
            .map(function (res) { return res.json(); }).subscribe(function (data) {
            var obj = new __WEBPACK_IMPORTED_MODULE_5__class_listResult__["a" /* ListResult */]();
            obj.hitsCount = data.result.hitsCount;
            obj.list = data.result.list;
            ret_subj.next(obj);
            ret_subj.complete();
        }, function (err) { return console.log(err); });
        return ret_subj;
    };
    return OfferService;
}());
OfferService = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* Injectable */])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["c" /* Http */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["c" /* Http */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__config_service__["a" /* ConfigService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_4__session_service__["a" /* SessionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__session_service__["a" /* SessionService */]) === "function" && _c || Object])
], OfferService);

var _a, _b, _c;
//# sourceMappingURL=offer.service.js.map

/***/ }),

/***/ "../../../../../src/app/service/organisation.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_AsyncSubject__ = __webpack_require__("../../../../rxjs/AsyncSubject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_AsyncSubject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_AsyncSubject__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__session_service__ = __webpack_require__("../../../../../src/app/service/session.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OrganisationService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var OrganisationService = (function () {
    function OrganisationService(_configService, _http, _sessionService) {
        this._configService = _configService;
        this._http = _http;
        this._sessionService = _sessionService;
        this.RS = "";
        this.RS = this._configService.getConfig().RESTServer + '/api/v1/organisation/';
    }
    ;
    OrganisationService.prototype.list = function (searchQuery) {
        console.log('org list');
        var user = this._sessionService.getUser();
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_2_rxjs_AsyncSubject__["AsyncSubject"]();
        var query = [];
        query.push("accountId=" + user.accountId);
        if (searchQuery) {
            query.push("searchQuery=" + searchQuery);
        }
        var _resourceUrl = this.RS + 'list?' + query.join("&");
        this._http.get(_resourceUrl, { withCredentials: true })
            .map(function (res) { return res.json(); }).subscribe(function (data) {
            var organisations = data.result;
            ret_subj.next(organisations);
            ret_subj.complete();
        }, function (err) { return console.log(err); });
        return ret_subj;
    };
    OrganisationService.prototype.get = function (organisationId) {
        console.log('org get');
        var _resourceUrl = this.RS + 'get/' + organisationId;
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_2_rxjs_AsyncSubject__["AsyncSubject"]();
        this._http.get(_resourceUrl, { withCredentials: true })
            .map(function (res) { return res.json(); }).subscribe(function (data) {
            var o = data.result;
            // TODO: pass copy????
            ret_subj.next(o);
            ret_subj.complete();
        }, function (err) { return console.log(err); });
        return ret_subj;
    };
    OrganisationService.prototype.save = function (org) {
        console.log('org save');
        var _user = this._sessionService.getUser();
        org.accountId = _user.accountId;
        var _resourceUrl = this.RS + 'save';
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_2_rxjs_AsyncSubject__["AsyncSubject"]();
        var data_str = JSON.stringify(org);
        this._http.post(_resourceUrl, data_str, { withCredentials: true })
            .map(function (res) { return res.json(); }).subscribe(function (data) {
            var o = data.result;
            ret_subj.next(o);
            ret_subj.complete();
        }, function (err) { return console.log(err); });
        return ret_subj;
    };
    return OrganisationService;
}());
OrganisationService = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* Injectable */])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_3__config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__config_service__["a" /* ConfigService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["c" /* Http */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["c" /* Http */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_4__session_service__["a" /* SessionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__session_service__["a" /* SessionService */]) === "function" && _c || Object])
], OrganisationService);

var _a, _b, _c;
//# sourceMappingURL=organisation.service.js.map

/***/ }),

/***/ "../../../../../src/app/service/person.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__ = __webpack_require__("../../../../rxjs/AsyncSubject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__session_service__ = __webpack_require__("../../../../../src/app/service/session.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PersonService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var PersonService = (function () {
    function PersonService(_http, _configService, _sessionService) {
        this._http = _http;
        this._configService = _configService;
        this._sessionService = _sessionService;
        this.RS = "";
        this.RS = this._configService.getConfig().RESTServer + '/api/v1/person/';
    }
    ;
    PersonService.prototype.list = function (userId, organisationId, searchQuery) {
        console.log('person list');
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__["AsyncSubject"]();
        var query = [];
        var user = this._sessionService.getUser();
        query.push("accountId=" + user.accountId);
        if (userId) {
            query.push("userId=" + userId.toString());
        }
        if (organisationId) {
            query.push("organisationId=" + organisationId.toString());
        }
        if (searchQuery) {
            query.push("searchQuery=" + searchQuery);
        }
        var _resourceUrl = this.RS + 'list?' + query.join("&");
        this._http.get(_resourceUrl, { withCredentials: true })
            .map(function (res) { return res.json(); }).subscribe(function (data) {
            var persons = data.result;
            ret_subj.next(persons);
            ret_subj.complete();
        }, function (err) { return console.log(err); });
        return ret_subj;
    };
    PersonService.prototype.get = function (personId) {
        console.log('person get');
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__["AsyncSubject"]();
        var _resourceUrl = this.RS + 'get/' + personId;
        this._http.get(_resourceUrl, { withCredentials: true })
            .map(function (res) { return res.json(); }).subscribe(function (data) {
            var notFound = true;
            var p = data.result;
            // TODO: pass copy????
            ret_subj.next(p);
            ret_subj.complete();
        }, function (err) { return console.log(err); });
        return ret_subj;
    };
    PersonService.prototype.save = function (person) {
        console.log('person save');
        var user = this._sessionService.getUser();
        person.accountId = user.accountId;
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__["AsyncSubject"]();
        var _resourceUrl = this.RS + 'save';
        delete person["selected"];
        var data_str = JSON.stringify(person);
        console.log(data_str);
        this._http.post(_resourceUrl, data_str, { withCredentials: true })
            .map(function (res) { return res.json(); }).subscribe(function (data) {
            var notFound = true;
            var p = data.result;
            // TODO: pass copy????
            ret_subj.next(p);
            ret_subj.complete();
        }, function (err) { return console.log(err); });
        return ret_subj;
    };
    return PersonService;
}());
PersonService = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* Injectable */])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["c" /* Http */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["c" /* Http */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__config_service__["a" /* ConfigService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_5__session_service__["a" /* SessionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__session_service__["a" /* SessionService */]) === "function" && _c || Object])
], PersonService);

var _a, _b, _c;
//# sourceMappingURL=person.service.js.map

/***/ }),

/***/ "../../../../../src/app/service/photo.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PhotoService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var PhotoService = (function () {
    function PhotoService(_configService, _http) {
        this._configService = _configService;
        this._http = _http;
        this.RS = "";
        this.RS = this._configService.getConfig().RESTServer;
    }
    ;
    PhotoService.prototype.getPhotos = function (entityId) {
        var _this = this;
        console.log('getPhotos');
        return new Promise(function (resolve) {
            var _resourceUrl = _this.RS + '/api/v1/photo/list/' + entityId;
            var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Headers */]();
            _this._http.get(_resourceUrl, {
                headers: headers
            })
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                resolve(data);
                if (data.result == "OK") {
                }
            }, function (err) { return console.log(err); });
        });
    };
    return PhotoService;
}());
PhotoService = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* Injectable */])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__config_service__["a" /* ConfigService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["c" /* Http */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["c" /* Http */]) === "function" && _b || Object])
], PhotoService);

var _a, _b;
//# sourceMappingURL=photo.service.js.map

/***/ }),

/***/ "../../../../../src/app/service/request.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__ = __webpack_require__("../../../../rxjs/AsyncSubject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__session_service__ = __webpack_require__("../../../../../src/app/service/session.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RequestService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var RequestService = (function () {
    function RequestService(_http, _configService, _sessionService) {
        this._http = _http;
        this._configService = _configService;
        this._sessionService = _sessionService;
        this.RS = "";
        this.RS = this._configService.getConfig().RESTServer + '/api/v1/request/';
    }
    ;
    RequestService.prototype.list = function (page, perPage, offerTypeCode, stageCode, agentId, personId, searchQuery) {
        console.log('request list');
        var query = [];
        var user = this._sessionService.getUser();
        query.push('accountId=' + user.accountId);
        query.push('page=' + page);
        query.push('per_page=' + perPage);
        query.push('offerTypeCode=' + offerTypeCode);
        query.push('stageCode=' + stageCode);
        query.push('agent_id=' + (agentId ? agentId : ''));
        query.push('person_id=' + (personId ? personId : ''));
        query.push('search_query=' + searchQuery);
        var _resourceUrl = this.RS + 'list?' + query.join("&");
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__["AsyncSubject"]();
        this._http.get(_resourceUrl, { withCredentials: true })
            .map(function (res) { return res.json(); }).subscribe(function (data) {
            var requests = data.result;
            ret_subj.next(requests);
            ret_subj.complete();
        }, function (err) { return console.log(err); });
        return ret_subj;
    };
    RequestService.prototype.listForOffer = function (offer) {
        console.log('request list for offer');
        var page = 0;
        var perPage = 16;
        var query = [];
        var user = this._sessionService.getUser();
        query.push('accountId=' + user.accountId);
        query.push('page=' + page);
        query.push('per_page=' + perPage);
        var _resourceUrl = this.RS + 'list_for_offer/' + offer.id + '?' + query.join("&");
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__["AsyncSubject"]();
        this._http.get(_resourceUrl, { withCredentials: true })
            .map(function (res) { return res.json(); }).subscribe(function (data) {
            var requests = data.result;
            ret_subj.next(requests);
            ret_subj.complete();
        }, function (err) { return console.log(err); });
        return ret_subj;
    };
    RequestService.prototype.save = function (request) {
        console.log('request save');
        var user = this._sessionService.getUser();
        request.accountId = user.accountId;
        var _resourceUrl = this.RS + 'save';
        delete request["selected"];
        var data_str = JSON.stringify(request);
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__["AsyncSubject"]();
        this._http.post(_resourceUrl, data_str, { withCredentials: true })
            .map(function (res) { return res.json(); }).subscribe(function (data) {
            var r = data.result;
            // TODO: pass copy????
            ret_subj.next(r);
            ret_subj.complete();
        }, function (err) { return console.log(err); });
        return ret_subj;
    };
    return RequestService;
}());
RequestService = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* Injectable */])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["c" /* Http */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["c" /* Http */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__config_service__["a" /* ConfigService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_4__session_service__["a" /* SessionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__session_service__["a" /* SessionService */]) === "function" && _c || Object])
], RequestService);

var _a, _b, _c;
//# sourceMappingURL=request.service.js.map

/***/ }),

/***/ "../../../../../src/app/service/session.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_BehaviorSubject__ = __webpack_require__("../../../../rxjs/BehaviorSubject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_BehaviorSubject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_BehaviorSubject__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SessionService; });
/**
 * Created by Aleksandr on 24.01.17.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var SessionService = (function () {
    function SessionService(_configService, _http) {
        this._configService = _configService;
        this._http = _http;
        this.dataStore = {
            authorized: false,
            msg: "",
            user: null,
            account: null
        };
        this.RS = this._configService.getConfig().RESTServer + '/session/';
        this.dataStore.authorized = false;
        this.dataStore.user = null;
        this.dataStore.account = null;
        this._authorized = new __WEBPACK_IMPORTED_MODULE_3_rxjs_BehaviorSubject__["BehaviorSubject"](false);
        this.authorized = this._authorized.asObservable();
        this._msg = new __WEBPACK_IMPORTED_MODULE_3_rxjs_BehaviorSubject__["BehaviorSubject"]("");
        this.msg = this._msg.asObservable();
        this._user = new __WEBPACK_IMPORTED_MODULE_3_rxjs_BehaviorSubject__["BehaviorSubject"](null);
        this.user = this._user.asObservable();
        this._account = new __WEBPACK_IMPORTED_MODULE_3_rxjs_BehaviorSubject__["BehaviorSubject"](null);
        this.account = this._account.asObservable();
    }
    ;
    SessionService.prototype.getUser = function () {
        return this.dataStore.user;
    };
    SessionService.prototype.getAccount = function () {
        return this.dataStore.account;
    };
    SessionService.prototype.login = function (accountName, login, password) {
        var _this = this;
        console.log('login');
        var _endpointUrl = this.RS + 'login';
        var data_str = JSON.stringify({
            account: accountName,
            login: login,
            password: password
        });
        this._http.post(_endpointUrl, data_str, { withCredentials: true })
            .map(function (res) { return res.json(); })
            .subscribe(function (data) {
            if (data.result == "OK") {
                _this.dataStore.authorized = true;
                _this._authorized.next(_this.dataStore.authorized);
                _this.dataStore.msg = "logged in";
                _this._msg.next(_this.dataStore.msg);
                _this.dataStore.user = data.user;
                _this._user.next(_this.dataStore.user);
                _this.dataStore.account = data.account;
                _this._account.next(_this.dataStore.account);
            }
            else {
                _this.dataStore.authorized = false;
                _this._authorized.next(_this.dataStore.authorized);
                _this.dataStore.msg = data.msg;
                _this._msg.next(_this.dataStore.msg);
                /*
                this.dataStore.user = data.user;
                this._user.next(Object.assign({}, this.dataStore).user);

                this.dataStore.account = data.account;
                this._account.next(Object.assign({}, this.dataStore).account);
                */
            }
        }, function (err) { return console.log(err); });
    };
    SessionService.prototype.logout = function () {
        var _this = this;
        console.log('logout');
        var _endpointUrl = this.RS + 'logout';
        this._http.post(_endpointUrl, "", { withCredentials: true })
            .map(function (res) { return res.json(); })
            .subscribe(function (data) {
            _this.dataStore.authorized = false;
            _this._authorized.next(_this.dataStore.authorized);
            _this.dataStore.msg = "logged out";
            _this._msg.next(_this.dataStore.msg);
        });
    };
    SessionService.prototype.check = function () {
        var _this = this;
        console.log('check');
        var _endpointUrl = this.RS + 'check';
        this._http.get(_endpointUrl, { withCredentials: true })
            .map(function (res) { return res.json(); })
            .subscribe(function (data) {
            if (data.result == "OK") {
                _this.dataStore.authorized = true;
                _this._authorized.next(_this.dataStore.authorized);
                _this.dataStore.msg = "logged in";
                _this._msg.next(_this.dataStore.msg);
                _this.dataStore.user = data.user;
                _this._user.next(_this.dataStore.user);
                _this.dataStore.account = data.account;
                _this._account.next(_this.dataStore.account);
            }
            else {
                _this.dataStore.authorized = false;
                _this._authorized.next(_this.dataStore.authorized);
            }
        }, function (err) { return console.log(err); });
    };
    return SessionService;
}());
SessionService = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* Injectable */])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__config_service__["a" /* ConfigService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["c" /* Http */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["c" /* Http */]) === "function" && _b || Object])
], SessionService);

var _a, _b;
//# sourceMappingURL=session.service.js.map

/***/ }),

/***/ "../../../../../src/app/service/suggestion.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__ = __webpack_require__("../../../../rxjs/AsyncSubject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SuggestionService; });
/**
 * Created by owl on 3/14/17.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var SuggestionService = (function () {
    function SuggestionService(_configService, _http) {
        this._configService = _configService;
        this._http = _http;
        this.RS = "";
        this.RS = this._configService.getConfig().RESTServer + '/api/v1/offer/';
    }
    ;
    SuggestionService.prototype._escape = function (s) {
        return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
    };
    SuggestionService.prototype.listKeywords = function (prefix) {
        console.log('kw suggestion list');
        var res = prefix.match(/((\d+)([^\d]*))$/);
        var sgs = [];
        if (res && res.length > 0) {
            var term = res[1];
            var value = parseFloat(res[2]);
            var word = res[3];
            var px = prefix.replace(term, '');
            var rx = new RegExp('^' + this._escape(word), 'i');
            if (value > 0 && value < 10 && ' комнатная'.match(rx)) {
                sgs.push(px + value.toLocaleString() + ' комнатная');
            }
            if (value > 0 && value < 100000 && ' тыс. руб.'.match(rx)) {
                sgs.push(px + value.toLocaleString() + ' тыс. руб.');
            }
            if (value > 0 && value < 100 && ' этаж'.match(rx)) {
                sgs.push(px + value.toLocaleString() + ' этаж');
            }
            if (value > 0 && value < 1000 && ' кв. м.'.match(rx)) {
                sgs.push(px + value.toLocaleString() + ' кв. м.');
            }
        }
        else {
            for (var _i = 0, _a = ["одно", "двух", "трех", "четырех", "пяти", "шести", "семи", "восьми", "девяти"]; _i < _a.length; _i++) {
                var e = _a[_i];
                var x = e + 'комнатная';
                var term = prefix.match(/(\S+)$/)[0];
                var trx = new RegExp('^' + this._escape(term), 'i');
                if (x.match(trx)) {
                    var px = prefix.replace(term, '');
                    sgs.push(px + x);
                }
            }
            for (var _b = 0, _c = ["сталинка",
                "хрущевка",
                "улучшенная план.",
                "улучшенная планировка",
                "новая план.",
                "новая планировка",
                "индивидуальная план.",
                "индивидуальная планировка",
                "общежитие",
                "балкон",
                "лоджия",
                "балкон",
                "лоджия",
                "балкон застеклен",
                "застеклен балкон",
                "застеклена лоджия",
                "лоджия застеклена",
                "балкон",
                "лоджия",
                "раздельный санузел",
                "санузел раздельный",
                "санузел смежный",
                "смежный санузел",
                "раздельный санузел",
                "санузел раздельный",
                "душ",
                "туалет",
                "туалет",
                "санузел совмещенный",
                "совмещенный санузел",
                "после строителей",
                "социальный ремонт",
                "ремонт",
                "евроремонт",
                "евро ремонт",
                "дизайнерский ремонт",
                "удовлетворительное сост.",
                "удовлетворительное состояние",
                "нормальное сост.",
                "нормальное состояние",
                "хорошее сост.",
                "хорошее состояние",
                "отличное сост.",
                "отличное состояние",
                "кирпичный",
                "кирпичный дом",
                "монолитный",
                "монолитный дом",
                "панельный",
                "панельный дом",
                "деревянный",
                "деревянный дом",
                "брус",
                "каркасно засыпной",
                "каркасно засыпной дом",
                "монолитно кирпичный",
                "монолитно кирпичный дом",
                "комната",
                "квартира",
                "коттедж",
                "таунхаус",
                "дом",
                "земельный участок",
                "дача",
                "офис",
                "новостройка",
                "малосемейка",
                "другое",
                "торговая площадь",
                "офисное помещение",
                "здание",
                "помещение под сферу услуг",
                "база",
                "склад",
                "помещение под автобизнес",
                "помещение свободного назначения",
                "производственное помещение",
                "гараж",
                "стояночное место",
                "студия",
                "комнаты раздельные",
                "раздельные комнаты",
                "комнаты смежные",
                "смежные комнаты",
                "икарус",
                "комнаты смежно раздельные",
                "смежно раздельные комнаты"]; _b < _c.length; _b++) {
                var e = _c[_b];
                var term = prefix.match(/(\S+)$/)[0];
                var trx = new RegExp('^' + this._escape(term), 'i');
                console.log(term);
                if (e.match(trx)) {
                    var px = prefix.replace(term, '');
                    sgs.push(px + e);
                }
            }
        }
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__["AsyncSubject"]();
        ret_subj.next(sgs);
        ret_subj.complete();
        return ret_subj;
    };
    SuggestionService.prototype.list = function (prefix) {
        console.log('suggestion list');
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__["AsyncSubject"]();
        var sgs = [];
        /*
        var _resourceUrl = this.RS + 'suggestion?'
            + '&prefix=' + prefix;
        */
        var _resourceUrl = 'http://maps.googleapis.com/maps/api/geocode/json?'
            + "address=" + prefix
            + "&sensor=" + false
            + "&language=" + 'ru'
            + "&components=" + 'country:ru';
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_3_rxjs_AsyncSubject__["AsyncSubject"]();
        this._http.get(_resourceUrl, {})
            .map(function (res) { return res.json(); }).subscribe(function (data) {
            var sgs = [];
            data.results.forEach(function (e) {
                var short_addr = [];
                e.address_components.forEach(function (ac) {
                    if (ac.types[0] == "street_number") {
                        short_addr[0] = "";
                        short_addr[1] = ac.short_name;
                    }
                    else if (ac.types[0] == "route") {
                        short_addr[0] = ac.short_name;
                    }
                    else if (ac.types[0] != "postal_code" && ac.types[0] != "country") {
                        short_addr.push(ac.short_name);
                    }
                });
                var ts = short_addr.join(", ");
                if (ts) {
                    sgs.push(ts);
                }
            });
            var arr = [];
            for (var i = 0; i < sgs.length; i++) {
                if (arr.indexOf(sgs[i]) == -1) {
                    arr.push(sgs[i]);
                }
            }
            ret_subj.next(arr);
            ret_subj.complete();
        }, function (err) { return console.log(err); });
        return ret_subj;
    };
    return SuggestionService;
}());
SuggestionService = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* Injectable */])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__config_service__["a" /* ConfigService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["c" /* Http */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["c" /* Http */]) === "function" && _b || Object])
], SuggestionService);

var _a, _b;
//# sourceMappingURL=suggestion.service.js.map

/***/ }),

/***/ "../../../../../src/app/service/task.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__class_task__ = __webpack_require__("../../../../../src/app/class/task.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TaskService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var TaskService = (function () {
    function TaskService() {
    }
    TaskService.prototype.getTasks = function (page, per_page) {
        return [];
    };
    TaskService.prototype.getRandomTask = function () {
        return new __WEBPACK_IMPORTED_MODULE_1__class_task__["a" /* Task */]();
    };
    return TaskService;
}());
TaskService = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* Injectable */])()
], TaskService);

//# sourceMappingURL=task.service.js.map

/***/ }),

/***/ "../../../../../src/app/service/upload.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__session_service__ = __webpack_require__("../../../../../src/app/service/session.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_AsyncSubject__ = __webpack_require__("../../../../rxjs/AsyncSubject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_AsyncSubject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_AsyncSubject__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_map__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UploadService; });
/**
 * Created by owl on 2/20/17.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var UploadService = (function () {
    function UploadService(_configService, _http, _sessionService) {
        this._configService = _configService;
        this._http = _http;
        this._sessionService = _sessionService;
        this.RS = "";
        this.RS = this._configService.getConfig().RESTServer + '/api/v1/upload/';
    }
    ;
    UploadService.prototype.uploadPhoto = function (postData, files, type) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Headers */]();
        var formData = new FormData();
        formData.append('files', files[0], files[0].name);
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_4_rxjs_AsyncSubject__["AsyncSubject"]();
        if (postData !== "" && postData !== undefined && postData !== null) {
            for (var property in postData) {
                if (postData.hasOwnProperty(property)) {
                    formData.append(property, postData[property]);
                }
            }
        }
        var _resourceUrl = this.RS + 'photo';
        var data_str = JSON.stringify({
            data: files[0],
            userId: this._sessionService.getUser().id,
            accountId: this._sessionService.getUser().accountId,
            type: type
        });
        this._http.post(_resourceUrl, data_str, { withCredentials: true })
            .map(function (res) { return res.json(); }).subscribe(function (data) {
            var url = data.result;
            ret_subj.next(url);
            ret_subj.complete();
        }, function (err) { return console.log(err); });
        return ret_subj;
    };
    UploadService.prototype.delete = function (fileName) {
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_4_rxjs_AsyncSubject__["AsyncSubject"]();
        var _resourceUrl = this.RS + 'delete';
        var data_str = JSON.stringify({ fileName: fileName });
        this._http.post(_resourceUrl, data_str, { withCredentials: true })
            .map(function (res) { return res.json(); }).subscribe(function (data) {
            var notFound = true;
            var p = data.result;
            // TODO: pass copy????
            ret_subj.next(p);
            ret_subj.complete();
        }, function (err) { return console.log(err); });
        return ret_subj;
    };
    return UploadService;
}());
UploadService = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* Injectable */])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_3__config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__config_service__["a" /* ConfigService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["c" /* Http */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["c" /* Http */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_2__session_service__["a" /* SessionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__session_service__["a" /* SessionService */]) === "function" && _c || Object])
], UploadService);

var _a, _b, _c;
//# sourceMappingURL=upload.service.js.map

/***/ }),

/***/ "../../../../../src/app/service/user.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_AsyncSubject__ = __webpack_require__("../../../../rxjs/AsyncSubject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_AsyncSubject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_AsyncSubject__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__config_service__ = __webpack_require__("../../../../../src/app/service/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__session_service__ = __webpack_require__("../../../../../src/app/service/session.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var UserService = (function () {
    function UserService(_http, _configService, _sessionService) {
        this._http = _http;
        this._configService = _configService;
        this._sessionService = _sessionService;
        this.RS = "";
        this.cache = {};
        this.RS = this._configService.getConfig().RESTServer + '/api/v1/user/';
    }
    ;
    UserService.prototype.listCached = function (role, superiorId, searchQuery) {
        return this.cache[role + superiorId + searchQuery];
    };
    UserService.prototype.list = function (role, superiorId, searchQuery) {
        var _this = this;
        console.log('user list');
        var query = [];
        var user = this._sessionService.getUser();
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_2_rxjs_AsyncSubject__["AsyncSubject"]();
        if (this.cache[role + superiorId + searchQuery] == null) {
            query.push("accountId=" + user.accountId);
            if (role) {
                query.push("role=" + role);
            }
            if (superiorId) {
                query.push("superiorId=" + superiorId.toString());
            }
            if (searchQuery) {
                query.push("searchQuery=" + searchQuery);
            }
            var _resourceUrl = this.RS + 'list?' + query.join("&");
            this._http.get(_resourceUrl, { withCredentials: true })
                .map(function (res) { return res.json(); }).subscribe(function (data) {
                var users = data.result;
                _this.cache[role + superiorId + searchQuery] = users;
                console.log(_this.cache);
                ret_subj.next(users);
                ret_subj.complete();
            }, function (err) { return console.log(err); });
        }
        else {
            var users = this.cache[role + superiorId + searchQuery];
            ret_subj.next(users);
            ret_subj.complete();
        }
        return ret_subj;
    };
    UserService.prototype.listX = function (accountId, role, superiorId, searchQuery) {
        console.log('user list');
        var query = [];
        if (accountId) {
            query.push("accountId=" + accountId);
        }
        if (role) {
            query.push("role=" + role);
        }
        if (superiorId) {
            query.push("superiorId=" + superiorId.toString());
        }
        if (searchQuery) {
            query.push("searchQuery=" + searchQuery);
        }
        var _resourceUrl = this.RS + 'list?' + query.join("&");
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_2_rxjs_AsyncSubject__["AsyncSubject"]();
        this._http.get(_resourceUrl, { withCredentials: true })
            .map(function (res) { return res.json(); }).subscribe(function (data) {
            var users = data.result;
            ret_subj.next(users);
            ret_subj.complete();
        }, function (err) { return console.log(err); });
        return ret_subj;
    };
    UserService.prototype.get = function (userId) {
        console.log('user get');
        var _resourceUrl = this.RS + 'get/' + userId;
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_2_rxjs_AsyncSubject__["AsyncSubject"]();
        this._http.get(_resourceUrl, { withCredentials: true })
            .map(function (res) { return res.json(); }).subscribe(function (data) {
            var u = data.result;
            // TODO: pass copy????
            ret_subj.next(u);
            ret_subj.complete();
        }, function (err) { return console.log(err); });
        return ret_subj;
    };
    UserService.prototype.save = function (user) {
        console.log('user save');
        var _user = this._sessionService.getUser();
        user.accountId = _user.accountId;
        var _resourceUrl = this.RS + 'save';
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_2_rxjs_AsyncSubject__["AsyncSubject"]();
        var data_str = JSON.stringify(user);
        this._http.post(_resourceUrl, data_str, { withCredentials: true })
            .map(function (res) { return res.json(); }).subscribe(function (data) {
            var u = data.result;
            // TODO: pass copy????
            ret_subj.next(u);
            ret_subj.complete();
        }, function (err) {
            console.log(err);
        });
        return ret_subj;
    };
    UserService.prototype.saveX = function (user) {
        console.log('user save');
        var _resourceUrl = this.RS + 'save';
        var ret_subj = new __WEBPACK_IMPORTED_MODULE_2_rxjs_AsyncSubject__["AsyncSubject"]();
        var data_str = JSON.stringify(user);
        this._http.post(_resourceUrl, data_str, { withCredentials: true })
            .map(function (res) { return res.json(); }).subscribe(function (data) {
            var u = data.result;
            // TODO: pass copy????
            ret_subj.next(u);
            ret_subj.complete();
        }, function (err) {
            console.log(err);
        });
        return ret_subj;
    };
    return UserService;
}());
UserService = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* Injectable */])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["c" /* Http */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["c" /* Http */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_3__config_service__["a" /* ConfigService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__config_service__["a" /* ConfigService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_4__session_service__["a" /* SessionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__session_service__["a" /* SessionService */]) === "function" && _c || Object])
], UserService);

var _a, _b, _c;
//# sourceMappingURL=user.service.js.map

/***/ }),

/***/ "../../../../../src/environments/environment.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
// The file contents for the current environment will overwrite these during build.
var environment = {
    production: false
};
//# sourceMappingURL=environment.js.map

/***/ }),

/***/ "../../../../../src/main.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__ = __webpack_require__("../../../platform-browser-dynamic/@angular/platform-browser-dynamic.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__app_app_module__ = __webpack_require__("../../../../../src/app/app.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__environments_environment__ = __webpack_require__("../../../../../src/environments/environment.ts");




if (__WEBPACK_IMPORTED_MODULE_3__environments_environment__["a" /* environment */].production || 1) {
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["a" /* enableProdMode */])();
}
__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__["a" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_2__app_app_module__["a" /* AppModule */]);
//# sourceMappingURL=main.js.map

/***/ }),

/***/ "../../../../moment/locale recursive ^\\.\\/.*$":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "../../../../moment/locale/af.js",
	"./af.js": "../../../../moment/locale/af.js",
	"./ar": "../../../../moment/locale/ar.js",
	"./ar-dz": "../../../../moment/locale/ar-dz.js",
	"./ar-dz.js": "../../../../moment/locale/ar-dz.js",
	"./ar-kw": "../../../../moment/locale/ar-kw.js",
	"./ar-kw.js": "../../../../moment/locale/ar-kw.js",
	"./ar-ly": "../../../../moment/locale/ar-ly.js",
	"./ar-ly.js": "../../../../moment/locale/ar-ly.js",
	"./ar-ma": "../../../../moment/locale/ar-ma.js",
	"./ar-ma.js": "../../../../moment/locale/ar-ma.js",
	"./ar-sa": "../../../../moment/locale/ar-sa.js",
	"./ar-sa.js": "../../../../moment/locale/ar-sa.js",
	"./ar-tn": "../../../../moment/locale/ar-tn.js",
	"./ar-tn.js": "../../../../moment/locale/ar-tn.js",
	"./ar.js": "../../../../moment/locale/ar.js",
	"./az": "../../../../moment/locale/az.js",
	"./az.js": "../../../../moment/locale/az.js",
	"./be": "../../../../moment/locale/be.js",
	"./be.js": "../../../../moment/locale/be.js",
	"./bg": "../../../../moment/locale/bg.js",
	"./bg.js": "../../../../moment/locale/bg.js",
	"./bn": "../../../../moment/locale/bn.js",
	"./bn.js": "../../../../moment/locale/bn.js",
	"./bo": "../../../../moment/locale/bo.js",
	"./bo.js": "../../../../moment/locale/bo.js",
	"./br": "../../../../moment/locale/br.js",
	"./br.js": "../../../../moment/locale/br.js",
	"./bs": "../../../../moment/locale/bs.js",
	"./bs.js": "../../../../moment/locale/bs.js",
	"./ca": "../../../../moment/locale/ca.js",
	"./ca.js": "../../../../moment/locale/ca.js",
	"./cs": "../../../../moment/locale/cs.js",
	"./cs.js": "../../../../moment/locale/cs.js",
	"./cv": "../../../../moment/locale/cv.js",
	"./cv.js": "../../../../moment/locale/cv.js",
	"./cy": "../../../../moment/locale/cy.js",
	"./cy.js": "../../../../moment/locale/cy.js",
	"./da": "../../../../moment/locale/da.js",
	"./da.js": "../../../../moment/locale/da.js",
	"./de": "../../../../moment/locale/de.js",
	"./de-at": "../../../../moment/locale/de-at.js",
	"./de-at.js": "../../../../moment/locale/de-at.js",
	"./de-ch": "../../../../moment/locale/de-ch.js",
	"./de-ch.js": "../../../../moment/locale/de-ch.js",
	"./de.js": "../../../../moment/locale/de.js",
	"./dv": "../../../../moment/locale/dv.js",
	"./dv.js": "../../../../moment/locale/dv.js",
	"./el": "../../../../moment/locale/el.js",
	"./el.js": "../../../../moment/locale/el.js",
	"./en-au": "../../../../moment/locale/en-au.js",
	"./en-au.js": "../../../../moment/locale/en-au.js",
	"./en-ca": "../../../../moment/locale/en-ca.js",
	"./en-ca.js": "../../../../moment/locale/en-ca.js",
	"./en-gb": "../../../../moment/locale/en-gb.js",
	"./en-gb.js": "../../../../moment/locale/en-gb.js",
	"./en-ie": "../../../../moment/locale/en-ie.js",
	"./en-ie.js": "../../../../moment/locale/en-ie.js",
	"./en-nz": "../../../../moment/locale/en-nz.js",
	"./en-nz.js": "../../../../moment/locale/en-nz.js",
	"./eo": "../../../../moment/locale/eo.js",
	"./eo.js": "../../../../moment/locale/eo.js",
	"./es": "../../../../moment/locale/es.js",
	"./es-do": "../../../../moment/locale/es-do.js",
	"./es-do.js": "../../../../moment/locale/es-do.js",
	"./es.js": "../../../../moment/locale/es.js",
	"./et": "../../../../moment/locale/et.js",
	"./et.js": "../../../../moment/locale/et.js",
	"./eu": "../../../../moment/locale/eu.js",
	"./eu.js": "../../../../moment/locale/eu.js",
	"./fa": "../../../../moment/locale/fa.js",
	"./fa.js": "../../../../moment/locale/fa.js",
	"./fi": "../../../../moment/locale/fi.js",
	"./fi.js": "../../../../moment/locale/fi.js",
	"./fo": "../../../../moment/locale/fo.js",
	"./fo.js": "../../../../moment/locale/fo.js",
	"./fr": "../../../../moment/locale/fr.js",
	"./fr-ca": "../../../../moment/locale/fr-ca.js",
	"./fr-ca.js": "../../../../moment/locale/fr-ca.js",
	"./fr-ch": "../../../../moment/locale/fr-ch.js",
	"./fr-ch.js": "../../../../moment/locale/fr-ch.js",
	"./fr.js": "../../../../moment/locale/fr.js",
	"./fy": "../../../../moment/locale/fy.js",
	"./fy.js": "../../../../moment/locale/fy.js",
	"./gd": "../../../../moment/locale/gd.js",
	"./gd.js": "../../../../moment/locale/gd.js",
	"./gl": "../../../../moment/locale/gl.js",
	"./gl.js": "../../../../moment/locale/gl.js",
	"./gom-latn": "../../../../moment/locale/gom-latn.js",
	"./gom-latn.js": "../../../../moment/locale/gom-latn.js",
	"./he": "../../../../moment/locale/he.js",
	"./he.js": "../../../../moment/locale/he.js",
	"./hi": "../../../../moment/locale/hi.js",
	"./hi.js": "../../../../moment/locale/hi.js",
	"./hr": "../../../../moment/locale/hr.js",
	"./hr.js": "../../../../moment/locale/hr.js",
	"./hu": "../../../../moment/locale/hu.js",
	"./hu.js": "../../../../moment/locale/hu.js",
	"./hy-am": "../../../../moment/locale/hy-am.js",
	"./hy-am.js": "../../../../moment/locale/hy-am.js",
	"./id": "../../../../moment/locale/id.js",
	"./id.js": "../../../../moment/locale/id.js",
	"./is": "../../../../moment/locale/is.js",
	"./is.js": "../../../../moment/locale/is.js",
	"./it": "../../../../moment/locale/it.js",
	"./it.js": "../../../../moment/locale/it.js",
	"./ja": "../../../../moment/locale/ja.js",
	"./ja.js": "../../../../moment/locale/ja.js",
	"./jv": "../../../../moment/locale/jv.js",
	"./jv.js": "../../../../moment/locale/jv.js",
	"./ka": "../../../../moment/locale/ka.js",
	"./ka.js": "../../../../moment/locale/ka.js",
	"./kk": "../../../../moment/locale/kk.js",
	"./kk.js": "../../../../moment/locale/kk.js",
	"./km": "../../../../moment/locale/km.js",
	"./km.js": "../../../../moment/locale/km.js",
	"./kn": "../../../../moment/locale/kn.js",
	"./kn.js": "../../../../moment/locale/kn.js",
	"./ko": "../../../../moment/locale/ko.js",
	"./ko.js": "../../../../moment/locale/ko.js",
	"./ky": "../../../../moment/locale/ky.js",
	"./ky.js": "../../../../moment/locale/ky.js",
	"./lb": "../../../../moment/locale/lb.js",
	"./lb.js": "../../../../moment/locale/lb.js",
	"./lo": "../../../../moment/locale/lo.js",
	"./lo.js": "../../../../moment/locale/lo.js",
	"./lt": "../../../../moment/locale/lt.js",
	"./lt.js": "../../../../moment/locale/lt.js",
	"./lv": "../../../../moment/locale/lv.js",
	"./lv.js": "../../../../moment/locale/lv.js",
	"./me": "../../../../moment/locale/me.js",
	"./me.js": "../../../../moment/locale/me.js",
	"./mi": "../../../../moment/locale/mi.js",
	"./mi.js": "../../../../moment/locale/mi.js",
	"./mk": "../../../../moment/locale/mk.js",
	"./mk.js": "../../../../moment/locale/mk.js",
	"./ml": "../../../../moment/locale/ml.js",
	"./ml.js": "../../../../moment/locale/ml.js",
	"./mr": "../../../../moment/locale/mr.js",
	"./mr.js": "../../../../moment/locale/mr.js",
	"./ms": "../../../../moment/locale/ms.js",
	"./ms-my": "../../../../moment/locale/ms-my.js",
	"./ms-my.js": "../../../../moment/locale/ms-my.js",
	"./ms.js": "../../../../moment/locale/ms.js",
	"./my": "../../../../moment/locale/my.js",
	"./my.js": "../../../../moment/locale/my.js",
	"./nb": "../../../../moment/locale/nb.js",
	"./nb.js": "../../../../moment/locale/nb.js",
	"./ne": "../../../../moment/locale/ne.js",
	"./ne.js": "../../../../moment/locale/ne.js",
	"./nl": "../../../../moment/locale/nl.js",
	"./nl-be": "../../../../moment/locale/nl-be.js",
	"./nl-be.js": "../../../../moment/locale/nl-be.js",
	"./nl.js": "../../../../moment/locale/nl.js",
	"./nn": "../../../../moment/locale/nn.js",
	"./nn.js": "../../../../moment/locale/nn.js",
	"./pa-in": "../../../../moment/locale/pa-in.js",
	"./pa-in.js": "../../../../moment/locale/pa-in.js",
	"./pl": "../../../../moment/locale/pl.js",
	"./pl.js": "../../../../moment/locale/pl.js",
	"./pt": "../../../../moment/locale/pt.js",
	"./pt-br": "../../../../moment/locale/pt-br.js",
	"./pt-br.js": "../../../../moment/locale/pt-br.js",
	"./pt.js": "../../../../moment/locale/pt.js",
	"./ro": "../../../../moment/locale/ro.js",
	"./ro.js": "../../../../moment/locale/ro.js",
	"./ru": "../../../../moment/locale/ru.js",
	"./ru.js": "../../../../moment/locale/ru.js",
	"./sd": "../../../../moment/locale/sd.js",
	"./sd.js": "../../../../moment/locale/sd.js",
	"./se": "../../../../moment/locale/se.js",
	"./se.js": "../../../../moment/locale/se.js",
	"./si": "../../../../moment/locale/si.js",
	"./si.js": "../../../../moment/locale/si.js",
	"./sk": "../../../../moment/locale/sk.js",
	"./sk.js": "../../../../moment/locale/sk.js",
	"./sl": "../../../../moment/locale/sl.js",
	"./sl.js": "../../../../moment/locale/sl.js",
	"./sq": "../../../../moment/locale/sq.js",
	"./sq.js": "../../../../moment/locale/sq.js",
	"./sr": "../../../../moment/locale/sr.js",
	"./sr-cyrl": "../../../../moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "../../../../moment/locale/sr-cyrl.js",
	"./sr.js": "../../../../moment/locale/sr.js",
	"./ss": "../../../../moment/locale/ss.js",
	"./ss.js": "../../../../moment/locale/ss.js",
	"./sv": "../../../../moment/locale/sv.js",
	"./sv.js": "../../../../moment/locale/sv.js",
	"./sw": "../../../../moment/locale/sw.js",
	"./sw.js": "../../../../moment/locale/sw.js",
	"./ta": "../../../../moment/locale/ta.js",
	"./ta.js": "../../../../moment/locale/ta.js",
	"./te": "../../../../moment/locale/te.js",
	"./te.js": "../../../../moment/locale/te.js",
	"./tet": "../../../../moment/locale/tet.js",
	"./tet.js": "../../../../moment/locale/tet.js",
	"./th": "../../../../moment/locale/th.js",
	"./th.js": "../../../../moment/locale/th.js",
	"./tl-ph": "../../../../moment/locale/tl-ph.js",
	"./tl-ph.js": "../../../../moment/locale/tl-ph.js",
	"./tlh": "../../../../moment/locale/tlh.js",
	"./tlh.js": "../../../../moment/locale/tlh.js",
	"./tr": "../../../../moment/locale/tr.js",
	"./tr.js": "../../../../moment/locale/tr.js",
	"./tzl": "../../../../moment/locale/tzl.js",
	"./tzl.js": "../../../../moment/locale/tzl.js",
	"./tzm": "../../../../moment/locale/tzm.js",
	"./tzm-latn": "../../../../moment/locale/tzm-latn.js",
	"./tzm-latn.js": "../../../../moment/locale/tzm-latn.js",
	"./tzm.js": "../../../../moment/locale/tzm.js",
	"./uk": "../../../../moment/locale/uk.js",
	"./uk.js": "../../../../moment/locale/uk.js",
	"./ur": "../../../../moment/locale/ur.js",
	"./ur.js": "../../../../moment/locale/ur.js",
	"./uz": "../../../../moment/locale/uz.js",
	"./uz-latn": "../../../../moment/locale/uz-latn.js",
	"./uz-latn.js": "../../../../moment/locale/uz-latn.js",
	"./uz.js": "../../../../moment/locale/uz.js",
	"./vi": "../../../../moment/locale/vi.js",
	"./vi.js": "../../../../moment/locale/vi.js",
	"./x-pseudo": "../../../../moment/locale/x-pseudo.js",
	"./x-pseudo.js": "../../../../moment/locale/x-pseudo.js",
	"./yo": "../../../../moment/locale/yo.js",
	"./yo.js": "../../../../moment/locale/yo.js",
	"./zh-cn": "../../../../moment/locale/zh-cn.js",
	"./zh-cn.js": "../../../../moment/locale/zh-cn.js",
	"./zh-hk": "../../../../moment/locale/zh-hk.js",
	"./zh-hk.js": "../../../../moment/locale/zh-hk.js",
	"./zh-tw": "../../../../moment/locale/zh-tw.js",
	"./zh-tw.js": "../../../../moment/locale/zh-tw.js"
};
function webpackContext(req) {
	return __webpack_require__(webpackContextResolve(req));
};
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) // check for number or string
		throw new Error("Cannot find module '" + req + "'.");
	return id;
};
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "../../../../moment/locale recursive ^\\.\\/.*$";

/***/ }),

/***/ 0:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("../../../../../src/main.ts");


/***/ })

},[0]);
//# sourceMappingURL=main.bundle.js.map